module.exports=[58871,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac=a.i(273404),ad=a.i(655261),ae=function(a,b){return(ae=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function af(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}ae(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var ag=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ah=new function(){this.browser=new ag,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(ah.wxa=!0,ah.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?ah.worker=!0:"undefined"==typeof navigator||0===navigator.userAgent.indexOf("Node.js")?(ah.node=!0,ah.svgSupported=!0):(b=navigator.userAgent,d=(c=ah).browser,e=b.match(/Firefox\/([\d.]+)/),f=b.match(/MSIE\s([\d.]+)/)||b.match(/Trident\/.+?rv:(([\d.]+))/),g=b.match(/Edge?\/([\d.]+)/),h=/micromessenger/i.test(b),e&&(d.firefox=!0,d.version=e[1]),f&&(d.ie=!0,d.version=f[1]),g&&(d.edge=!0,d.version=g[1],d.newEdge=+g[1].split(".")[0]>18),h&&(d.weChat=!0),c.svgSupported="undefined"!=typeof SVGRect,c.touchEventsSupported="ontouchstart"in window&&!d.ie&&!d.edge,c.pointerEventsSupported="onpointerdown"in window&&(d.edge||d.ie&&+d.version>=11),c.domSupported="undefined"!=typeof document,i=document.documentElement.style,c.transform3dSupported=(d.ie&&"transition"in i||d.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in i)&&!("OTransition"in i),c.transformSupported=c.transform3dSupported||d.ie&&+d.version>=9);var ai="sans-serif",aj="12px "+ai,ak=function(a){var b={};if("undefined"==typeof JSON)return b;for(var c=0;c<a.length;c++){var d=String.fromCharCode(c+32),e=(a.charCodeAt(c)-20)/100;b[d]=e}return b}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),al={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(a,b){if(!j){var c=al.createCanvas();j=c&&c.getContext("2d")}if(j)return k!==b&&(k=j.font=b||aj),j.measureText(a);a=a||"",b=b||aj;var d=/(\d+)px/.exec(b),e=d&&+d[1]||12,f=0;if(b.indexOf("mono")>=0)f=e*a.length;else for(var g=0;g<a.length;g++){var h=ak[a[g]];f+=null==h?e:h*e}return{width:f}},loadImage:function(a,b,c){var d=new Image;return d.onload=b,d.onerror=c,d.src=a,d}},am=aJ(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,b){return a["[object "+b+"]"]=!0,a},{}),an=aJ(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,b){return a["[object "+b+"Array]"]=!0,a},{}),ao=Object.prototype.toString,ap=Array.prototype,aq=ap.forEach,ar=ap.filter,as=ap.slice,at=ap.map,au=(function(){}).constructor,av=au?au.prototype:null,aw="__proto__",ax=2311;function ay(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];"undefined"!=typeof console&&console.error.apply(console,a)}function az(a){if(null==a||"object"!=typeof a)return a;var b=a,c=ao.call(a);if("[object Array]"===c){if(!a[a3]){b=[];for(var d=0,e=a.length;d<e;d++)b[d]=az(a[d])}}else if(an[c]){if(!a[a3]){var f=a.constructor;if(f.from)b=f.from(a);else{b=new f(a.length);for(var d=0,e=a.length;d<e;d++)b[d]=a[d]}}}else if(!am[c]&&!a[a3]&&!aW(a))for(var g in b={},a)a.hasOwnProperty(g)&&g!==aw&&(b[g]=az(a[g]));return b}function aA(a,b,c){if(!aT(b)||!aT(a))return c?az(b):a;for(var d in b)if(b.hasOwnProperty(d)&&d!==aw){var e=a[d],f=b[d];!(aT(f)&&aT(e))||aO(f)||aO(e)||aW(f)||aW(e)||aU(f)||aU(e)||f[a3]||e[a3]?!c&&d in a||(a[d]=az(b[d])):aA(e,f,c)}return a}function aB(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=aA(c,a[d],b);return c}function aC(a,b){return Object.assign(a,b),a}function aD(a,b,c){for(var d=aL(b),e=0;e<d.length;e++){var f=d[e];(c?null!=b[f]:null==a[f])&&(a[f]=b[f])}return a}function aE(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return -1}function aF(a,b,c){if(a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,Object.getOwnPropertyNames)for(var d=Object.getOwnPropertyNames(b),e=0;e<d.length;e++){var f=d[e];"constructor"!==f&&(c?null!=b[f]:null==a[f])&&(a[f]=b[f])}else aD(a,b,c)}function aG(a){return!!a&&"string"!=typeof a&&"number"==typeof a.length}function aH(a,b,c){if(a&&b)if(a.forEach&&a.forEach===aq)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f,a)}function aI(a,b,c){if(!a)return[];if(!b)return a_(a);if(a.map&&a.map===at)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}function aJ(a,b,c,d){if(a&&b){for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function aK(a,b,c){if(!a)return[];if(!b)return a_(a);if(a.filter&&a.filter===ar)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}function aL(a){if(!a)return[];if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}al.createCanvas;var aM=av&&aP(av.bind)?av.call.bind(av.bind):function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return function(){return a.apply(b,c.concat(as.call(arguments)))}};function aN(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return function(){return a.apply(this,b.concat(as.call(arguments)))}}function aO(a){return Array.isArray?Array.isArray(a):"[object Array]"===ao.call(a)}function aP(a){return"function"==typeof a}function aQ(a){return"string"==typeof a}function aR(a){return"[object String]"===ao.call(a)}function aS(a){return"number"==typeof a}function aT(a){var b=typeof a;return"function"===b||!!a&&"object"===b}function aU(a){return!!am[ao.call(a)]}function aV(a){return!!an[ao.call(a)]}function aW(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function aX(a){return null!=a.colorStops}function aY(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0,d=a.length;c<d;c++)if(null!=a[c])return a[c]}function aZ(a,b){return null!=a?a:b}function a$(a,b,c){return null!=a?a:null!=b?b:c}function a_(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return as.apply(a,b)}function a0(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function a1(a,b){if(!a)throw Error(b)}function a2(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var a3="__ec_primitive__",a4=function(){function a(){this.data={}}return a.prototype.delete=function(a){var b=this.has(a);return b&&delete this.data[a],b},a.prototype.has=function(a){return this.data.hasOwnProperty(a)},a.prototype.get=function(a){return this.data[a]},a.prototype.set=function(a,b){return this.data[a]=b,this},a.prototype.keys=function(){return aL(this.data)},a.prototype.forEach=function(a){var b=this.data;for(var c in b)b.hasOwnProperty(c)&&a(b[c],c)},a}(),a5="function"==typeof Map,a6=function(){function a(b){var c=aO(b);this.data=a5?new Map:new a4;var d=this;function e(a,b){c?d.set(a,b):d.set(b,a)}b instanceof a?b.each(e):b&&aH(b,e)}return a.prototype.hasKey=function(a){return this.data.has(a)},a.prototype.get=function(a){return this.data.get(a)},a.prototype.set=function(a,b){return this.data.set(a,b),b},a.prototype.each=function(a,b){this.data.forEach(function(c,d){a.call(b,c,d)})},a.prototype.keys=function(){var a=this.data.keys();return a5?Array.from(a):a},a.prototype.removeKey=function(a){this.data.delete(a)},a}();function a7(a){return new a6(a)}function a8(a,b){for(var c=new a.constructor(a.length+b.length),d=0;d<a.length;d++)c[d]=a[d];for(var e=a.length,d=0;d<b.length;d++)c[d+e]=b[d];return c}function a9(a,b){var c;if(Object.create)c=Object.create(a);else{var d=function(){};d.prototype=a,c=new d}return b&&aC(c,b),c}function ba(a){var b=a.style;b.webkitUserSelect="none",b.userSelect="none",b.webkitTapHighlightColor="rgba(0,0,0,0)",b["-webkit-touch-callout"]="none"}function bb(a,b){return a.hasOwnProperty(b)}function bc(){}var bd=180/Math.PI,be=function(a,b){return(be=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function bf(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}be(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function bg(a,b){return null==a&&(a=0),null==b&&(b=0),[a,b]}function bh(a,b){return a[0]=b[0],a[1]=b[1],a}function bi(a){return[a[0],a[1]]}function bj(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function bk(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function bl(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function bm(a){var b;return Math.sqrt((b=a)[0]*b[0]+b[1]*b[1])}function bn(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function bo(a,b){var c=bm(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function bp(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}var bq=function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])};function br(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a}function bs(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}function bt(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function bu(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}var bv=function(a,b){this.target=a,this.topTarget=b&&b.topTarget},bw=function(){function a(a){this.handler=a,a.on("mousedown",this._dragStart,this),a.on("mousemove",this._drag,this),a.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(a){for(var b=a.target;b&&!b.draggable;)b=b.parent||b.__hostTarget;b&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.handler.dispatchToElement(new bv(b,a),"dragstart",a.event))},a.prototype._drag=function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c,this._y=d,b.drift(e,f,a),this.handler.dispatchToElement(new bv(b,a),"drag",a.event);var g=this.handler.findHover(c,d,b).target,h=this._dropTarget;this._dropTarget=g,b!==g&&(h&&g!==h&&this.handler.dispatchToElement(new bv(h,a),"dragleave",a.event),g&&g!==h&&this.handler.dispatchToElement(new bv(g,a),"dragenter",a.event))}},a.prototype._dragEnd=function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.handler.dispatchToElement(new bv(b,a),"dragend",a.event),this._dropTarget&&this.handler.dispatchToElement(new bv(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null},a}(),bx=function(){function a(a){a&&(this._$eventProcessor=a)}return a.prototype.on=function(a,b,c,d){this._$handlers||(this._$handlers={});var e=this._$handlers;if("function"==typeof b&&(d=c,c=b,b=null),!c||!a)return this;var f=this._$eventProcessor;null!=b&&f&&f.normalizeQuery&&(b=f.normalizeQuery(b)),e[a]||(e[a]=[]);for(var g=0;g<e[a].length;g++)if(e[a][g].h===c)return this;var h={h:c,query:b,ctx:d||this,callAtLast:c.zrEventfulCallAtLast},i=e[a].length-1,j=e[a][i];return j&&j.callAtLast?e[a].splice(i,0,h):e[a].push(h),this},a.prototype.isSilent=function(a){var b=this._$handlers;return!b||!b[a]||!b[a].length},a.prototype.off=function(a,b){var c=this._$handlers;if(!c)return this;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!==b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},a.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(!this._$handlers)return this;var d=this._$handlers[a],e=this._$eventProcessor;if(d)for(var f=b.length,g=d.length,h=0;h<g;h++){var i=d[h];if(!e||!e.filter||null==i.query||e.filter(a,i.query))switch(f){case 0:i.h.call(i.ctx);break;case 1:i.h.call(i.ctx,b[0]);break;case 2:i.h.call(i.ctx,b[0],b[1]);break;default:i.h.apply(i.ctx,b)}}return e&&e.afterTrigger&&e.afterTrigger(a),this},a.prototype.triggerWithContext=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(!this._$handlers)return this;var d=this._$handlers[a],e=this._$eventProcessor;if(d)for(var f=b.length,g=b[f-1],h=d.length,i=0;i<h;i++){var j=d[i];if(!e||!e.filter||null==j.query||e.filter(a,j.query))switch(f){case 0:j.h.call(g);break;case 1:j.h.call(g,b[0]);break;case 2:j.h.call(g,b[0],b[1]);break;default:j.h.apply(g,b.slice(1,f-1))}}return e&&e.afterTrigger&&e.afterTrigger(a),this},a}(),by=Math.log(2);function bz(a,b,c,d,e,f){var g=d+"-"+e,h=a.length;if(f.hasOwnProperty(g))return f[g];if(1===b){var i=Math.round(Math.log((1<<h)-1&~e)/by);return a[c][i]}for(var j=d|1<<c,k=c+1;d&1<<k;)k++;for(var l=0,m=0,n=0;m<h;m++){var o=1<<m;!(o&e)&&(l+=(n%2?-1:1)*a[c][m]*bz(a,b-1,k,j,e|o,f),n++)}return f[g]=l,l}function bA(a,b){var c=[[a[0],a[1],1,0,0,0,-b[0]*a[0],-b[0]*a[1]],[0,0,0,a[0],a[1],1,-b[1]*a[0],-b[1]*a[1]],[a[2],a[3],1,0,0,0,-b[2]*a[2],-b[2]*a[3]],[0,0,0,a[2],a[3],1,-b[3]*a[2],-b[3]*a[3]],[a[4],a[5],1,0,0,0,-b[4]*a[4],-b[4]*a[5]],[0,0,0,a[4],a[5],1,-b[5]*a[4],-b[5]*a[5]],[a[6],a[7],1,0,0,0,-b[6]*a[6],-b[6]*a[7]],[0,0,0,a[6],a[7],1,-b[7]*a[6],-b[7]*a[7]]],d={},e=bz(c,8,0,0,0,d);if(0!==e){for(var f=[],g=0;g<8;g++)for(var h=0;h<8;h++)null==f[h]&&(f[h]=0),f[h]+=((g+h)%2?-1:1)*bz(c,7,+(0===g),1<<g,1<<h,d)/e*b[g];return function(a,b,c){var d=b*f[6]+c*f[7]+1;a[0]=(b*f[0]+c*f[1]+f[2])/d,a[1]=(b*f[3]+c*f[4]+f[5])/d}}}var bB="___zrEVENTSAVED",bC=[];function bD(a,b,c,d,e){if(b.getBoundingClientRect&&ah.domSupported&&!bE(b)){var f=b[bB]||(b[bB]={}),g=function(a,b,c){for(var d=c?"invTrans":"trans",e=b[d],f=b.srcCoords,g=[],h=[],i=!0,j=0;j<4;j++){var k=a[j].getBoundingClientRect(),l=2*j,m=k.left,n=k.top;g.push(m,n),i=i&&f&&m===f[l]&&n===f[l+1],h.push(a[j].offsetLeft,a[j].offsetTop)}return i&&e?e:(b.srcCoords=g,b[d]=c?bA(h,g):bA(g,h))}(function(a,b){var c=b.markers;if(c)return c;c=b.markers=[];for(var d=["left","right"],e=["top","bottom"],f=0;f<4;f++){var g=document.createElement("div"),h=g.style,i=f%2,j=(f>>1)%2;h.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",d[i]+":0",e[j]+":0",d[1-i]+":auto",e[1-j]+":auto",""].join("!important;"),a.appendChild(g),c.push(g)}return c}(b,f),f,e);if(g)return g(a,c,d),!0}return!1}function bE(a){return"CANVAS"===a.nodeName.toUpperCase()}var bF=/([&<>"'])/g,bG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bH(a){return null==a?"":(a+"").replace(bF,function(a,b){return bG[b]})}var bI=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bJ=[],bK=ah.browser.firefox&&39>+ah.browser.version.split(".")[0];function bL(a,b,c,d){return c=c||{},d?bM(a,b,c):bK&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):bM(a,b,c),c}function bM(a,b,c){if(ah.domSupported&&a.getBoundingClientRect){var d=b.clientX,e=b.clientY;if(bE(a)){var f=a.getBoundingClientRect();c.zrX=d-f.left,c.zrY=e-f.top;return}if(bD(bJ,a,d,e)){c.zrX=bJ[0],c.zrY=bJ[1];return}}c.zrX=c.zrY=0}function bN(a){return a||window.event}function bO(a,b,c){if(null!=(b=bN(b)).zrX)return b;var d=b.type;if(d&&d.indexOf("touch")>=0){var e="touchend"!==d?b.targetTouches[0]:b.changedTouches[0];e&&bL(a,e,b,c)}else{bL(a,b,b,c);var f=function(a){var b=a.wheelDelta;if(b)return b;var c=a.deltaX,d=a.deltaY;return null==c||null==d?b:3*(0!==d?Math.abs(d):Math.abs(c))*(d>0?-1:d<0?1:c>0?-1:1)}(b);b.zrDelta=f?f/120:-(b.detail||0)/3}var g=b.button;return null==b.which&&void 0!==g&&bI.test(b.type)&&(b.which=1&g?1:2&g?3:4&g?2:0),b}function bP(a,b,c,d){a.addEventListener(b,c,d)}var bQ=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function bR(a){return 2===a.which||3===a.which}var bS=function(){function a(){this._track=[]}return a.prototype.recognize=function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(a,b,c){var d=a.touches;if(d){for(var e={points:[],touches:[],target:b,event:a},f=0,g=d.length;f<g;f++){var h=d[f],i=bL(c,h,{});e.points.push([i.zrX,i.zrY]),e.touches.push(h)}this._track.push(e)}},a.prototype._recognize=function(a){for(var b in bU)if(bU.hasOwnProperty(b)){var c=bU[b](this._track,a);if(c)return c}},a}();function bT(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}var bU={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points,e=(a[c-2]||{}).points||d;if(e&&e.length>1&&d&&d.length>1){var f=bT(d)/bT(e);isFinite(f)||(f=1),b.pinchScale=f;var g=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2];return b.pinchX=g[0],b.pinchY=g[1],{type:"pinch",target:a[0].target,event:b}}}}};function bV(){return[1,0,0,1,0,0]}function bW(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function bX(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function bY(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a}function bZ(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function b$(a,b,c,d){void 0===d&&(d=[0,0]);var e=b[0],f=b[2],g=b[4],h=b[1],i=b[3],j=b[5],k=Math.sin(c),l=Math.cos(c);return a[0]=e*l+h*k,a[1]=-e*k+h*l,a[2]=f*l+i*k,a[3]=-f*k+l*i,a[4]=l*(g-d[0])+k*(j-d[1])+d[0],a[5]=l*(j-d[1])-k*(g-d[0])+d[1],a}function b_(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a}function b0(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}var b1=function(){function a(a,b){this.x=a||0,this.y=b||0}return a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.equal=function(a){return a.x===this.x&&a.y===this.y},a.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},a.prototype.scale=function(a){this.x*=a,this.y*=a},a.prototype.scaleAndAdd=function(a,b){this.x+=a.x*b,this.y+=a.y*b},a.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},a.prototype.dot=function(a){return this.x*a.x+this.y*a.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var a=this.len();return this.x/=a,this.y/=a,this},a.prototype.distance=function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},a.prototype.distanceSquare=function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(a){if(a){var b=this.x,c=this.y;return this.x=a[0]*b+a[2]*c+a[4],this.y=a[1]*b+a[3]*c+a[5],this}},a.prototype.toArray=function(a){return a[0]=this.x,a[1]=this.y,a},a.prototype.fromArray=function(a){this.x=a[0],this.y=a[1]},a.set=function(a,b,c){a.x=b,a.y=c},a.copy=function(a,b){a.x=b.x,a.y=b.y},a.len=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},a.lenSquare=function(a){return a.x*a.x+a.y*a.y},a.dot=function(a,b){return a.x*b.x+a.y*b.y},a.add=function(a,b,c){a.x=b.x+c.x,a.y=b.y+c.y},a.sub=function(a,b,c){a.x=b.x-c.x,a.y=b.y-c.y},a.scale=function(a,b,c){a.x=b.x*c,a.y=b.y*c},a.scaleAndAdd=function(a,b,c,d){a.x=b.x+c.x*d,a.y=b.y+c.y*d},a.lerp=function(a,b,c,d){var e=1-d;a.x=e*b.x+d*c.x,a.y=e*b.y+d*c.y},a}(),b2=Math.min,b3=Math.max,b4=new b1,b5=new b1,b6=new b1,b7=new b1,b8=new b1,b9=new b1,ca=function(){function a(a,b,c,d){c<0&&(a+=c,c=-c),d<0&&(b+=d,d=-d),this.x=a,this.y=b,this.width=c,this.height=d}return a.prototype.union=function(a){var b=b2(a.x,this.x),c=b2(a.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=b3(a.x+a.width,this.x+this.width)-b:this.width=a.width,isFinite(this.y)&&isFinite(this.height)?this.height=b3(a.y+a.height,this.y+this.height)-c:this.height=a.height,this.x=b,this.y=c},a.prototype.applyTransform=function(b){a.applyTransform(this,this,b)},a.prototype.calculateTransform=function(a){var b=a.width/this.width,c=a.height/this.height,d=bV();return bZ(d,d,[-this.x,-this.y]),b_(d,d,[b,c]),bZ(d,d,[a.x,a.y]),d},a.prototype.intersect=function(b,c){if(!b)return!1;b instanceof a||(b=a.create(b));var d=this.x,e=this.x+this.width,f=this.y,g=this.y+this.height,h=b.x,i=b.x+b.width,j=b.y,k=b.y+b.height,l=!(e<h||i<d||g<j||k<f);if(c){var m=1/0,n=0,o=Math.abs(e-h),p=Math.abs(i-d),q=Math.abs(g-j),r=Math.abs(k-f),s=Math.min(o,p),t=Math.min(q,r);e<h||i<d?s>n&&(n=s,o<p?b1.set(b9,-o,0):b1.set(b9,p,0)):s<m&&(m=s,o<p?b1.set(b8,o,0):b1.set(b8,-p,0)),g<j||k<f?t>n&&(n=t,q<r?b1.set(b9,0,-q):b1.set(b9,0,r)):s<m&&(m=s,q<r?b1.set(b8,0,q):b1.set(b8,0,-r))}return c&&b1.copy(c,l?b8:b9),l},a.prototype.contain=function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(b){a.copy(this,b)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return 0===this.width||0===this.height},a.create=function(b){return new a(b.x,b.y,b.width,b.height)},a.copy=function(a,b){a.x=b.x,a.y=b.y,a.width=b.width,a.height=b.height},a.applyTransform=function(b,c,d){if(!d){b!==c&&a.copy(b,c);return}if(d[1]<1e-5&&d[1]>-1e-5&&d[2]<1e-5&&d[2]>-1e-5){var e=d[0],f=d[3],g=d[4],h=d[5];b.x=c.x*e+g,b.y=c.y*f+h,b.width=c.width*e,b.height=c.height*f,b.width<0&&(b.x+=b.width,b.width=-b.width),b.height<0&&(b.y+=b.height,b.height=-b.height);return}b4.x=b6.x=c.x,b4.y=b7.y=c.y,b5.x=b7.x=c.x+c.width,b5.y=b6.y=c.y+c.height,b4.transform(d),b7.transform(d),b5.transform(d),b6.transform(d),b.x=b2(b4.x,b5.x,b6.x,b7.x),b.y=b2(b4.y,b5.y,b6.y,b7.y);var i=b3(b4.x,b5.x,b6.x,b7.x),j=b3(b4.y,b5.y,b6.y,b7.y);b.width=i-b.x,b.height=j-b.y},a}(),cb="silent";function cc(){bQ(this.event)}var cd=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.handler=null,b}return bf(b,a),b.prototype.dispose=function(){},b.prototype.setCursor=function(){},b}(bx),ce=function(a,b){this.x=a,this.y=b},cf=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],cg=new ca(0,0,0,0),ch=function(a){function b(b,c,d,e,f){var g=a.call(this)||this;return g._hovered=new ce(0,0),g.storage=b,g.painter=c,g.painterRoot=e,g._pointerSize=f,d=d||new cd,g.proxy=null,g.setHandlerProxy(d),g._draggingMgr=new bw(g),g}return bf(b,a),b.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(aH(cf,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this),this.proxy=a},b.prototype.mousemove=function(a){var b=a.zrX,c=a.zrY,d=cj(this,b,c),e=this._hovered,f=e.target;f&&!f.__zr&&(f=(e=this.findHover(e.x,e.y)).target);var g=this._hovered=d?new ce(b,c):this.findHover(b,c),h=g.target,i=this.proxy;i.setCursor&&i.setCursor(h?h.cursor:"default"),f&&h!==f&&this.dispatchToElement(e,"mouseout",a),this.dispatchToElement(g,"mousemove",a),h&&h!==f&&this.dispatchToElement(g,"mouseover",a)},b.prototype.mouseout=function(a){var b=a.zrEventControl;"only_globalout"!==b&&this.dispatchToElement(this._hovered,"mouseout",a),"no_globalout"!==b&&this.trigger("globalout",{type:"globalout",event:a})},b.prototype.resize=function(){this._hovered=new ce(0,0)},b.prototype.dispatch=function(a,b){var c=this[a];c&&c.call(this,b)},b.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},b.prototype.setCursorStyle=function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},b.prototype.dispatchToElement=function(a,b,c){var d=(a=a||{}).target;if(!d||!d.silent){for(var e,f="on"+b,g={type:b,event:c,target:(e=a).target,topTarget:e.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:cc};d&&(d[f]&&(g.cancelBubble=!!d[f].call(d,g)),d.trigger(b,g),d=d.__hostTarget?d.__hostTarget:d.parent,!g.cancelBubble););!g.cancelBubble&&(this.trigger(b,g),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(a){"function"==typeof a[f]&&a[f].call(a,g),a.trigger&&a.trigger(b,g)}))}},b.prototype.findHover=function(a,b,c){var d=this.storage.getDisplayList(),e=new ce(a,b);if(ci(d,e,a,b,c),this._pointerSize&&!e.target){for(var f=[],g=this._pointerSize,h=g/2,i=new ca(a-h,b-h,g,g),j=d.length-1;j>=0;j--){var k=d[j];k===c||k.ignore||k.ignoreCoarsePointer||k.parent&&k.parent.ignoreCoarsePointer||(cg.copy(k.getBoundingRect()),k.transform&&cg.applyTransform(k.transform),cg.intersect(i)&&f.push(k))}if(f.length){for(var l=Math.PI/12,m=2*Math.PI,n=0;n<h;n+=4)for(var o=0;o<m;o+=l)if(ci(f,e,a+n*Math.cos(o),b+n*Math.sin(o),c),e.target)return e}}return e},b.prototype.processGesture=function(a,b){this._gestureMgr||(this._gestureMgr=new bS);var c=this._gestureMgr;"start"===b&&c.clear();var d=c.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if("end"===b&&c.clear(),d){var e=d.type;a.gestureEvent=e;var f=new ce;f.target=d.target,this.dispatchToElement(f,e,d.event)}},b}(bx);function ci(a,b,c,d,e){for(var f=a.length-1;f>=0;f--){var g=a[f],h=void 0;if(g!==e&&!g.ignore&&(h=function(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d=a,e=void 0,f=!1;d;){if(d.ignoreClip&&(f=!0),!f){var g=d.getClipPath();if(g&&!g.contain(b,c))return!1}d.silent&&(e=!0),d=d.__hostTarget||d.parent}return!e||cb}return!1}(g,c,d))&&(b.topTarget||(b.topTarget=g),h!==cb)){b.target=g;break}}}function cj(a,b,c){var d=a.painter;return b<0||b>d.getWidth()||c<0||c>d.getHeight()}function ck(a,b,c,d){var e=b+1;if(e===c)return 1;if(0>d(a[e++],a[b])){for(;e<c&&0>d(a[e],a[e-1]);)e++;var f=a,g=b,h=e;for(h--;g<h;){var i=f[g];f[g++]=f[h],f[h--]=i}}else for(;e<c&&d(a[e],a[e-1])>=0;)e++;return e-b}function cl(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f,g=a[d],h=b,i=d;h<i;)0>e(g,a[f=h+i>>>1])?i=f:h=f+1;var j=d-h;switch(j){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;j>0;)a[h+j]=a[h+j-1],j--}a[h]=g}}function cm(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])>0){for(h=d-e;i<h&&f(a,b[c+e+i])>0;)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}else{for(h=e+1;i<h&&0>=f(a,b[c+e-i]);)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}for(g++;g<i;){var k=g+(i-g>>>1);f(a,b[c+k])>0?g=k+1:i=k}return i}function cn(a,b,c,d,e,f){var g=0,h=0,i=1;if(0>f(a,b[c+e])){for(h=e+1;i<h&&0>f(a,b[c+e-i]);)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}else{for(h=d-e;i<h&&f(a,b[c+e+i])>=0;)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}for(g++;g<i;){var k=g+(i-g>>>1);0>f(a,b[c+k])?i=k:g=k+1}return i}function co(a,b,c,d){c||(c=0),d||(d=a.length);var e=d-c;if(!(e<2)){var f=0;if(e<32){f=ck(a,c,d,b),cl(a,c,d,c+f,b);return}var g=function(a,b){var c,d,e=7,f=0,g=[];function h(h){var i=c[h],j=d[h],k=c[h+1],l=d[h+1];d[h]=j+l,h===f-3&&(c[h+1]=c[h+2],d[h+1]=d[h+2]),f--;var m=cn(a[k],a,i,j,0,b);i+=m,0==(j-=m)||0!==(l=cm(a[i+j-1],a,k,l,l-1,b))&&(j<=l?function(c,d,f,h){var i,j,k,l=0;for(l=0;l<d;l++)g[l]=a[c+l];var m=0,n=f,o=c;if(a[o++]=a[n++],0==--h){for(l=0;l<d;l++)a[o+l]=g[m+l];return}if(1===d){for(l=0;l<h;l++)a[o+l]=a[n+l];a[o+h]=g[m];return}for(var p=e;;){i=0,j=0,k=!1;do if(0>b(a[n],g[m])){if(a[o++]=a[n++],j++,i=0,0==--h){k=!0;break}}else if(a[o++]=g[m++],i++,j=0,1==--d){k=!0;break}while((i|j)<p)if(k)break;do{if(0!==(i=cn(a[n],g,m,d,0,b))){for(l=0;l<i;l++)a[o+l]=g[m+l];if(o+=i,m+=i,(d-=i)<=1){k=!0;break}}if(a[o++]=a[n++],0==--h){k=!0;break}if(0!==(j=cm(g[m],a,n,h,0,b))){for(l=0;l<j;l++)a[o+l]=a[n+l];if(o+=j,n+=j,0==(h-=j)){k=!0;break}}if(a[o++]=g[m++],1==--d){k=!0;break}p--}while(i>=7||j>=7)if(k)break;p<0&&(p=0),p+=2}if((e=p)<1&&(e=1),1===d){for(l=0;l<h;l++)a[o+l]=a[n+l];a[o+h]=g[m]}else if(0===d)throw Error();else for(l=0;l<d;l++)a[o+l]=g[m+l]}(i,j,k,l):function(c,d,f,h){var i=0;for(i=0;i<h;i++)g[i]=a[f+i];var j=c+d-1,k=h-1,l=f+h-1,m=0,n=0;if(a[l--]=a[j--],0==--d){for(i=0,m=l-(h-1);i<h;i++)a[m+i]=g[i];return}if(1===h){for(l-=d,j-=d,n=l+1,m=j+1,i=d-1;i>=0;i--)a[n+i]=a[m+i];a[l]=g[k];return}for(var o=e;;){var p=0,q=0,r=!1;do if(0>b(g[k],a[j])){if(a[l--]=a[j--],p++,q=0,0==--d){r=!0;break}}else if(a[l--]=g[k--],q++,p=0,1==--h){r=!0;break}while((p|q)<o)if(r)break;do{if(0!=(p=d-cn(g[k],a,c,d,d-1,b))){for(l-=p,j-=p,d-=p,n=l+1,m=j+1,i=p-1;i>=0;i--)a[n+i]=a[m+i];if(0===d){r=!0;break}}if(a[l--]=g[k--],1==--h){r=!0;break}if(0!=(q=h-cm(a[j],g,0,h,h-1,b))){for(l-=q,k-=q,h-=q,n=l+1,m=k+1,i=0;i<q;i++)a[n+i]=g[m+i];if(h<=1){r=!0;break}}if(a[l--]=a[j--],0==--d){r=!0;break}o--}while(p>=7||q>=7)if(r)break;o<0&&(o=0),o+=2}if((e=o)<1&&(e=1),1===h){for(l-=d,j-=d,n=l+1,m=j+1,i=d-1;i>=0;i--)a[n+i]=a[m+i];a[l]=g[k]}else if(0===h)throw Error();else for(i=0,m=l-(h-1);i<h;i++)a[m+i]=g[i]}(i,j,k,l))}return c=[],d=[],{mergeRuns:function(){for(;f>1;){var a=f-2;if(a>=1&&d[a-1]<=d[a]+d[a+1]||a>=2&&d[a-2]<=d[a]+d[a-1])d[a-1]<d[a+1]&&a--;else if(d[a]>d[a+1])break;h(a)}},forceMergeRuns:function(){for(;f>1;){var a=f-2;a>0&&d[a-1]<d[a+1]&&a--,h(a)}},pushRun:function(a,b){c[f]=a,d[f]=b,f+=1}}}(a,b),h=function(a){for(var b=0;a>=32;)b|=1&a,a>>=1;return a+b}(e);do{if((f=ck(a,c,d,b))<h){var i=e;i>h&&(i=h),cl(a,c,c+i,c+f,b),f=i}g.pushRun(c,f),g.mergeRuns(),e-=f,c+=f}while(0!==e)g.forceMergeRuns()}}aH(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){ch.prototype[a]=function(b){var c,d,e=b.zrX,f=b.zrY,g=cj(this,e,f);if("mouseup"===a&&g||(d=(c=this.findHover(e,f)).target),"mousedown"===a)this._downEl=d,this._downPoint=[b.zrX,b.zrY],this._upEl=d;else if("mouseup"===a)this._upEl=d;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||bp(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,a,b)}});var cp=!1;function cq(){cp||(cp=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function cr(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var cs=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=cr}return a.prototype.traverse=function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},a.prototype.getDisplayList=function(a,b){b=b||!1;var c=this._displayList;return(a||!c.length)&&this.updateDisplayList(b),c},a.prototype.updateDisplayList=function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen,co(c,cr)},a.prototype._updateAndAddDisplayable=function(a,b,c){if(!a.ignore||c){a.beforeUpdate(),a.update(),a.afterUpdate();var d=a.getClipPath();if(a.ignoreClip)b=null;else if(d){b=b?b.slice():[];for(var e=d,f=a;e;)e.parent=f,e.updateTransform(),b.push(e),f=e,e=e.getClipPath()}if(a.childrenRef){for(var g=a.childrenRef(),h=0;h<g.length;h++){var i=g[h];a.__dirty&&(i.__dirty|=1),this._updateAndAddDisplayable(i,b,c)}a.__dirty=0}else b&&b.length?a.__clipPaths=b:a.__clipPaths&&a.__clipPaths.length>0&&(a.__clipPaths=[]),isNaN(a.z)&&(cq(),a.z=0),isNaN(a.z2)&&(cq(),a.z2=0),isNaN(a.zlevel)&&(cq(),a.zlevel=0),this._displayList[this._displayListLen++]=a;var j=a.getDecalElement&&a.getDecalElement();j&&this._updateAndAddDisplayable(j,b,c);var k=a.getTextGuideLine();k&&this._updateAndAddDisplayable(k,b,c);var l=a.getTextContent();l&&this._updateAndAddDisplayable(l,b,c)}},a.prototype.addRoot=function(a){a.__zr&&a.__zr.storage===this||this._roots.push(a)},a.prototype.delRoot=function(a){if(a instanceof Array){for(var b=0,c=a.length;b<c;b++)this.delRoot(a[b]);return}var d=aE(this._roots,a);d>=0&&this._roots.splice(d,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}();t=ah.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};var ct={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin(2*Math.PI*(a-b)/.4)))},elasticOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin(2*Math.PI*(a-b)/.4)+1)},elasticInOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),(a*=2)<1)?-.5*(c*Math.pow(2,10*(a-=1))*Math.sin(2*Math.PI*(a-b)/.4)):c*Math.pow(2,-10*(a-=1))*Math.sin(2*Math.PI*(a-b)/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return(a*=2)<1?a*a*(3.5949095*a-2.5949095)*.5:.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-ct.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?.5*ct.bounceIn(2*a):.5*ct.bounceOut(2*a-1)+.5}},cu=Math.pow,cv=Math.sqrt,cw=cv(3),cx=1/3,cy=bg(),cz=bg(),cA=bg();function cB(a){return a>-1e-8&&a<1e-8}function cC(a){return a>1e-8||a<-1e-8}function cD(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function cE(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function cF(a,b,c,d,e,f){var g=d+3*(b-c)-a,h=3*(c-2*b+a),i=3*(b-a),j=a-e,k=h*h-3*g*i,l=h*i-9*g*j,m=i*i-3*h*j,n=0;if(cB(k)&&cB(l))if(cB(h))f[0]=0;else{var o=-i/h;o>=0&&o<=1&&(f[n++]=o)}else{var p=l*l-4*k*m;if(cB(p)){var q=l/k,o=-h/g+q,r=-q/2;o>=0&&o<=1&&(f[n++]=o),r>=0&&r<=1&&(f[n++]=r)}else if(p>0){var s=cv(p),t=k*h+1.5*g*(-l+s),u=k*h+1.5*g*(-l-s),o=(-h-((t=t<0?-cu(-t,cx):cu(t,cx))+(u=u<0?-cu(-u,cx):cu(u,cx))))/(3*g);o>=0&&o<=1&&(f[n++]=o)}else{var v=Math.acos((2*k*h-3*g*l)/(2*cv(k*k*k)))/3,w=cv(k),x=Math.cos(v),o=(-h-2*w*x)/(3*g),r=(-h+w*(x+cw*Math.sin(v)))/(3*g),y=(-h+w*(x-cw*Math.sin(v)))/(3*g);o>=0&&o<=1&&(f[n++]=o),r>=0&&r<=1&&(f[n++]=r),y>=0&&y<=1&&(f[n++]=y)}}return n}function cG(a,b,c,d,e){var f=6*c-12*b+6*a,g=9*b+3*d-3*a-9*c,h=3*b-3*a,i=0;if(cB(g)){if(cC(f)){var j=-h/f;j>=0&&j<=1&&(e[i++]=j)}}else{var k=f*f-4*g*h;if(cB(k))e[0]=-f/(2*g);else if(k>0){var l=cv(k),j=(-f+l)/(2*g),m=(-f-l)/(2*g);j>=0&&j<=1&&(e[i++]=j),m>=0&&m<=1&&(e[i++]=m)}}return i}function cH(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function cI(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=.005,r=1/0;cy[0]=i,cy[1]=j;for(var s=0;s<1;s+=.05)cz[0]=cD(a,c,e,g,s),cz[1]=cD(b,d,f,h,s),(o=bq(cy,cz))<r&&(l=s,r=o);r=1/0;for(var t=0;t<32&&!(q<1e-4);t++)m=l-q,n=l+q,cz[0]=cD(a,c,e,g,m),cz[1]=cD(b,d,f,h,m),o=bq(cz,cy),m>=0&&o<r?(l=m,r=o):(cA[0]=cD(a,c,e,g,n),cA[1]=cD(b,d,f,h,n),p=bq(cA,cy),n<=1&&p<r?(l=n,r=p):q*=.5);return k&&(k[0]=cD(a,c,e,g,l),k[1]=cD(b,d,f,h,l)),cv(r)}function cJ(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function cK(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function cL(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function cM(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function cN(a,b,c,d,e,f,g,h,i){var j,k=.005,l=1/0;cy[0]=g,cy[1]=h;for(var m=0;m<1;m+=.05){cz[0]=cJ(a,c,e,m),cz[1]=cJ(b,d,f,m);var n=bq(cy,cz);n<l&&(j=m,l=n)}l=1/0;for(var o=0;o<32&&!(k<1e-4);o++){var p=j-k,q=j+k;cz[0]=cJ(a,c,e,p),cz[1]=cJ(b,d,f,p);var n=bq(cz,cy);if(p>=0&&n<l)j=p,l=n;else{cA[0]=cJ(a,c,e,q),cA[1]=cJ(b,d,f,q);var r=bq(cA,cy);q<=1&&r<l?(j=q,l=r):k*=.5}}return i&&(i[0]=cJ(a,c,e,j),i[1]=cJ(b,d,f,j)),cv(l)}var cO=/cubic-bezier\(([0-9,\.e ]+)\)/;function cP(a){var b=a&&cO.exec(a);if(b){var c=b[1].split(","),d=+a2(c[0]),e=+a2(c[1]),f=+a2(c[2]),g=+a2(c[3]);if(isNaN(d+e+f+g))return;var h=[];return function(a){return a<=0?0:a>=1?1:cF(0,d,f,1,a,h)&&cD(0,e,g,1,h[0])}}}var cQ=function(){function a(a){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=a.life||1e3,this._delay=a.delay||0,this.loop=a.loop||!1,this.onframe=a.onframe||bc,this.ondestroy=a.ondestroy||bc,this.onrestart=a.onrestart||bc,a.easing&&this.setEasing(a.easing)}return a.prototype.step=function(a,b){if(this._inited||(this._startTime=a+this._delay,this._inited=!0),this._paused){this._pausedTime+=b;return}var c=this._life,d=a-this._startTime-this._pausedTime,e=d/c;e<0&&(e=0),e=Math.min(e,1);var f=this.easingFunc,g=f?f(e):e;if(this.onframe(g),1===e)if(!this.loop)return!0;else this._startTime=a-d%c,this._pausedTime=0,this.onrestart();return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(a){this.easing=a,this.easingFunc=aP(a)?a:ct[a]||cP(a)},a}(),cR=function(a){this.value=a},cS=function(){function a(){this._len=0}return a.prototype.insert=function(a){var b=new cR(a);return this.insertEntry(b),b},a.prototype.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},a.prototype.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}(),cT=function(){function a(a){this._list=new cS,this._maxSize=10,this._map={},this._maxSize=a}return a.prototype.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var h=c.head;c.remove(h),delete d[h.key],e=h.value,this._lastRemovedEntry=h}g?g.value=b:g=new cR(b),g.key=a,c.insertEntry(g),d[a]=g}return e},a.prototype.get=function(a){var b=this._map[a],c=this._list;if(null!=b)return b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}(),cU={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function cV(a){return(a=Math.round(a))<0?0:a>255?255:a}function cW(a){return a<0?0:a>1?1:a}function cX(a){return a.length&&"%"===a.charAt(a.length-1)?cV(parseFloat(a)/100*255):cV(parseInt(a,10))}function cY(a){return a.length&&"%"===a.charAt(a.length-1)?cW(parseFloat(a)/100):cW(parseFloat(a))}function cZ(a,b,c){return(c<0?c+=1:c>1&&(c-=1),6*c<1)?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function c$(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function c_(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}var c0=new cT(20),c1=null;function c2(a,b){c1&&c_(c1,b),c1=c0.put(a,c1||b.slice())}function c3(a,b){if(a){b=b||[];var c=c0.get(a);if(c)return c_(b,c);var d=(a+="").replace(/ /g,"").toLowerCase();if(d in cU)return c_(b,cU[d]),c2(a,b),b;var e=d.length;if("#"===d.charAt(0)){if(4===e||5===e){var f=parseInt(d.slice(1,4),16);return f>=0&&f<=4095?(c$(b,(3840&f)>>4|(3840&f)>>8,240&f|(240&f)>>4,15&f|(15&f)<<4,5===e?parseInt(d.slice(4),16)/15:1),c2(a,b),b):void c$(b,0,0,0,1)}if(7===e||9===e){var f=parseInt(d.slice(1,7),16);return f>=0&&f<=0xffffff?(c$(b,(0xff0000&f)>>16,(65280&f)>>8,255&f,9===e?parseInt(d.slice(7),16)/255:1),c2(a,b),b):void c$(b,0,0,0,1)}return}var g=d.indexOf("("),h=d.indexOf(")");if(-1!==g&&h+1===e){var i=d.substr(0,g),j=d.substr(g+1,h-(g+1)).split(","),k=1;switch(i){case"rgba":if(4!==j.length)return 3===j.length?c$(b,+j[0],+j[1],+j[2],1):c$(b,0,0,0,1);k=cY(j.pop());case"rgb":if(j.length>=3)return c$(b,cX(j[0]),cX(j[1]),cX(j[2]),3===j.length?k:cY(j[3])),c2(a,b),b;return void c$(b,0,0,0,1);case"hsla":if(4!==j.length)return void c$(b,0,0,0,1);return j[3]=cY(j[3]),c4(j,b),c2(a,b),b;case"hsl":if(3!==j.length)return void c$(b,0,0,0,1);return c4(j,b),c2(a,b),b;default:return}}c$(b,0,0,0,1)}}function c4(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=cY(a[1]),e=cY(a[2]),f=e<=.5?e*(d+1):e+d-e*d,g=2*e-f;return c$(b=b||[],cV(255*cZ(g,f,c+1/3)),cV(255*cZ(g,f,c)),cV(255*cZ(g,f,c-1/3)),1),4===a.length&&(b[3]=a[3]),b}function c5(a,b){var c=c3(a);if(c){for(var d=0;d<3;d++)b<0?c[d]=c[d]*(1-b)|0:c[d]=(255-c[d])*b+c[d]|0,c[d]>255?c[d]=255:c[d]<0&&(c[d]=0);return c9(c,4===c.length?"rgba":"rgb")}}function c6(a,b,c){if(b&&b.length&&a>=0&&a<=1){c=c||[];var d,e,f,g,h=a*(b.length-1),i=Math.floor(h),j=Math.ceil(h),k=b[i],l=b[j],m=h-i;return c[0]=cV((d=k[0],d+(l[0]-d)*m)),c[1]=cV((e=k[1],e+(l[1]-e)*m)),c[2]=cV((f=k[2],f+(l[2]-f)*m)),c[3]=cW((g=k[3],g+(l[3]-g)*m)),c}}function c7(a,b,c,d){var e,f=c3(a);if(a)return f=function(a){if(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=(h+g)/2;if(0===i)b=0,c=0;else{c=j<.5?i/(h+g):i/(2-h-g);var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),b<0&&(b+=1),b>1&&(b-=1)}var n=[360*b,c,j];return null!=a[3]&&n.push(a[3]),n}}(f),null!=b&&(f[0]=(e=Math.round(e=b))<0?0:e>360?360:e),null!=c&&(f[1]=cY(c)),null!=d&&(f[2]=cY(d)),c9(c4(f),"rgba")}function c8(a,b){var c=c3(a);if(c&&null!=b)return c[3]=cW(b),c9(c,"rgba")}function c9(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(c+=","+a[3]),b+"("+c+")"}}function da(a,b){var c=c3(a);return c?(.299*c[0]+.587*c[1]+.114*c[2])*c[3]/255+(1-c[3])*b:0}var db=new cT(100);function dc(a){if(aQ(a)){var b=db.get(a);return b||(b=c5(a,-.1),db.put(a,b)),b}if(aX(a)){var c=aC({},a);return c.colorStops=aI(a.colorStops,function(a){return{offset:a.offset,color:c5(a.color,-.1)}}),c}return a}var dd=Math.round;function de(a){var b;if(a&&"transparent"!==a){if("string"==typeof a&&a.indexOf("rgba")>-1){var c=c3(a);c&&(a="rgb("+c[0]+","+c[1]+","+c[2]+")",b=c[3])}}else a="none";return{color:a,opacity:null==b?1:b}}function df(a){return a<1e-4&&a>-1e-4}function dg(a){return dd(1e3*a)/1e3}function dh(a){return dd(1e4*a)/1e4}var di={left:"start",right:"end",center:"middle",middle:"middle"};function dj(a){return a&&!!a.image}function dk(a){return dj(a)||a&&!!a.svgElement}function dl(a){return"linear"===a.type}function dm(a){return"radial"===a.type}function dn(a){return a&&("linear"===a.type||"radial"===a.type)}function dp(a){return"url(#"+a+")"}function dq(a){var b=a.getGlobalScale();return Math.max(Math.ceil(Math.log(Math.max(b[0],b[1]))/Math.log(10)),1)}function dr(a){var b=a.x||0,c=a.y||0,d=(a.rotation||0)*bd,e=aZ(a.scaleX,1),f=aZ(a.scaleY,1),g=a.skewX||0,h=a.skewY||0,i=[];return(b||c)&&i.push("translate("+b+"px,"+c+"px)"),d&&i.push("rotate("+d+")"),(1!==e||1!==f)&&i.push("scale("+e+","+f+")"),(g||h)&&i.push("skew("+dd(g*bd)+"deg, "+dd(h*bd)+"deg)"),i.join(" ")}var ds=ah.hasGlobalWindow&&aP(window.btoa)?function(a){return window.btoa(unescape(encodeURIComponent(a)))}:"undefined"!=typeof Buffer?function(a){return Buffer.from(a).toString("base64")}:function(a){return null},dt=Array.prototype.slice;function du(a,b,c,d){for(var e,f=b.length,g=0;g<f;g++)a[g]=(e=b[g],(c[g]-e)*d+e);return a}function dv(a,b,c,d){for(var e=b.length,f=0;f<e;f++)a[f]=b[f]+c[f]*d;return a}function dw(a,b,c,d){for(var e=b.length,f=e&&b[0].length,g=0;g<e;g++){a[g]||(a[g]=[]);for(var h=0;h<f;h++)a[g][h]=b[g][h]+c[g][h]*d}return a}function dx(a){if(aG(a)){var b=a.length;if(aG(a[0])){for(var c=[],d=0;d<b;d++)c.push(dt.call(a[d]));return c}return dt.call(a)}return a}function dy(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=null==a[3]?1:a[3],"rgba("+a.join(",")+")"}function dz(a){return 4===a||5===a}function dA(a){return 1===a||2===a}var dB=[0,0,0,0],dC=function(){function a(a){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=a}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(a,b,c){this._needsSort=!0;var d=this.keyframes,e=d.length,f=!1,g=6,h=b;if(aG(b)){var i=aG(b&&b[0])?2:1;g=i,(1!==i||aS(b[0]))&&(2!==i||aS(b[0][0]))||(f=!0)}else if(aS(b)&&b==b)g=0;else if(aQ(b))if(isNaN(+b)){var j=c3(b);j&&(h=j,g=3)}else g=0;else if(aX(b)){var k=aC({},h);k.colorStops=aI(b.colorStops,function(a){return{offset:a.offset,color:c3(a.color)}}),dl(b)?g=4:dm(b)&&(g=5),h=k}0===e?this.valType=g:(g!==this.valType||6===g)&&(f=!0),this.discrete=this.discrete||f;var l={time:a,value:h,rawValue:b,percent:0};return c&&(l.easing=c,l.easingFunc=aP(c)?c:ct[c]||cP(c)),d.push(l),l},a.prototype.prepare=function(a,b){var c=this.keyframes;this._needsSort&&c.sort(function(a,b){return a.time-b.time});for(var d=this.valType,e=c.length,f=c[e-1],g=this.discrete,h=dA(d),i=dz(d),j=0;j<e;j++){var k=c[j],l=k.value,m=f.value;k.percent=k.time/a,!g&&(h&&j!==e-1?function(a,b,c){if(a.push&&b.push){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(var f=d;f<e;f++)a.push(1===c?b[f]:dt.call(b[f]));for(var g=a[0]&&a[0].length,f=0;f<a.length;f++)if(1===c)isNaN(a[f])&&(a[f]=b[f]);else for(var h=0;h<g;h++)isNaN(a[f][h])&&(a[f][h]=b[f][h])}}(l,m,d):i&&function(a,b){for(var c=a.length,d=b.length,e=c>d?b:a,f=Math.min(c,d),g=e[f-1]||{color:[0,0,0,0],offset:0},h=f;h<Math.max(c,d);h++)e.push({offset:g.offset,color:g.color.slice()})}(l.colorStops,m.colorStops))}if(!g&&5!==d&&b&&this.needsAnimate()&&b.needsAnimate()&&d===b.valType&&!b._finished){this._additiveTrack=b;for(var n=c[0].value,j=0;j<e;j++)0===d?c[j].additiveValue=c[j].value-n:3===d?c[j].additiveValue=dv([],c[j].value,n,-1):dA(d)&&(c[j].additiveValue=1===d?dv([],c[j].value,n,-1):dw([],c[j].value,n,-1))}},a.prototype.step=function(a,b){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var c,d,e,f=null!=this._additiveTrack,g=f?"additiveValue":"value",h=this.valType,i=this.keyframes,j=i.length,k=this.propName,l=3===h,m=this._lastFr,n=Math.min;if(1===j)d=e=i[0];else{if(b<0)c=0;else if(b<this._lastFrP){for(c=n(m+1,j-1);c>=0&&!(i[c].percent<=b);c--);c=n(c,j-2)}else{for(c=m;c<j&&!(i[c].percent>b);c++);c=n(c-1,j-2)}e=i[c+1],d=i[c]}if(d&&e){this._lastFr=c,this._lastFrP=b;var o=e.percent-d.percent,p=0===o?1:n((b-d.percent)/o,1);e.easingFunc&&(p=e.easingFunc(p));var q=f?this._additiveValue:l?dB:a[k];if((dA(h)||l)&&!q&&(q=this._additiveValue=[]),this.discrete)a[k]=p<1?d.rawValue:e.rawValue;else if(dA(h))1===h?du(q,d[g],e[g],p):function(a,b,c,d){for(var e=b.length,f=e&&b[0].length,g=0;g<e;g++){a[g]||(a[g]=[]);for(var h,i=0;i<f;i++)a[g][i]=(h=b[g][i],(c[g][i]-h)*d+h)}}(q,d[g],e[g],p);else if(dz(h)){var r,s,t,u,v,w=d[g],x=e[g],y=4===h;(a[k]={type:y?"linear":"radial",x:(r=w.x,(x.x-r)*p+r),y:(s=w.y,(x.y-s)*p+s),colorStops:aI(w.colorStops,function(a,b){var c,d=x.colorStops[b];return{offset:(c=a.offset,(d.offset-c)*p+c),color:dy(du([],a.color,d.color,p))}}),global:x.global},y)?(a[k].x2=(t=w.x2,(x.x2-t)*p+t),a[k].y2=(u=w.y2,(x.y2-u)*p+u)):a[k].r=(v=w.r,(x.r-v)*p+v)}else if(l)du(q,d[g],e[g],p),f||(a[k]=dy(q));else{var z,A=(z=d[g],(e[g]-z)*p+z);f?this._additiveValue=A:a[k]=A}f&&this._addToTarget(a)}}},a.prototype._addToTarget=function(a){var b=this.valType,c=this.propName,d=this._additiveValue;0===b?a[c]=a[c]+d:3===b?(c3(a[c],dB),dv(dB,dB,d,1),a[c]=dy(dB)):1===b?dv(a[c],a[c],d,1):2===b&&dw(a[c],a[c],d,1)},a}(),dD=function(){function a(a,b,c,d){(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=a,this._loop=b,b&&d)?ay("Can' use additive animation on looped animation."):(this._additiveAnimators=d,this._allowDiscrete=c)}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(a){this._target=a},a.prototype.when=function(a,b,c){return this.whenWithKeys(a,b,aL(b),c)},a.prototype.whenWithKeys=function(a,b,c,d){for(var e=this._tracks,f=0;f<c.length;f++){var g=c[f],h=e[g];if(!h){h=e[g]=new dC(g);var i=void 0,j=this._getAdditiveTrack(g);if(j){var k=j.keyframes,l=k[k.length-1];i=l&&l.value,3===j.valType&&i&&(i=dy(i))}else i=this._target[g];if(null==i)continue;a>0&&h.addKeyframe(0,dx(i),d),this._trackKeys.push(g)}h.addKeyframe(a,dx(b[g]),d)}return this._maxTime=Math.max(this._maxTime,a),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(a){return this._maxTime=a,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var a=this._doneCbs;if(a)for(var b=a.length,c=0;c<b;c++)a[c].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var a=this.animation,b=this._abortedCbs;if(a&&a.removeClip(this._clip),this._clip=null,b)for(var c=0;c<b.length;c++)b[c].call(this)},a.prototype._setTracksFinished=function(){for(var a=this._tracks,b=this._trackKeys,c=0;c<b.length;c++)a[b[c]].setFinished()},a.prototype._getAdditiveTrack=function(a){var b,c=this._additiveAnimators;if(c)for(var d=0;d<c.length;d++){var e=c[d].getTrack(a);e&&(b=e)}return b},a.prototype.start=function(a){if(!(this._started>0)){this._started=1;for(var b=this,c=[],d=this._maxTime||0,e=0;e<this._trackKeys.length;e++){var f=this._trackKeys[e],g=this._tracks[f],h=this._getAdditiveTrack(f),i=g.keyframes,j=i.length;if(g.prepare(d,h),g.needsAnimate())if(!this._allowDiscrete&&g.discrete){var k=i[j-1];k&&(b._target[g.propName]=k.rawValue),g.setFinished()}else c.push(g)}if(c.length||this._force){var l=new cQ({life:d,loop:this._loop,delay:this._delay||0,onframe:function(a){b._started=2;var d=b._additiveAnimators;if(d){for(var e=!1,f=0;f<d.length;f++)if(d[f]._clip){e=!0;break}e||(b._additiveAnimators=null)}for(var f=0;f<c.length;f++)c[f].step(b._target,a);var g=b._onframeCbs;if(g)for(var f=0;f<g.length;f++)g[f](b._target,a)},ondestroy:function(){b._doneCallback()}});this._clip=l,this.animation&&this.animation.addClip(l),a&&l.setEasing(a)}else this._doneCallback();return this}},a.prototype.stop=function(a){if(this._clip){var b=this._clip;a&&b.onframe(1),this._abortedCallback()}},a.prototype.delay=function(a){return this._delay=a,this},a.prototype.during=function(a){return a&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(a)),this},a.prototype.done=function(a){return a&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(a)),this},a.prototype.aborted=function(a){return a&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(a)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(a){return this._tracks[a]},a.prototype.getTracks=function(){var a=this;return aI(this._trackKeys,function(b){return a._tracks[b]})},a.prototype.stopTracks=function(a,b){if(!a.length||!this._clip)return!0;for(var c=this._tracks,d=this._trackKeys,e=0;e<a.length;e++){var f=c[a[e]];f&&!f.isFinished()&&(b?f.step(this._target,1):1===this._started&&f.step(this._target,0),f.setFinished())}for(var g=!0,e=0;e<d.length;e++)if(!c[d[e]].isFinished()){g=!1;break}return g&&this._abortedCallback(),g},a.prototype.saveTo=function(a,b,c){if(a){b=b||this._trackKeys;for(var d=0;d<b.length;d++){var e=b[d],f=this._tracks[e];if(!(!f||f.isFinished())){var g=f.keyframes,h=g[c?0:g.length-1];h&&(a[e]=dx(h.rawValue))}}}},a.prototype.__changeFinalValue=function(a,b){b=b||aL(a);for(var c=0;c<b.length;c++){var d=b[c],e=this._tracks[d];if(e){var f=e.keyframes;if(f.length>1){var g=f.pop();e.addKeyframe(g.time,a[d]),e.prepare(this._maxTime,e.getAdditiveTrack())}}}},a}();function dE(){return new Date().getTime()}var dF=function(a){function b(b){var c=a.call(this)||this;return c._running=!1,c._time=0,c._pausedTime=0,c._pauseStart=0,c._paused=!1,c.stage=(b=b||{}).stage||{},c}return bf(b,a),b.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},b.prototype.addAnimator=function(a){a.animation=this;var b=a.getClip();b&&this.addClip(b)},b.prototype.removeClip=function(a){if(a.animation){var b=a.prev,c=a.next;b?b.next=c:this._head=c,c?c.prev=b:this._tail=b,a.next=a.prev=a.animation=null}},b.prototype.removeAnimator=function(a){var b=a.getClip();b&&this.removeClip(b),a.animation=null},b.prototype.update=function(a){for(var b=dE()-this._pausedTime,c=b-this._time,d=this._head;d;){var e=d.next;d.step(b,c)&&(d.ondestroy(),this.removeClip(d)),d=e}this._time=b,!a&&(this.trigger("frame",c),this.stage.update&&this.stage.update())},b.prototype._startLoop=function(){var a=this;this._running=!0,t(function b(){a._running&&(t(b),a._paused||a.update())})},b.prototype.start=function(){this._running||(this._time=dE(),this._pausedTime=0,this._startLoop())},b.prototype.stop=function(){this._running=!1},b.prototype.pause=function(){this._paused||(this._pauseStart=dE(),this._paused=!0)},b.prototype.resume=function(){this._paused&&(this._pausedTime+=dE()-this._pauseStart,this._paused=!1)},b.prototype.clear=function(){for(var a=this._head;a;){var b=a.next;a.prev=a.next=a.animation=null,a=b}this._head=this._tail=null},b.prototype.isFinished=function(){return null==this._head},b.prototype.animate=function(a,b){b=b||{},this.start();var c=new dD(a,b.loop);return this.addAnimator(c),c},b}(bx),dG=ah.domSupported,dH=(m={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=aI(l=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],function(a){var b=a.replace("mouse","pointer");return m.hasOwnProperty(b)?b:a}),{mouse:l,touch:["touchstart","touchend","touchmove"],pointer:n}),dI=["mousemove","mouseup"],dJ=["pointermove","pointerup"],dK=!1;function dL(a){var b=a.pointerType;return"pen"===b||"touch"===b}function dM(a){a&&(a.zrByTouch=!0)}function dN(a,b){for(var c=b,d=!1;c&&9!==c.nodeType&&!(d=c.domBelongToZr||c!==b&&c===a.painterRoot);)c=c.parentNode;return d}var dO=function(a,b){this.stopPropagation=bc,this.stopImmediatePropagation=bc,this.preventDefault=bc,this.type=b.type,this.target=this.currentTarget=a.dom,this.pointerType=b.pointerType,this.clientX=b.clientX,this.clientY=b.clientY},dP={mousedown:function(a){a=bO(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=bO(this.dom,a);var b=this.__mayPointerCapture;b&&(a.zrX!==b[0]||a.zrY!==b[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=bO(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){dN(this,(a=bO(this.dom,a)).toElement||a.relatedTarget)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){dK=!0,a=bO(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){dK||(a=bO(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){dM(a=bO(this.dom,a)),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),dP.mousemove.call(this,a),dP.mousedown.call(this,a)},touchmove:function(a){dM(a=bO(this.dom,a)),this.handler.processGesture(a,"change"),dP.mousemove.call(this,a)},touchend:function(a){dM(a=bO(this.dom,a)),this.handler.processGesture(a,"end"),dP.mouseup.call(this,a),new Date-this.__lastTouchMoment<300&&dP.click.call(this,a)},pointerdown:function(a){dP.mousedown.call(this,a)},pointermove:function(a){dL(a)||dP.mousemove.call(this,a)},pointerup:function(a){dP.mouseup.call(this,a)},pointerout:function(a){dL(a)||dP.mouseout.call(this,a)}};aH(["click","dblclick","contextmenu"],function(a){dP[a]=function(b){b=bO(this.dom,b),this.trigger(a,b)}});var dQ={pointermove:function(a){dL(a)||dQ.mousemove.call(this,a)},pointerup:function(a){dQ.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var b=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),b&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function dR(a,b,c,d){a.mounted[b]=c,a.listenerOpts[b]=d,bP(a.domTarget,b,c,d)}function dS(a){var b,c,d,e=a.mounted;for(var f in e)e.hasOwnProperty(f)&&(b=a.domTarget,c=e[f],d=a.listenerOpts[f],b.removeEventListener(f,c,d));a.mounted={}}var dT=function(a,b){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=a,this.domHandlers=b},dU=function(a){function b(b,c){var d,e,f=a.call(this)||this;return f.__pointerCapturing=!1,f.dom=b,f.painterRoot=c,f._localHandlerScope=new dT(b,dP),dG&&(f._globalHandlerScope=new dT(document,dQ)),e=(d=f._localHandlerScope).domHandlers,ah.pointerEventsSupported?aH(dH.pointer,function(a){dR(d,a,function(b){e[a].call(f,b)})}):(ah.touchEventsSupported&&aH(dH.touch,function(a){dR(d,a,function(b){e[a].call(f,b),d.touching=!0,null!=d.touchTimer&&(clearTimeout(d.touchTimer),d.touchTimer=null),d.touchTimer=setTimeout(function(){d.touching=!1,d.touchTimer=null},700)})}),aH(dH.mouse,function(a){dR(d,a,function(b){b=bN(b),d.touching||e[a].call(f,b)})})),f}return bf(b,a),b.prototype.dispose=function(){dS(this._localHandlerScope),dG&&dS(this._globalHandlerScope)},b.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},b.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,dG&&this.__pointerCapturing^a){this.__pointerCapturing=a;var b=this._globalHandlerScope;a?function(a,b){ah.pointerEventsSupported?aH(dJ,c):ah.touchEventsSupported||aH(dI,c);function c(c){dR(b,c,function(d){if(!dN(a,(d=bN(d)).target)){var e;e=d,d=bO(a.dom,new dO(a,e),!0),b.domHandlers[c].call(a,d)}},{capture:!0})}}(this,b):dS(b)}},b}(bx),dV=1;ah.hasGlobalWindow&&(dV=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var dW=dV,dX="#333",dY="#ccc";function dZ(a){return a>5e-5||a<-5e-5}var d$=[],d_=[],d0=bV(),d1=Math.abs,d2=function(){var a;function b(){}return b.prototype.getLocalTransform=function(a){return b.getLocalTransform(this,a)},b.prototype.setPosition=function(a){this.x=a[0],this.y=a[1]},b.prototype.setScale=function(a){this.scaleX=a[0],this.scaleY=a[1]},b.prototype.setSkew=function(a){this.skewX=a[0],this.skewY=a[1]},b.prototype.setOrigin=function(a){this.originX=a[0],this.originY=a[1]},b.prototype.needLocalTransform=function(){return dZ(this.rotation)||dZ(this.x)||dZ(this.y)||dZ(this.scaleX-1)||dZ(this.scaleY-1)||dZ(this.skewX)||dZ(this.skewY)},b.prototype.updateTransform=function(){var a=this.parent&&this.parent.transform,b=this.needLocalTransform(),c=this.transform;if(!(b||a)){c&&(bW(c),this.invTransform=null);return}c=c||bV(),b?this.getLocalTransform(c):bW(c),a&&(b?bY(c,a,c):bX(c,a)),this.transform=c,this._resolveGlobalScaleRatio(c)},b.prototype._resolveGlobalScaleRatio=function(a){var b=this.globalScaleRatio;if(null!=b&&1!==b){this.getGlobalScale(d$);var c=d$[0]<0?-1:1,d=d$[1]<0?-1:1,e=((d$[0]-c)*b+c)/d$[0]||0,f=((d$[1]-d)*b+d)/d$[1]||0;a[0]*=e,a[1]*=e,a[2]*=f,a[3]*=f}this.invTransform=this.invTransform||bV(),b0(this.invTransform,a)},b.prototype.getComputedTransform=function(){for(var a=this,b=[];a;)b.push(a),a=a.parent;for(;a=b.pop();)a.updateTransform();return this.transform},b.prototype.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=Math.atan2(a[1],a[0]),e=Math.PI/2+d-Math.atan2(a[3],a[2]);c=Math.sqrt(c)*Math.cos(e),b=Math.sqrt(b),this.skewX=e,this.skewY=0,this.rotation=-d,this.x=+a[4],this.y=+a[5],this.scaleX=b,this.scaleY=c,this.originX=0,this.originY=0}},b.prototype.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(a.invTransform=a.invTransform||bV(),bY(d_,a.invTransform,b),b=d_);var c=this.originX,d=this.originY;(c||d)&&(d0[4]=c,d0[5]=d,bY(d_,b,d0),d_[4]-=c,d_[5]-=d,b=d_),this.setLocalTransform(b)}},b.prototype.getGlobalScale=function(a){var b=this.transform;return(a=a||[],b)?(a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]),a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]),b[0]<0&&(a[0]=-a[0]),b[3]<0&&(a[1]=-a[1])):(a[0]=1,a[1]=1),a},b.prototype.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&bs(c,c,d),c},b.prototype.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&bs(c,c,d),c},b.prototype.getLineScale=function(){var a=this.transform;return a&&d1(a[0]-1)>1e-10&&d1(a[3]-1)>1e-10?Math.sqrt(d1(a[0]*a[3]-a[2]*a[1])):1},b.prototype.copyTransform=function(a){d4(this,a)},b.getLocalTransform=function(a,b){b=b||[];var c=a.originX||0,d=a.originY||0,e=a.scaleX,f=a.scaleY,g=a.anchorX,h=a.anchorY,i=a.rotation||0,j=a.x,k=a.y,l=a.skewX?Math.tan(a.skewX):0,m=a.skewY?Math.tan(-a.skewY):0;if(c||d||g||h){var n=c+g,o=d+h;b[4]=-n*e-l*o*f,b[5]=-o*f-m*n*e}else b[4]=b[5]=0;return b[0]=e,b[3]=f,b[1]=m*e,b[2]=l*f,i&&b$(b,b,i),b[4]+=c+j,b[5]+=d+k,b},b.initDefaultProps=void((a=b.prototype).scaleX=a.scaleY=a.globalScaleRatio=1,a.x=a.y=a.originX=a.originY=a.skewX=a.skewY=a.rotation=a.anchorX=a.anchorY=0),b}(),d3=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function d4(a,b){for(var c=0;c<d3.length;c++){var d=d3[c];a[d]=b[d]}}var d5={};function d6(a,b){var c=d5[b=b||aj];c||(c=d5[b]=new cT(500));var d=c.get(a);return null==d&&(d=al.measureText(a,b).width,c.put(a,d)),d}function d7(a,b,c,d){var e=d6(a,b),f=eb(b);return new ca(d9(0,e,c),ea(0,f,d),e,f)}function d8(a,b,c,d){var e=((a||"")+"").split("\n");if(1===e.length)return d7(e[0],b,c,d);for(var f=new ca(0,0,0,0),g=0;g<e.length;g++){var h=d7(e[g],b,c,d);0===g?f.copy(h):f.union(h)}return f}function d9(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function ea(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function eb(a){return d6("",a)}function ec(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function ed(a,b,c){var d=b.position||"inside",e=null!=b.distance?b.distance:5,f=c.height,g=c.width,h=f/2,i=c.x,j=c.y,k="left",l="top";if(d instanceof Array)i+=ec(d[0],c.width),j+=ec(d[1],c.height),k=null,l=null;else switch(d){case"left":i-=e,j+=h,k="right",l="middle";break;case"right":i+=e+g,j+=h,l="middle";break;case"top":i+=g/2,j-=e,k="center",l="bottom";break;case"bottom":i+=g/2,j+=f+e,k="center";break;case"inside":i+=g/2,j+=h,k="center",l="middle";break;case"insideLeft":i+=e,j+=h,l="middle";break;case"insideRight":i+=g-e,j+=h,k="right",l="middle";break;case"insideTop":i+=g/2,j+=e,k="center";break;case"insideBottom":i+=g/2,j+=f-e,k="center",l="bottom";break;case"insideTopLeft":i+=e,j+=e;break;case"insideTopRight":i+=g-e,j+=e,k="right";break;case"insideBottomLeft":i+=e,j+=f-e,l="bottom";break;case"insideBottomRight":i+=g-e,j+=f-e,k="right",l="bottom"}return(a=a||{}).x=i,a.y=j,a.align=k,a.verticalAlign=l,a}var ee="__zr_normal__",ef=d3.concat(["ignore"]),eg=aJ(d3,function(a,b){return a[b]=!0,a},{ignore:!1}),eh={},ei=new ca(0,0,0,0),ej=function(){function a(a){this.id=ax++,this.animators=[],this.currentStates=[],this.states={},this._init(a)}return a.prototype._init=function(a){this.attr(a)},a.prototype.drift=function(a,b,c){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var d=this.transform;d||(d=this.transform=[1,0,0,1,0,0]),d[4]+=a,d[5]+=b,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(a){var b=this._textContent;if(b&&(!b.ignore||a)){this.textConfig||(this.textConfig={});var c=this.textConfig,d=c.local,e=b.innerTransformable,f=void 0,g=void 0,h=!1;e.parent=d?this:null;var i=!1;if(e.copyTransform(b),null!=c.position){c.layoutRect?ei.copy(c.layoutRect):ei.copy(this.getBoundingRect()),d||ei.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(eh,c,ei):ed(eh,c,ei),e.x=eh.x,e.y=eh.y,f=eh.align,g=eh.verticalAlign;var j=c.origin;if(j&&null!=c.rotation){var k=void 0,l=void 0;"center"===j?(k=.5*ei.width,l=.5*ei.height):(k=ec(j[0],ei.width),l=ec(j[1],ei.height)),i=!0,e.originX=-e.x+k+(d?0:ei.x),e.originY=-e.y+l+(d?0:ei.y)}}null!=c.rotation&&(e.rotation=c.rotation);var m=c.offset;m&&(e.x+=m[0],e.y+=m[1],i||(e.originX=-m[0],e.originY=-m[1]));var n=null==c.inside?"string"==typeof c.position&&c.position.indexOf("inside")>=0:c.inside,o=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),p=void 0,q=void 0,r=void 0;n&&this.canBeInsideText()?(p=c.insideFill,q=c.insideStroke,(null==p||"auto"===p)&&(p=this.getInsideTextFill()),(null==q||"auto"===q)&&(q=this.getInsideTextStroke(p),r=!0)):(p=c.outsideFill,q=c.outsideStroke,(null==p||"auto"===p)&&(p=this.getOutsideFill()),(null==q||"auto"===q)&&(q=this.getOutsideStroke(p),r=!0)),((p=p||"#000")!==o.fill||q!==o.stroke||r!==o.autoStroke||f!==o.align||g!==o.verticalAlign)&&(h=!0,o.fill=p,o.stroke=q,o.autoStroke=r,o.align=f,o.verticalAlign=g,b.setDefaultTextStyle(o)),b.__dirty|=1,h&&b.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(a){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?dY:dX},a.prototype.getOutsideStroke=function(a){var b=this.__zr&&this.__zr.getBackgroundColor(),c="string"==typeof b&&c3(b);c||(c=[255,255,255,1]);for(var d=c[3],e=this.__zr.isDarkMode(),f=0;f<3;f++)c[f]=c[f]*d+255*!e*(1-d);return c[3]=1,c9(c,"rgba")},a.prototype.traverse=function(a,b){},a.prototype.attrKV=function(a,b){"textConfig"===a?this.setTextConfig(b):"textContent"===a?this.setTextContent(b):"clipPath"===a?this.setClipPath(b):"extra"===a?(this.extra=this.extra||{},aC(this.extra,b)):this[a]=b},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(aT(a))for(var c=aL(a),d=0;d<c.length;d++){var e=c[d];this.attrKV(e,a[e])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(a){this._innerSaveToNormal(a);for(var b=this._normalState,c=0;c<this.animators.length;c++){var d=this.animators[c],e=d.__fromStateTransition;if(!d.getLoop()&&(!e||e===ee)){var f=d.targetName,g=f?b[f]:b;d.saveTo(g)}}},a.prototype._innerSaveToNormal=function(a){var b=this._normalState;b||(b=this._normalState={}),a.textConfig&&!b.textConfig&&(b.textConfig=this.textConfig),this._savePrimaryToNormal(a,b,ef)},a.prototype._savePrimaryToNormal=function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];null==a[e]||e in b||(b[e]=this[e])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(a){return this.states[a]},a.prototype.ensureState=function(a){var b=this.states;return b[a]||(b[a]={}),b[a]},a.prototype.clearStates=function(a){this.useState(ee,!1,a)},a.prototype.useState=function(a,b,c,d){var e,f=a===ee;if(this.hasState()||!f){var g=this.currentStates,h=this.stateTransition;if(!(aE(g,a)>=0)||!b&&1!==g.length){if(this.stateProxy&&!f&&(e=this.stateProxy(a)),e||(e=this.states&&this.states[a]),!e&&!f)return void ay("State "+a+" not exists.");f||this.saveCurrentToNormalState(e);var i=!!(e&&e.hoverLayer||d);i&&this._toggleHoverLayerFlag(!0),this._applyStateObj(a,e,this._normalState,b,!c&&!this.__inHover&&h&&h.duration>0,h);var j=this._textContent,k=this._textGuide;return j&&j.useState(a,b,c,i),k&&k.useState(a,b,c,i),f?(this.currentStates=[],this._normalState={}):b?this.currentStates.push(a):this.currentStates=[a],this._updateAnimationTargets(),this.markRedraw(),!i&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),e}}},a.prototype.useStates=function(a,b,c){if(a.length){var d=[],e=this.currentStates,f=a.length,g=f===e.length;if(g){for(var h=0;h<f;h++)if(a[h]!==e[h]){g=!1;break}}if(!g){for(var h=0;h<f;h++){var i=a[h],j=void 0;this.stateProxy&&(j=this.stateProxy(i,a)),j||(j=this.states[i]),j&&d.push(j)}var k=d[f-1],l=!!(k&&k.hoverLayer||c);l&&this._toggleHoverLayerFlag(!0);var m=this._mergeStates(d),n=this.stateTransition;this.saveCurrentToNormalState(m),this._applyStateObj(a.join(","),m,this._normalState,!1,!b&&!this.__inHover&&n&&n.duration>0,n);var o=this._textContent,p=this._textGuide;o&&o.useStates(a,b,l),p&&p.useStates(a,b,l),this._updateAnimationTargets(),this.currentStates=a.slice(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}}else this.clearStates()},a.prototype.isSilent=function(){for(var a=this.silent,b=this.parent;!a&&b;){if(b.silent){a=!0;break}b=b.parent}return a},a.prototype._updateAnimationTargets=function(){for(var a=0;a<this.animators.length;a++){var b=this.animators[a];b.targetName&&b.changeTarget(this[b.targetName])}},a.prototype.removeState=function(a){var b=aE(this.currentStates,a);if(b>=0){var c=this.currentStates.slice();c.splice(b,1),this.useStates(c)}},a.prototype.replaceState=function(a,b,c){var d=this.currentStates.slice(),e=aE(d,a),f=aE(d,b)>=0;e>=0?f?d.splice(e,1):d[e]=b:c&&!f&&d.push(b),this.useStates(d)},a.prototype.toggleState=function(a,b){b?this.useState(a,!0):this.removeState(a)},a.prototype._mergeStates=function(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d];aC(c,e),e.textConfig&&aC(b=b||{},e.textConfig)}return b&&(c.textConfig=b),c},a.prototype._applyStateObj=function(a,b,c,d,e,f){var g=!(b&&d);b&&b.textConfig?(this.textConfig=aC({},d?this.textConfig:c.textConfig),aC(this.textConfig,b.textConfig)):g&&c.textConfig&&(this.textConfig=c.textConfig);for(var h={},i=!1,j=0;j<ef.length;j++){var k=ef[j],l=e&&eg[k];b&&null!=b[k]?l?(i=!0,h[k]=b[k]):this[k]=b[k]:g&&null!=c[k]&&(l?(i=!0,h[k]=c[k]):this[k]=c[k])}if(!e)for(var j=0;j<this.animators.length;j++){var m=this.animators[j],n=m.targetName;m.getLoop()||m.__changeFinalValue(n?(b||c)[n]:b||c)}i&&this._transitionState(a,h,f)},a.prototype._attachComponent=function(a){if((!a.__zr||a.__hostTarget)&&a!==this){var b=this.__zr;b&&a.addSelfToZr(b),a.__zr=b,a.__hostTarget=this}},a.prototype._detachComponent=function(a){a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(a){this._clipPath&&this._clipPath!==a&&this.removeClipPath(),this._attachComponent(a),this._clipPath=a,this.markRedraw()},a.prototype.removeClipPath=function(){var a=this._clipPath;a&&(this._detachComponent(a),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(a){var b=this._textContent;b!==a&&(b&&b!==a&&this.removeTextContent(),a.innerTransformable=new d2,this._attachComponent(a),this._textContent=a,this.markRedraw())},a.prototype.setTextConfig=function(a){this.textConfig||(this.textConfig={}),aC(this.textConfig,a),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var a=this._textContent;a&&(a.innerTransformable=null,this._detachComponent(a),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(a){this._textGuide&&this._textGuide!==a&&this.removeTextGuideLine(),this._attachComponent(a),this._textGuide=a,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var a=this._textGuide;a&&(this._detachComponent(a),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=1;var a=this.__zr;a&&(this.__inHover?a.refreshHover():a.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(a){this.__inHover=a;var b=this._textContent,c=this._textGuide;b&&(b.__inHover=a),c&&(c.__inHover=a)},a.prototype.addSelfToZr=function(a){if(this.__zr!==a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this._clipPath&&this._clipPath.addSelfToZr(a),this._textContent&&this._textContent.addSelfToZr(a),this._textGuide&&this._textGuide.addSelfToZr(a)}},a.prototype.removeSelfFromZr=function(a){if(this.__zr){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this._clipPath&&this._clipPath.removeSelfFromZr(a),this._textContent&&this._textContent.removeSelfFromZr(a),this._textGuide&&this._textGuide.removeSelfFromZr(a)}},a.prototype.animate=function(a,b,c){var d=new dD(a?this[a]:this,b,c);return a&&(d.targetName=a),this.addAnimator(d,a),d},a.prototype.addAnimator=function(a,b){var c=this.__zr,d=this;a.during(function(){d.updateDuringAnimation(b)}).done(function(){var b=d.animators,c=aE(b,a);c>=0&&b.splice(c,1)}),this.animators.push(a),c&&c.animation.addAnimator(a),c&&c.wakeUp()},a.prototype.updateDuringAnimation=function(a){this.markRedraw()},a.prototype.stopAnimation=function(a,b){for(var c=this.animators,d=c.length,e=[],f=0;f<d;f++){var g=c[f];a&&a!==g.scope?e.push(g):g.stop(b)}return this.animators=e,this},a.prototype.animateTo=function(a,b,c){ek(this,a,b,c)},a.prototype.animateFrom=function(a,b,c){ek(this,a,b,c,!0)},a.prototype._transitionState=function(a,b,c,d){for(var e=ek(this,b,c,d),f=0;f<e.length;f++)e[f].__fromStateTransition=a},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var b=a.prototype;function c(a,c,d,e){Object.defineProperty(b,a,{get:function(){return this[c]||f(this,this[c]=[]),this[c]},set:function(a){this[d]=a[0],this[e]=a[1],this[c]=a,f(this,a)}});function f(a,b){Object.defineProperty(b,0,{get:function(){return a[d]},set:function(b){a[d]=b}}),Object.defineProperty(b,1,{get:function(){return a[e]},set:function(b){a[e]=b}})}}b.type="element",b.name="",b.ignore=b.silent=b.isGroup=b.draggable=b.dragging=b.ignoreClip=b.__inHover=!1,b.__dirty=1,Object.defineProperty&&(c("position","_legacyPos","x","y"),c("scale","_legacyScale","scaleX","scaleY"),c("origin","_legacyOrigin","originX","originY"))}(),a}();function ek(a,b,c,d,e){var f=[];!function a(b,c,d,e,f,g,h,i){for(var j=aL(e),k=f.duration,l=f.delay,m=f.additive,n=f.setToFinal,o=!aT(g),p=b.animators,q=[],r=0;r<j.length;r++){var s=j[r],t=e[s];if(null!=t&&null!=d[s]&&(o||g[s]))if(!aT(t)||aG(t)||aX(t))q.push(s);else{if(c){i||(d[s]=t,b.updateDuringAnimation(c));continue}a(b,s,d[s],t,f,g&&g[s],h,i)}else i||(d[s]=t,b.updateDuringAnimation(c),q.push(s))}var u=q.length;if(!m&&u)for(var v=0;v<p.length;v++){var w=p[v];if(w.targetName===c&&w.stopTracks(q)){var x=aE(p,w);p.splice(x,1)}}if(f.force||(u=(q=aK(q,function(a){var b,c;return!((b=e[a])===(c=d[a])||aG(b)&&aG(c)&&function(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}(b,c))})).length),u>0||f.force&&!h.length){var y=void 0,z=void 0,A=void 0;if(i){z={},n&&(y={});for(var v=0;v<u;v++){var s=q[v];z[s]=d[s],n?y[s]=e[s]:d[s]=e[s]}}else if(n){A={};for(var v=0;v<u;v++){var s=q[v];A[s]=dx(d[s]),function(a,b,c){if(aG(b[c]))if(aG(a[c])||(a[c]=[]),aV(b[c])){var d=b[c].length;a[c].length!==d&&(a[c]=new b[c].constructor(d),el(a[c],b[c],d))}else{var e=b[c],f=a[c],g=e.length;if(aG(e[0]))for(var h=e[0].length,i=0;i<g;i++)f[i]?el(f[i],e[i],h):f[i]=Array.prototype.slice.call(e[i]);else el(f,e,g);f.length=e.length}else a[c]=b[c]}(d,e,s)}}var w=new dD(d,!1,!1,m?aK(p,function(a){return a.targetName===c}):null);w.targetName=c,f.scope&&(w.scope=f.scope),n&&y&&w.whenWithKeys(0,y,q),A&&w.whenWithKeys(0,A,q),w.whenWithKeys(null==k?500:k,i?z:e,q).delay(l||0),b.addAnimator(w,c),h.push(w)}}(a,"",a,b,c=c||{},d,f,e);var g=f.length,h=!1,i=c.done,j=c.aborted,k=function(){h=!0,--g<=0&&(h?i&&i():j&&j())},l=function(){--g<=0&&(h?i&&i():j&&j())};!g&&i&&i(),f.length>0&&c.during&&f[0].during(function(a,b){c.during(b)});for(var m=0;m<f.length;m++){var n=f[m];n.done(k),n.aborted(l),c.force&&n.duration(c.duration),n.start(c.easing)}return f}function el(a,b,c){for(var d=0;d<c;d++)a[d]=b[d]}aF(ej,bx),aF(ej,d2);var em=function(a){function b(b){var c=a.call(this)||this;return c.isGroup=!0,c._children=[],c.attr(b),c}return bf(b,a),b.prototype.childrenRef=function(){return this._children},b.prototype.children=function(){return this._children.slice()},b.prototype.childAt=function(a){return this._children[a]},b.prototype.childOfName=function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},b.prototype.childCount=function(){return this._children.length},b.prototype.add=function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},b.prototype.addBefore=function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},b.prototype.replace=function(a,b){var c=aE(this._children,a);return c>=0&&this.replaceAt(b,c),this},b.prototype.replaceAt=function(a,b){var c=this._children,d=c[b];if(a&&a!==this&&a.parent!==this&&a!==d){c[b]=a,d.parent=null;var e=this.__zr;e&&d.removeSelfFromZr(e),this._doAdd(a)}return this},b.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__zr;b&&b!==a.__zr&&a.addSelfToZr(b),b&&b.refresh()},b.prototype.remove=function(a){var b=this.__zr,c=this._children,d=aE(c,a);return d<0||(c.splice(d,1),a.parent=null,b&&a.removeSelfFromZr(b),b&&b.refresh()),this},b.prototype.removeAll=function(){for(var a=this._children,b=this.__zr,c=0;c<a.length;c++){var d=a[c];b&&d.removeSelfFromZr(b),d.parent=null}return a.length=0,this},b.prototype.eachChild=function(a,b){for(var c=this._children,d=0;d<c.length;d++){var e=c[d];a.call(b,e,d)}return this},b.prototype.traverse=function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c],e=a.call(b,d);d.isGroup&&!e&&d.traverse(a,b)}return this},b.prototype.addSelfToZr=function(b){a.prototype.addSelfToZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].addSelfToZr(b)},b.prototype.removeSelfFromZr=function(b){a.prototype.removeSelfFromZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].removeSelfFromZr(b)},b.prototype.getBoundingRect=function(a){for(var b=new ca(0,0,0,0),c=a||this._children,d=[],e=null,f=0;f<c.length;f++){var g=c[f];if(!g.ignore&&!g.invisible){var h=g.getBoundingRect(),i=g.getLocalTransform(d);i?(ca.applyTransform(b,h,i),(e=e||b.clone()).union(b)):(e=e||h.clone()).union(h)}}return e||b},b}(ej);em.prototype.type="group";var en={},eo={},ep=function(){function a(a,b,c){var d,e=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,c=c||{},this.dom=b,this.id=a;var f=new cs,g=c.renderer||"canvas";en[g]||(g=aL(en)[0]),c.useDirtyRect=null!=c.useDirtyRect&&c.useDirtyRect;var h=new en[g](b,f,c,a),i=c.ssr||h.ssrOnly;this.storage=f,this.painter=h;var j=ah.node||ah.worker||i?null:new dU(h.getViewportRoot(),h.root),k=c.useCoarsePointer;(null==k||"auto"===k?ah.touchEventsSupported:!!k)&&(d=aZ(c.pointerSize,44)),this.handler=new ch(f,h,j,h.root,d),this.animation=new dF({stage:{update:i?null:function(){return e._flush(!0)}}}),i||this.animation.start()}return a.prototype.add=function(a){!this._disposed&&a&&(this.storage.addRoot(a),a.addSelfToZr(this),this.refresh())},a.prototype.remove=function(a){!this._disposed&&a&&(this.storage.delRoot(a),a.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(a,b){this._disposed||(this.painter.configLayer&&this.painter.configLayer(a,b),this.refresh())},a.prototype.setBackgroundColor=function(a){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this.refresh(),this._backgroundColor=a,this._darkMode=function(a){if(!a)return!1;if("string"==typeof a)return .4>da(a,1);if(a.colorStops){for(var b=a.colorStops,c=0,d=b.length,e=0;e<d;e++)c+=da(b[e].color,1);return(c/=d)<.4}return!1}(a))},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(a){this._darkMode=a},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(a){this._disposed||(a||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},a.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},a.prototype.flush=function(){this._disposed||this._flush(!1)},a.prototype._flush=function(a){var b,c=dE();this._needsRefresh&&(b=!0,this.refreshImmediately(a)),this._needsRefreshHover&&(b=!0,this.refreshHoverImmediately());var d=dE();b?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:d-c})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(a){this._sleepAfterStill=a},a.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){!this._disposed&&(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},a.prototype.resize=function(a){this._disposed||(a=a||{},this.painter.resize(a.width,a.height),this.handler.resize())},a.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},a.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},a.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},a.prototype.setCursorStyle=function(a){this._disposed||this.handler.setCursorStyle(a)},a.prototype.findHover=function(a,b){if(!this._disposed)return this.handler.findHover(a,b)},a.prototype.on=function(a,b,c){return this._disposed||this.handler.on(a,b,c),this},a.prototype.off=function(a,b){this._disposed||this.handler.off(a,b)},a.prototype.trigger=function(a,b){this._disposed||this.handler.trigger(a,b)},a.prototype.clear=function(){if(!this._disposed){for(var a=this.storage.getRoots(),b=0;b<a.length;b++)a[b]instanceof em&&a[b].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},a.prototype.dispose=function(){if(!this._disposed){var a;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,a=this.id,delete eo[a]}},a}();function eq(a,b){var c=new ep(ax++,a,b);return eo[c.id]=c,c}function er(a,b,c,d){var e=b[0],f=b[1],g=c[0],h=c[1],i=f-e,j=h-g;if(0===i)return 0===j?g:(g+h)/2;if(d){if(i>0){if(a<=e)return g;else if(a>=f)return h}else if(a>=e)return g;else if(a<=f)return h}else{if(a===e)return g;if(a===f)return h}return(a-e)/i*j+g}function es(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return aQ(a)?a.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function et(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function eu(a){return a.sort(function(a,b){return a-b}),a}function ev(a){if(isNaN(a*=1))return 0;if(a>1e-14){for(var b=1,c=0;c<15;c++,b*=10)if(Math.round(a*b)/b===a)return c}return ew(a)}function ew(a){var b=a.toString().toLowerCase(),c=b.indexOf("e"),d=c>0?+b.slice(c+1):0,e=c>0?c:b.length,f=b.indexOf(".");return Math.max(0,(f<0?0:e-1-f)-d)}function ex(a,b){var c=Math.log,d=Math.LN10,e=Math.min(Math.max(-Math.floor(c(a[1]-a[0])/d)+Math.round(c(Math.abs(b[1]-b[0]))/d),0),20);return isFinite(e)?e:20}function ey(a,b,c){return a[b]&&ez(a,c)[b]||0}function ez(a,b){var c=aJ(a,function(a,b){return a+(isNaN(b)?0:b)},0);if(0===c)return[];for(var d=Math.pow(10,b),e=aI(a,function(a){return(isNaN(a)?0:a)/c*d*100}),f=100*d,g=aI(e,function(a){return Math.floor(a)}),h=aJ(g,function(a,b){return a+b},0),i=aI(e,function(a,b){return a-g[b]});h<f;){for(var j=-1/0,k=null,l=0,m=i.length;l<m;++l)i[l]>j&&(j=i[l],k=l);++g[k],i[k]=0,++h}return aI(g,function(a){return a/d})}function eA(a){var b=2*Math.PI;return(a%b+b)%b}function eB(a){return a>-1e-4&&a<1e-4}var eC=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function eD(a){if(a instanceof Date)return a;if(aQ(a)){var b=eC.exec(a);if(!b)return new Date(NaN);if(!b[8])return new Date(+b[1],(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,b[7]?+b[7].substring(0,3):0);var c=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(c-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],(b[2]||1)-1,+b[3]||1,c,+(b[5]||0),+b[6]||0,b[7]?+b[7].substring(0,3):0))}return null==a?new Date(NaN):new Date(Math.round(a))}function eE(a){return Math.pow(10,eF(a))}function eF(a){if(0===a)return 0;var b=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,b)>=10&&b++,b}function eG(a,b){var c=eF(a),d=Math.pow(10,c),e=a/d;return a=(b?e<1.5?1:e<2.5?2:e<4?3:e<7?5:10:e<1?1:e<2?2:e<3?3:e<5?5:10)*d,c>=-20?+a.toFixed(c<0?-c:0):a}function eH(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e}function eI(a){a.sort(function(a,b){return!function a(b,c,d){return b.interval[d]<c.interval[d]||b.interval[d]===c.interval[d]&&(b.close[d]-c.close[d]==(d?-1:1)||!d&&a(b,c,1))}(a,b,0)?1:-1});for(var b=-1/0,c=1,d=0;d<a.length;){for(var e=a[d].interval,f=a[d].close,g=0;g<2;g++)e[g]<=b&&(e[g]=b,f[g]=g?1:1-c),b=e[g],c=f[g];e[0]===e[1]&&f[0]*f[1]!=1?a.splice(d,1):d++}return a}function eJ(a){var b=parseFloat(a);return b==a&&(0!==b||!aQ(a)||0>=a.indexOf("x"))?b:NaN}function eK(a){return!isNaN(eJ(a))}function eL(){return Math.round(9*Math.random())}function eM(a,b){return null==a?b:null==b?a:a*b/function a(b,c){return 0===c?b:a(c,b%c)}(a,b)}var eN="series\0",eO="\0_ec_\0";function eP(a){return a instanceof Array?a:null==a?[]:[a]}function eQ(a,b,c){if(a){a[b]=a[b]||{},a.emphasis=a.emphasis||{},a.emphasis[b]=a.emphasis[b]||{};for(var d=0,e=c.length;d<e;d++){var f=c[d];!a.emphasis[b].hasOwnProperty(f)&&a[b].hasOwnProperty(f)&&(a.emphasis[b][f]=a[b][f])}}}var eR=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function eS(a){return!aT(a)||aO(a)||a instanceof Date?a:a.value}function eT(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p="normalMerge"===c,q="replaceMerge"===c,r="replaceAll"===c;a=a||[],b=(b||[]).slice();var s=a7();aH(b,function(a,c){if(!aT(a)){b[c]=null;return}});var t=function(a,b,c){var d=[];if("replaceAll"===c)return d;for(var e=0;e<a.length;e++){var f=a[e];f&&null!=f.id&&b.set(f.id,e),d.push({existing:"replaceMerge"===c||eY(f)?null:f,newOption:null,keyInfo:null,brandNew:null})}return d}(a,s,c);return(p||q)&&(d=t,e=a,f=s,aH(g=b,function(a,b){if(a&&null!=a.id){var c=eV(a.id),h=f.get(c);if(null!=h){var i=d[h];a1(!i.newOption,'Duplicated option on id "'+c+'".'),i.newOption=a,i.existing=e[h],g[b]=null}}})),p&&(h=t,aH(i=b,function(a,b){if(a&&null!=a.name)for(var c=0;c<h.length;c++){var d=h[c].existing;if(!h[c].newOption&&d&&(null==d.id||null==a.id)&&!eY(a)&&!eY(d)&&eU("name",d,a)){h[c].newOption=a,i[b]=null;return}}})),p||q?(j=t,k=b,l=q,aH(k,function(a){if(a){for(var b,c=0;(b=j[c])&&(b.newOption||eY(b.existing)||b.existing&&null!=a.id&&!eU("id",a,b.existing));)c++;b?(b.newOption=a,b.brandNew=l):j.push({newOption:a,brandNew:l,existing:null,keyInfo:null}),c++}})):r&&(m=t,aH(b,function(a){m.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})),n=t,o=a7(),aH(n,function(a){var b=a.existing;b&&o.set(b.id,a)}),aH(n,function(a){var b=a.newOption;a1(!b||null==b.id||!o.get(b.id)||o.get(b.id)===a,"id duplicates: "+(b&&b.id)),b&&null!=b.id&&o.set(b.id,a),a.keyInfo||(a.keyInfo={})}),aH(n,function(a,b){var c=a.existing,d=a.newOption,e=a.keyInfo;if(aT(d)){if(e.name=null!=d.name?eV(d.name):c?c.name:eN+b,c)e.id=eV(c.id);else if(null!=d.id)e.id=eV(d.id);else{var f=0;do e.id="\0"+e.name+"\0"+f++;while(o.get(e.id))}o.set(e.id,a)}}),t}function eU(a,b,c){var d=eW(b[a],null),e=eW(c[a],null);return null!=d&&null!=e&&d===e}function eV(a){return eW(a,"")}function eW(a,b){return null==a?b:aQ(a)?a:aS(a)||aR(a)?a+"":b}function eX(a){var b=a.name;return!!(b&&b.indexOf(eN))}function eY(a){return a&&null!=a.id&&0===eV(a.id).indexOf(eO)}function eZ(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?aO(b.dataIndex)?aI(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?aO(b.name)?aI(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name):void 0}function e$(){var a="__ec_inner_"+e_++;return function(b){return b[a]||(b[a]={})}}var e_=eL();function e0(a,b,c){var d=e1(b,c),e=d.mainTypeSpecified,f=d.queryOptionMap,g=d.others,h=c?c.defaultMainType:null;return!e&&h&&f.set(h,{}),f.each(function(b,d){var e=e4(a,d,b,{useDefault:h===d,enableAll:!c||null==c.enableAll||c.enableAll,enableNone:!c||null==c.enableNone||c.enableNone});g[d+"Models"]=e.models,g[d+"Model"]=e.models[0]}),g}function e1(a,b){if(aQ(a)){var c,d={};d[a+"Index"]=0,c=d}else c=a;var e=a7(),f={},g=!1;return aH(c,function(a,c){if("dataIndex"===c||"dataIndexInside"===c){f[c]=a;return}var d=c.match(/^(\w+)(Index|Id|Name)$/)||[],h=d[1],i=(d[2]||"").toLowerCase();!h||!i||b&&b.includeMainTypes&&0>aE(b.includeMainTypes,h)||(g=g||!!h,(e.get(h)||e.set(h,{}))[i]=a)}),{mainTypeSpecified:g,queryOptionMap:e,others:f}}var e2={useDefault:!0,enableAll:!1,enableNone:!1},e3={useDefault:!1,enableAll:!0,enableNone:!0};function e4(a,b,c,d){d=d||e2;var e=c.index,f=c.id,g=c.name,h={models:null,specified:null!=e||null!=f||null!=g};if(!h.specified){var i=void 0;return h.models=d.useDefault&&(i=a.getComponent(b))?[i]:[],h}return"none"===e||!1===e?(a1(d.enableNone,'`"none"` or `false` is not a valid value on index option.'),h.models=[]):("all"===e&&(a1(d.enableAll,'`"all"` is not a valid value on index option.'),e=f=g=null),h.models=a.queryComponents({mainType:b,index:e,id:f,name:g})),h}function e5(a,b){var c=a7(),d=[];return aH(a,function(a){var e=b(a);(c.get(e)||(d.push(e),c.set(e,[]))).push(a)}),{keys:d,buckets:c}}function e6(a,b,c,d,e){var f=null==b||"auto"===b;if(null==d)return d;if(aS(d)){var g,h=(d-(g=c||0))*e+g;return et(h,f?Math.max(ev(c||0),ev(d)):b)}if(aQ(d))return e<1?c:d;for(var i=[],j=Math.max(c?c.length:0,d.length),k=0;k<j;++k){var l=a.getDimensionInfo(k);if(l&&"ordinal"===l.type)i[k]=(e<1&&c?c:d)[k];else{var m=c&&c[k]?c[k]:0,n=d[k],h=(n-m)*e+m;i[k]=et(h,f?Math.max(ev(m),ev(n)):b)}}return i}var e7="___EC__COMPONENT__CONTAINER___",e8="___EC__EXTENDED_CLASS___";function e9(a){var b={main:"",sub:""};if(a){var c=a.split(".");b.main=c[0]||"",b.sub=c[1]||""}return b}function fa(a,b){a.$constructor=a,a.extend=function(a){var b,c,d=this;if(aP(b=d)&&/^class\s/.test(Function.prototype.toString.call(b)))c=function(a){function b(){return a.apply(this,arguments)||this}return af(b,a),b}(d);else{var e=c=function(){(a.$constructor||d).apply(this,arguments)},f=e.prototype;function g(){}for(var h in g.prototype=this.prototype,e.prototype=new g,f)f.hasOwnProperty(h)&&(e.prototype[h]=f[h]);e.prototype.constructor=e,e.superClass=this}return aC(c.prototype,a),c[e8]=!0,c.extend=this.extend,c.superCall=fd,c.superApply=fe,c.superClass=d,c}}function fb(a,b){a.extend=b.extend}var fc=Math.round(10*Math.random());function fd(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return this.superClass.prototype[b].apply(a,c)}function fe(a,b,c){return this.superClass.prototype[b].apply(a,c)}function ff(a){var b={};a.registerClass=function(a){var c=a.type||a.prototype.type;if(c){a1(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(c),'componentType "'+c+'" illegal'),a.prototype.type=c;var d,e,f=e9(c);f.sub?f.sub!==e7&&(((e=b[(d=f).main])&&e[e7]||((e=b[d.main]={})[e7]=!0),e)[f.sub]=a):b[f.main]=a}return a},a.getClass=function(a,c,d){var e=b[a];if(e&&e[e7]&&(e=c?e[c]:null),d&&!e)throw Error(c?"Component "+a+"."+(c||"")+" is used but not imported.":a+".type should be specified.");return e},a.getClassesByMainType=function(a){var c=e9(a),d=[],e=b[c.main];return e&&e[e7]?aH(e,function(a,b){b!==e7&&d.push(a)}):d.push(e),d},a.hasClass=function(a){return!!b[e9(a).main]},a.getAllClassMainTypes=function(){var a=[];return aH(b,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){var c=b[e9(a).main];return c&&c[e7]}}function fg(a,b){for(var c=0;c<a.length;c++)a[c][1]||(a[c][1]=a[c][0]);return b=b||!1,function(c,d,e){for(var f={},g=0;g<a.length;g++){var h=a[g][1];if(!(d&&aE(d,h)>=0||e&&0>aE(e,h))){var i=c.getShallow(h,b);null!=i&&(f[a[g][0]]=i)}}return f}}var fh=fg([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),fi=function(){function a(){}return a.prototype.getAreaStyle=function(a,b){return fh(this,a,b)},a}(),fj=new cT(50);function fk(a,b,c,d,e){if(!a)return b;if("string"!=typeof a)return a;if(b&&b.__zrImageSrc===a||!c)return b;var f=fj.get(a),g={hostEl:c,cb:d,cbPayload:e};return f?fm(b=f.image)||f.pending.push(g):((b=al.loadImage(a,fl,fl)).__zrImageSrc=a,fj.put(a,b.__cachedImgObj={image:b,pending:[g]})),b}function fl(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload),c.hostEl.dirty()}a.pending.length=0}function fm(a){return a&&a.width&&a.height}var fn=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function fo(a,b,c,d,e){if(!b)return"";var f=(a+"").split("\n");e=fp(b,c,d,e);for(var g=0,h=f.length;g<h;g++)f[g]=fq(f[g],e);return f.join("\n")}function fp(a,b,c,d){var e=aC({},d=d||{});e.font=b,c=aZ(c,"..."),e.maxIterations=aZ(d.maxIterations,2);var f=e.minChar=aZ(d.minChar,0);e.cnCharWidth=d6("",b);var g=e.ascCharWidth=d6("a",b);e.placeholder=aZ(d.placeholder,"");for(var h=a=Math.max(0,a-1),i=0;i<f&&h>=g;i++)h-=g;var j=d6(c,b);return j>h&&(c="",j=0),h=a-j,e.ellipsis=c,e.ellipsisWidth=j,e.contentWidth=h,e.containerWidth=a,e}function fq(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=d6(a,d);if(f<=c)return a;for(var g=0;;g++){if(f<=e||g>=b.maxIterations){a+=b.ellipsis;break}var h=0===g?function(a,b,c,d){for(var e=0,f=0,g=a.length;f<g&&e<b;f++){var h=a.charCodeAt(f);e+=0<=h&&h<=127?c:d}return f}(a,e,b.ascCharWidth,b.cnCharWidth):f>0?Math.floor(a.length*e/f):0;f=d6(a=a.substr(0,h),d)}return""===a&&(a=b.placeholder),a}var fr=function(){},fs=function(a){this.tokens=[],a&&(this.tokens=a)},ft=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function fu(a,b,c,d,e){var f,g,h=""===b,i=e&&c.rich[e]||{},j=a.lines,k=i.font||c.font,l=!1;if(d){var m=i.padding,n=m?m[1]+m[3]:0;if(null!=i.width&&"auto"!==i.width){var o=ec(i.width,d.width)+n;j.length>0&&o+d.accumWidth>d.width&&(f=b.split("\n"),l=!0),d.accumWidth=o}else{var p=fw(b,k,d.width,d.breakAll,d.accumWidth);d.accumWidth=p.accumWidth+n,g=p.linesWidths,f=p.lines}}else f=b.split("\n");for(var q=0;q<f.length;q++){var r=f[q],s=new fr;if(s.styleName=e,s.text=r,s.isLineHolder=!r&&!h,"number"==typeof i.width?s.width=i.width:s.width=g?g[q]:d6(r,k),q||l)j.push(new fs([s]));else{var t=(j[j.length-1]||(j[0]=new fs)).tokens,u=t.length;1===u&&t[0].isLineHolder?t[0]=s:(r||!u||h)&&t.push(s)}}}var fv=aJ(",&?/;] ".split(""),function(a,b){return a[b]=!0,a},{});function fw(a,b,c,d,e){for(var f=[],g=[],h="",i="",j=0,k=0,l=0;l<a.length;l++){var m=a.charAt(l);if("\n"===m){i&&(h+=i,k+=j),f.push(h),g.push(k),h="",i="",j=0,k=0;continue}var n=d6(m,b),o=!d&&!function(a){var b;return(!((b=a.charCodeAt(0))>=32)||!(b<=591))&&(!(b>=880)||!(b<=4351))&&(!(b>=4608)||!(b<=5119))&&(!(b>=7680)||!(b<=8303))||!!fv[a]}(m);if(f.length?k+n>c:e+k+n>c){k?(h||i)&&(o?(h||(h=i,i="",k=j=0),f.push(h),g.push(k-j),i+=m,j+=n,h="",k=j):(i&&(h+=i,i="",j=0),f.push(h),g.push(k),h=m,k=n)):o?(f.push(i),g.push(j),i=m,j=n):(f.push(m),g.push(n));continue}k+=n,o?(i+=m,j+=n):(i&&(h+=i,i="",j=0),h+=m)}return f.length||h||(h=a,i="",j=0),i&&(h+=i),h&&(f.push(h),g.push(k)),1===f.length&&(k+=e),{accumWidth:k,lines:f,linesWidths:g}}var fx="__zr_style_"+Math.round(10*Math.random()),fy={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},fz={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};fy[fx]=!0;var fA=["z","z2","invisible"],fB=["invisible"],fC=function(a){var b;function c(b){return a.call(this,b)||this}return bf(c,a),c.prototype._init=function(b){for(var c=aL(b),d=0;d<c.length;d++){var e=c[d];"style"===e?this.useStyle(b[e]):a.prototype.attrKV.call(this,e,b[e])}this.style||this.useStyle({})},c.prototype.beforeBrush=function(){},c.prototype.afterBrush=function(){},c.prototype.innerBeforeBrush=function(){},c.prototype.innerAfterBrush=function(){},c.prototype.shouldBePainted=function(a,b,c,d){var e,f,g,h=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(e=this,f=a,g=b,fD.copy(e.getBoundingRect()),e.transform&&fD.applyTransform(e.transform),fE.width=f,fE.height=g,!fD.intersect(fE))||h&&!h[0]&&!h[3])return!1;if(c&&this.__clipPaths){for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1}if(d&&this.parent)for(var j=this.parent;j;){if(j.ignore)return!1;j=j.parent}return!0},c.prototype.contain=function(a,b){return this.rectContain(a,b)},c.prototype.traverse=function(a,b){a.call(b,this)},c.prototype.rectContain=function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},c.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var b=this.transform,c=this.getBoundingRect(),d=this.style,e=d.shadowBlur||0,f=d.shadowOffsetX||0,g=d.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new ca(0,0,0,0)),b?ca.applyTransform(a,c,b):a.copy(c),(e||f||g)&&(a.width+=2*e+Math.abs(f),a.height+=2*e+Math.abs(g),a.x=Math.min(a.x,a.x+f-e),a.y=Math.min(a.y,a.y+g-e));var h=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-h),a.y=Math.floor(a.y-h),a.width=Math.ceil(a.width+1+2*h),a.height=Math.ceil(a.height+1+2*h))}return a},c.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new ca(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},c.prototype.getPrevPaintRect=function(){return this._prevPaintRect},c.prototype.animateStyle=function(a){return this.animate("style",a)},c.prototype.updateDuringAnimation=function(a){"style"===a?this.dirtyStyle():this.markRedraw()},c.prototype.attrKV=function(b,c){"style"!==b?a.prototype.attrKV.call(this,b,c):this.style?this.setStyle(c):this.useStyle(c)},c.prototype.setStyle=function(a,b){return"string"==typeof a?this.style[a]=b:aC(this.style,a),this.dirtyStyle(),this},c.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},c.prototype.dirty=function(){this.dirtyStyle()},c.prototype.styleChanged=function(){return!!(2&this.__dirty)},c.prototype.styleUpdated=function(){this.__dirty&=-3},c.prototype.createStyle=function(a){return a9(fy,a)},c.prototype.useStyle=function(a){a[fx]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},c.prototype.isStyleObject=function(a){return a[fx]},c.prototype._innerSaveToNormal=function(b){a.prototype._innerSaveToNormal.call(this,b);var c=this._normalState;b.style&&!c.style&&(c.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(b,c,fA)},c.prototype._applyStateObj=function(b,c,d,e,f,g){a.prototype._applyStateObj.call(this,b,c,d,e,f,g);var h,i=!(c&&e);if(c&&c.style?f?e?h=c.style:(h=this._mergeStyle(this.createStyle(),d.style),this._mergeStyle(h,c.style)):(h=this._mergeStyle(this.createStyle(),e?this.style:d.style),this._mergeStyle(h,c.style)):i&&(h=d.style),h)if(f){var j=this.style;if(this.style=this.createStyle(i?{}:j),i)for(var k=aL(j),l=0;l<k.length;l++){var m=k[l];m in h&&(h[m]=h[m],this.style[m]=j[m])}for(var n=aL(h),l=0;l<n.length;l++){var m=n[l];this.style[m]=this.style[m]}this._transitionState(b,{style:h},g,this.getAnimationStyleProps())}else this.useStyle(h);for(var o=this.__inHover?fB:fA,l=0;l<o.length;l++){var m=o[l];c&&null!=c[m]?this[m]=c[m]:i&&null!=d[m]&&(this[m]=d[m])}},c.prototype._mergeStates=function(b){for(var c,d=a.prototype._mergeStates.call(this,b),e=0;e<b.length;e++){var f=b[e];f.style&&(c=c||{},this._mergeStyle(c,f.style))}return c&&(d.style=c),d},c.prototype._mergeStyle=function(a,b){return aC(a,b),a},c.prototype.getAnimationStyleProps=function(){return fz},c.initDefaultProps=void((b=c.prototype).type="displayable",b.invisible=!1,b.z=0,b.z2=0,b.zlevel=0,b.culling=!1,b.cursor="pointer",b.rectHover=!1,b.incremental=!1,b._rect=null,b.dirtyRectTolerance=0,b.__dirty=3),c}(ej),fD=new ca(0,0,0,0),fE=new ca(0,0,0,0),fF=Math.min,fG=Math.max,fH=Math.sin,fI=Math.cos,fJ=2*Math.PI,fK=bg(),fL=bg(),fM=bg();function fN(a,b,c){if(0!==a.length){for(var d=a[0],e=d[0],f=d[0],g=d[1],h=d[1],i=1;i<a.length;i++)e=fF(e,(d=a[i])[0]),f=fG(f,d[0]),g=fF(g,d[1]),h=fG(h,d[1]);b[0]=e,b[1]=g,c[0]=f,c[1]=h}}function fO(a,b,c,d,e,f){e[0]=fF(a,c),e[1]=fF(b,d),f[0]=fG(a,c),f[1]=fG(b,d)}var fP=[],fQ=[],fR={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},fS=[],fT=[],fU=[],fV=[],fW=[],fX=[],fY=Math.min,fZ=Math.max,f$=Math.cos,f_=Math.sin,f0=Math.abs,f1=Math.PI,f2=2*f1,f3="undefined"!=typeof Float32Array,f4=[];function f5(a){return Math.round(a/f1*1e8)/1e8%2*f1}function f6(a,b){var c=f5(a[0]);c<0&&(c+=f2);var d=c-a[0],e=a[1];e+=d,!b&&e-c>=f2?e=c+f2:b&&c-e>=f2?e=c-f2:!b&&c>e?e=c+(f2-f5(c-e)):b&&c<e&&(e=c-(f2-f5(e-c))),a[0]=c,a[1]=e}var f7=function(){var a;function b(a){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,a&&(this._saveData=!1),this._saveData&&(this.data=[])}return b.prototype.increaseVersion=function(){this._version++},b.prototype.getVersion=function(){return this._version},b.prototype.setScale=function(a,b,c){(c=c||0)>0&&(this._ux=f0(c/dW/a)||0,this._uy=f0(c/dW/b)||0)},b.prototype.setDPR=function(a){this.dpr=a},b.prototype.setContext=function(a){this._ctx=a},b.prototype.getContext=function(){return this._ctx},b.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},b.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},b.prototype.moveTo=function(a,b){return this._drawPendingPt(),this.addData(fR.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},b.prototype.lineTo=function(a,b){var c=f0(a-this._xi),d=f0(b-this._yi),e=c>this._ux||d>this._uy;if(this.addData(fR.L,a,b),this._ctx&&e&&this._ctx.lineTo(a,b),e)this._xi=a,this._yi=b,this._pendingPtDist=0;else{var f=c*c+d*d;f>this._pendingPtDist&&(this._pendingPtX=a,this._pendingPtY=b,this._pendingPtDist=f)}return this},b.prototype.bezierCurveTo=function(a,b,c,d,e,f){return this._drawPendingPt(),this.addData(fR.C,a,b,c,d,e,f),this._ctx&&this._ctx.bezierCurveTo(a,b,c,d,e,f),this._xi=e,this._yi=f,this},b.prototype.quadraticCurveTo=function(a,b,c,d){return this._drawPendingPt(),this.addData(fR.Q,a,b,c,d),this._ctx&&this._ctx.quadraticCurveTo(a,b,c,d),this._xi=c,this._yi=d,this},b.prototype.arc=function(a,b,c,d,e,f){this._drawPendingPt(),f4[0]=d,f4[1]=e,f6(f4,f),d=f4[0];var g=(e=f4[1])-d;return this.addData(fR.A,a,b,c,c,d,g,0,+!f),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=f$(e)*c+a,this._yi=f_(e)*c+b,this},b.prototype.arcTo=function(a,b,c,d,e){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},b.prototype.rect=function(a,b,c,d){return this._drawPendingPt(),this._ctx&&this._ctx.rect(a,b,c,d),this.addData(fR.R,a,b,c,d),this},b.prototype.closePath=function(){this._drawPendingPt(),this.addData(fR.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&a.closePath(),this._xi=b,this._yi=c,this},b.prototype.fill=function(a){a&&a.fill(),this.toStatic()},b.prototype.stroke=function(a){a&&a.stroke(),this.toStatic()},b.prototype.len=function(){return this._len},b.prototype.setData=function(a){var b=a.length;!(this.data&&this.data.length===b)&&f3&&(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b},b.prototype.appendPath=function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();f3&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(var e=0;e<b;e++)for(var f=a[e].data,g=0;g<f.length;g++)this.data[d++]=f[g];this._len=d},b.prototype.addData=function(a,b,c,d,e,f,g,h,i){if(this._saveData){var j=this.data;this._len+arguments.length>j.length&&(this._expandData(),j=this.data);for(var k=0;k<arguments.length;k++)j[this._len++]=arguments[k]}},b.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},b.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},b.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var a=this.data;a instanceof Array&&(a.length=this._len,f3&&this._len>11&&(this.data=new Float32Array(a)))}},b.prototype.getBoundingRect=function(){fU[0]=fU[1]=fW[0]=fW[1]=Number.MAX_VALUE,fV[0]=fV[1]=fX[0]=fX[1]=-Number.MAX_VALUE;var a,b=this.data,c=0,d=0,e=0,f=0;for(a=0;a<this._len;){var g=b[a++],h=1===a;switch(h&&(c=b[a],d=b[a+1],e=c,f=d),g){case fR.M:c=e=b[a++],d=f=b[a++],fW[0]=e,fW[1]=f,fX[0]=e,fX[1]=f;break;case fR.L:fO(c,d,b[a],b[a+1],fW,fX),c=b[a++],d=b[a++];break;case fR.C:!function(a,b,c,d,e,f,g,h,i,j){var k=cG(a,c,e,g,fP);i[0]=1/0,i[1]=1/0,j[0]=-1/0,j[1]=-1/0;for(var l=0;l<k;l++){var m=cD(a,c,e,g,fP[l]);i[0]=fF(m,i[0]),j[0]=fG(m,j[0])}k=cG(b,d,f,h,fQ);for(var l=0;l<k;l++){var n=cD(b,d,f,h,fQ[l]);i[1]=fF(n,i[1]),j[1]=fG(n,j[1])}i[0]=fF(a,i[0]),j[0]=fG(a,j[0]),i[0]=fF(g,i[0]),j[0]=fG(g,j[0]),i[1]=fF(b,i[1]),j[1]=fG(b,j[1]),i[1]=fF(h,i[1]),j[1]=fG(h,j[1])}(c,d,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],fW,fX),c=b[a++],d=b[a++];break;case fR.Q:!function(a,b,c,d,e,f,g,h){var i=fG(fF(cL(a,c,e),1),0),j=fG(fF(cL(b,d,f),1),0),k=cJ(a,c,e,i),l=cJ(b,d,f,j);g[0]=fF(a,e,k),g[1]=fF(b,f,l),h[0]=fG(a,e,k),h[1]=fG(b,f,l)}(c,d,b[a++],b[a++],b[a],b[a+1],fW,fX),c=b[a++],d=b[a++];break;case fR.A:var i=b[a++],j=b[a++],k=b[a++],l=b[a++],m=b[a++],n=b[a++]+m;a+=1;var o=!b[a++];h&&(e=f$(m)*k+i,f=f_(m)*l+j),function(a,b,c,d,e,f,g,h,i){var j=Math.abs(e-f);if(j%fJ<1e-4&&j>1e-4){h[0]=a-c,h[1]=b-d,i[0]=a+c,i[1]=b+d;return}if(fK[0]=fI(e)*c+a,fK[1]=fH(e)*d+b,fL[0]=fI(f)*c+a,fL[1]=fH(f)*d+b,bt(h,fK,fL),bu(i,fK,fL),(e%=fJ)<0&&(e+=fJ),(f%=fJ)<0&&(f+=fJ),e>f&&!g?f+=fJ:e<f&&g&&(e+=fJ),g){var k=f;f=e,e=k}for(var l=0;l<f;l+=Math.PI/2)l>e&&(fM[0]=fI(l)*c+a,fM[1]=fH(l)*d+b,bt(h,fM,h),bu(i,fM,i))}(i,j,k,l,m,n,o,fW,fX),c=f$(n)*k+i,d=f_(n)*l+j;break;case fR.R:fO(e=c=b[a++],f=d=b[a++],e+b[a++],f+b[a++],fW,fX);break;case fR.Z:c=e,d=f}bt(fU,fU,fW),bu(fV,fV,fX)}return 0===a&&(fU[0]=fU[1]=fV[0]=fV[1]=0),new ca(fU[0],fU[1],fV[0]-fU[0],fV[1]-fU[1])},b.prototype._calculateLength=function(){var a=this.data,b=this._len,c=this._ux,d=this._uy,e=0,f=0,g=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var i=this._pathSegLen,j=0,k=0,l=0;l<b;){var m=a[l++],n=1===l;n&&(e=a[l],f=a[l+1],g=e,h=f);var o=-1;switch(m){case fR.M:e=g=a[l++],f=h=a[l++];break;case fR.L:var p=a[l++],q=a[l++],r=p-e,s=q-f;(f0(r)>c||f0(s)>d||l===b-1)&&(o=Math.sqrt(r*r+s*s),e=p,f=q);break;case fR.C:var t=a[l++],u=a[l++],p=a[l++],q=a[l++],v=a[l++],w=a[l++];o=function(a,b,c,d,e,f,g,h,i){for(var j=a,k=b,l=0,m=1;m<=10;m++){var n=.1*m,o=cD(a,c,e,g,n),p=cD(b,d,f,h,n),q=o-j,r=p-k;l+=Math.sqrt(q*q+r*r),j=o,k=p}return l}(e,f,t,u,p,q,v,w,0),e=v,f=w;break;case fR.Q:var t=a[l++],u=a[l++],p=a[l++],q=a[l++];o=function(a,b,c,d,e,f,g){for(var h=a,i=b,j=0,k=1;k<=10;k++){var l=.1*k,m=cJ(a,c,e,l),n=cJ(b,d,f,l),o=m-h,p=n-i;j+=Math.sqrt(o*o+p*p),h=m,i=n}return j}(e,f,t,u,p,q,0),e=p,f=q;break;case fR.A:var x=a[l++],y=a[l++],z=a[l++],A=a[l++],B=a[l++],C=a[l++],D=C+B;l+=1,n&&(g=f$(B)*z+x,h=f_(B)*A+y),o=fZ(z,A)*fY(f2,Math.abs(C)),e=f$(D)*z+x,f=f_(D)*A+y;break;case fR.R:g=e=a[l++],h=f=a[l++],o=2*a[l++]+2*a[l++];break;case fR.Z:var r=g-e,s=h-f;o=Math.sqrt(r*r+s*s),e=g,f=h}o>=0&&(i[k++]=o,j+=o)}return this._pathLen=j,j},b.prototype.rebuildPath=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this.data,n=this._ux,o=this._uy,p=this._len,q=b<1,r=0,s=0,t=0;if(!q||(this._pathSegLen||this._calculateLength(),i=this._pathSegLen,j=b*this._pathLen))a:for(var u=0;u<p;){var v=m[u++],w=1===u;switch(w&&(e=m[u],f=m[u+1],c=e,d=f),v!==fR.L&&t>0&&(a.lineTo(k,l),t=0),v){case fR.M:c=e=m[u++],d=f=m[u++],a.moveTo(e,f);break;case fR.L:g=m[u++],h=m[u++];var x=f0(g-e),y=f0(h-f);if(x>n||y>o){if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;a.lineTo(e*(1-A)+g*A,f*(1-A)+h*A);break a}r+=z}a.lineTo(g,h),e=g,f=h,t=0}else{var B=x*x+y*y;B>t&&(k=g,l=h,t=B)}break;case fR.C:var C=m[u++],D=m[u++],E=m[u++],F=m[u++],G=m[u++],H=m[u++];if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;cH(e,C,E,G,A,fS),cH(f,D,F,H,A,fT),a.bezierCurveTo(fS[1],fT[1],fS[2],fT[2],fS[3],fT[3]);break a}r+=z}a.bezierCurveTo(C,D,E,F,G,H),e=G,f=H;break;case fR.Q:var C=m[u++],D=m[u++],E=m[u++],F=m[u++];if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;cM(e,C,E,A,fS),cM(f,D,F,A,fT),a.quadraticCurveTo(fS[1],fT[1],fS[2],fT[2]);break a}r+=z}a.quadraticCurveTo(C,D,E,F),e=E,f=F;break;case fR.A:var I=m[u++],J=m[u++],K=m[u++],L=m[u++],M=m[u++],N=m[u++],O=m[u++],P=!m[u++],Q=K>L?K:L,R=f0(K-L)>.001,S=M+N,T=!1;if(q){var z=i[s++];r+z>j&&(S=M+N*(j-r)/z,T=!0),r+=z}if(R&&a.ellipse?a.ellipse(I,J,K,L,O,M,S,P):a.arc(I,J,Q,M,S,P),T)break a;w&&(c=f$(M)*K+I,d=f_(M)*L+J),e=f$(S)*K+I,f=f_(S)*L+J;break;case fR.R:c=e=m[u],d=f=m[u+1],g=m[u++],h=m[u++];var U=m[u++],V=m[u++];if(q){var z=i[s++];if(r+z>j){var W=j-r;a.moveTo(g,h),a.lineTo(g+fY(W,U),h),(W-=U)>0&&a.lineTo(g+U,h+fY(W,V)),(W-=V)>0&&a.lineTo(g+fZ(U-W,0),h+V),(W-=U)>0&&a.lineTo(g,h+fZ(V-W,0));break a}r+=z}a.rect(g,h,U,V);break;case fR.Z:if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;a.lineTo(e*(1-A)+c*A,f*(1-A)+d*A);break a}r+=z}a.closePath(),e=c,f=d}}},b.prototype.clone=function(){var a=new b,c=this.data;return a.data=c.slice?c.slice():Array.prototype.slice.call(c),a._len=this._len,a},b.CMD=fR,b.initDefaultProps=void((a=b.prototype)._saveData=!0,a._ux=0,a._uy=0,a._pendingPtDist=0,a._version=0),b}();function f8(a,b,c,d,e,f,g){if(0===e)return!1;var h=0,i=a;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a===c)return Math.abs(f-a)<=e/2;h=(b-d)/(a-c);var j=h*f-g+(i=(a*d-c*b)/(a-c));return j*j/(h*h+1)<=e/2*e/2}function f9(a,b,c,d,e,f,g,h,i){return 0!==g&&(!(i>b+g)||!(i>d+g)||!(i>f+g))&&(!(i<b-g)||!(i<d-g)||!(i<f-g))&&(!(h>a+g)||!(h>c+g)||!(h>e+g))&&(!(h<a-g)||!(h<c-g)||!(h<e-g))&&cN(a,b,c,d,e,f,h,i,null)<=g/2}var ga=2*Math.PI;function gb(a){return(a%=ga)<0&&(a+=ga),a}var gc=2*Math.PI;function gd(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=(f-b)/(d-b),h=d<b?1:-1;(1===g||0===g)&&(h=d<b?.5:-.5);var i=g*(c-a)+a;return i===e?1/0:i>e?h:0}var ge=f7.CMD,gf=2*Math.PI,gg=[-1,-1,-1],gh=[-1,-1];function gi(a,b,c,d,e){for(var f,g,h=a.data,i=a.len(),j=0,k=0,l=0,m=0,n=0,o=0;o<i;){var p,q,r,s,t,u,v,w,x=h[o++],y=1===o;switch(x===ge.M&&o>1&&!c&&(j+=gd(k,l,m,n,d,e)),y&&(k=h[o],l=h[o+1],m=k,n=l),x){case ge.M:m=h[o++],n=h[o++],k=m,l=n;break;case ge.L:if(c){if(f8(k,l,h[o],h[o+1],b,d,e))return!0}else j+=gd(k,l,h[o],h[o+1],d,e)||0;k=h[o++],l=h[o++];break;case ge.C:if(c){if(p=k,q=l,r=h[o++],s=h[o++],t=h[o++],u=h[o++],v=h[o],w=h[o+1],0!==b&&(!(e>q+b)||!(e>s+b)||!(e>u+b)||!(e>w+b))&&(!(e<q-b)||!(e<s-b)||!(e<u-b)||!(e<w-b))&&(!(d>p+b)||!(d>r+b)||!(d>t+b)||!(d>v+b))&&(!(d<p-b)||!(d<r-b)||!(d<t-b)||!(d<v-b))&&cI(p,q,r,s,t,u,v,w,d,e,null)<=b/2)return!0}else j+=function(a,b,c,d,e,f,g,h,i,j){if(j>b&&j>d&&j>f&&j>h||j<b&&j<d&&j<f&&j<h)return 0;var k=cF(b,d,f,h,j,gg);if(0===k)return 0;for(var l=0,m=-1,n=void 0,o=void 0,p=0;p<k;p++){var q=gg[p],r=0===q||1===q?.5:1;cD(a,c,e,g,q)<i||(m<0&&(m=cG(b,d,f,h,gh),gh[1]<gh[0]&&m>1&&function(){var a=gh[0];gh[0]=gh[1],gh[1]=a}(),n=cD(b,d,f,h,gh[0]),m>1&&(o=cD(b,d,f,h,gh[1]))),2===m?q<gh[0]?l+=n<b?r:-r:q<gh[1]?l+=o<n?r:-r:l+=h<o?r:-r:q<gh[0]?l+=n<b?r:-r:l+=h<n?r:-r)}return l}(k,l,h[o++],h[o++],h[o++],h[o++],h[o],h[o+1],d,e)||0;k=h[o++],l=h[o++];break;case ge.Q:if(c){if(f9(k,l,h[o++],h[o++],h[o],h[o+1],b,d,e))return!0}else j+=function(a,b,c,d,e,f,g,h){if(h>b&&h>d&&h>f||h<b&&h<d&&h<f)return 0;var i=function(a,b,c,d,e){var f=a-2*b+c,g=2*(b-a),h=a-d,i=0;if(cB(f)){if(cC(g)){var j=-h/g;j>=0&&j<=1&&(e[i++]=j)}}else{var k=g*g-4*f*h;if(cB(k)){var j=-g/(2*f);j>=0&&j<=1&&(e[i++]=j)}else if(k>0){var l=cv(k),j=(-g+l)/(2*f),m=(-g-l)/(2*f);j>=0&&j<=1&&(e[i++]=j),m>=0&&m<=1&&(e[i++]=m)}}return i}(b,d,f,h,gg);if(0===i)return 0;var j=cL(b,d,f);if(j>=0&&j<=1){for(var k=0,l=cJ(b,d,f,j),m=0;m<i;m++){var n=0===gg[m]||1===gg[m]?.5:1,o=cJ(a,c,e,gg[m]);o<g||(gg[m]<j?k+=l<b?n:-n:k+=f<l?n:-n)}return k}var n=0===gg[0]||1===gg[0]?.5:1,o=cJ(a,c,e,gg[0]);return o<g?0:f<b?n:-n}(k,l,h[o++],h[o++],h[o],h[o+1],d,e)||0;k=h[o++],l=h[o++];break;case ge.A:var z=h[o++],A=h[o++],B=h[o++],C=h[o++],D=h[o++],E=h[o++];o+=1;var F=!!(1-h[o++]);f=Math.cos(D)*B+z,g=Math.sin(D)*C+A,y?(m=f,n=g):j+=gd(k,l,f,g,d,e);var G=(d-z)*C/B+z;if(c){if(function(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=Math.sqrt((h-=a)*h+(i-=b)*i);if(j-g>c||j+g<c)return!1;if(Math.abs(d-e)%gc<1e-4)return!0;if(f){var k=d;d=gb(e),e=gb(k)}else d=gb(d),e=gb(e);d>e&&(e+=gc);var l=Math.atan2(i,h);return l<0&&(l+=gc),l>=d&&l<=e||l+gc>=d&&l+gc<=e}(z,A,C,D,D+E,F,b,G,e))return!0}else j+=function(a,b,c,d,e,f,g,h){if((h-=b)>c||h<-c)return 0;var i=Math.sqrt(c*c-h*h);gg[0]=-i,gg[1]=i;var j=Math.abs(d-e);if(j<1e-4)return 0;if(j>=gf-1e-4){d=0,e=gf;var k=f?1:-1;return g>=gg[0]+a&&g<=gg[1]+a?k:0}if(d>e){var l=d;d=e,e=l}d<0&&(d+=gf,e+=gf);for(var m=0,n=0;n<2;n++){var o=gg[n];if(o+a>g){var p=Math.atan2(h,o),k=f?1:-1;p<0&&(p=gf+p),(p>=d&&p<=e||p+gf>=d&&p+gf<=e)&&(p>Math.PI/2&&p<1.5*Math.PI&&(k=-k),m+=k)}}return m}(z,A,C,D,D+E,F,G,e);k=Math.cos(D+E)*B+z,l=Math.sin(D+E)*C+A;break;case ge.R:m=k=h[o++],n=l=h[o++];var H=h[o++],I=h[o++];if(f=m+H,g=n+I,c){if(f8(m,n,f,n,b,d,e)||f8(f,n,f,g,b,d,e)||f8(f,g,m,g,b,d,e)||f8(m,g,m,n,b,d,e))return!0}else j+=gd(f,n,f,g,d,e),j+=gd(m,g,m,n,d,e);break;case ge.Z:if(c){if(f8(k,l,m,n,b,d,e))return!0}else j+=gd(k,l,m,n,d,e);k=m,l=n}}return c||1e-4>Math.abs(l-n)||(j+=gd(k,l,m,n,d,e)||0),0!==j}var gj=aD({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},fy),gk={style:aD({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},fz.style)},gl=d3.concat(["invisible","culling","z","z2","zlevel","parent"]),gm=function(a){var b;function c(b){return a.call(this,b)||this}return bf(c,a),c.prototype.update=function(){var b=this;a.prototype.update.call(this);var d=this.style;if(d.decal){var e=this._decalEl=this._decalEl||new c;e.buildPath===c.prototype.buildPath&&(e.buildPath=function(a){b.buildPath(a,b.shape)}),e.silent=!0;var f=e.style;for(var g in d)f[g]!==d[g]&&(f[g]=d[g]);f.fill=d.fill?d.decal:null,f.decal=null,f.shadowColor=null,d.strokeFirst&&(f.stroke=null);for(var h=0;h<gl.length;++h)e[gl[h]]=this[gl[h]];e.__dirty|=1}else this._decalEl&&(this._decalEl=null)},c.prototype.getDecalElement=function(){return this._decalEl},c.prototype._init=function(b){var c=aL(b);this.shape=this.getDefaultShape();var d=this.getDefaultStyle();d&&this.useStyle(d);for(var e=0;e<c.length;e++){var f=c[e],g=b[f];"style"===f?this.style?aC(this.style,g):this.useStyle(g):"shape"===f?aC(this.shape,g):a.prototype.attrKV.call(this,f,g)}this.style||this.useStyle({})},c.prototype.getDefaultStyle=function(){return null},c.prototype.getDefaultShape=function(){return{}},c.prototype.canBeInsideText=function(){return this.hasFill()},c.prototype.getInsideTextFill=function(){var a=this.style.fill;if("none"!==a){if(aQ(a)){var b=da(a,0);return b>.5?dX:b>.2?"#eee":dY}else if(a)return dY}return dX},c.prototype.getInsideTextStroke=function(a){var b=this.style.fill;if(aQ(b)){var c=this.__zr;if(!!(c&&c.isDarkMode())==.4>da(a,0))return b}},c.prototype.buildPath=function(a,b,c){},c.prototype.pathUpdated=function(){this.__dirty&=-5},c.prototype.getUpdatedPathProxy=function(a){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},c.prototype.createPathProxy=function(){this.path=new f7(!1)},c.prototype.hasStroke=function(){var a=this.style,b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0},c.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},c.prototype.getBoundingRect=function(){var a=this._rect,b=this.style,c=!a;if(c){var d=!1;this.path||(d=!0,this.createPathProxy());var e=this.path;(d||4&this.__dirty)&&(e.beginPath(),this.buildPath(e,this.shape,!1),this.pathUpdated()),a=e.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||c){f.copy(a);var g=b.strokeNoScale?this.getLineScale():1,h=b.lineWidth;if(!this.hasFill()){var i=this.strokeContainThreshold;h=Math.max(h,null==i?4:i)}g>1e-10&&(f.width+=h/g,f.height+=h/g,f.x-=h/g/2,f.y-=h/g/2)}return f}return a},c.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){var f=this.path;if(this.hasStroke()){var g=e.lineWidth,h=e.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),gi(f,g/h,!0,a,b)))return!0}if(this.hasFill())return gi(f,0,!1,a,b)}return!1},c.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},c.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},c.prototype.animateShape=function(a){return this.animate("shape",a)},c.prototype.updateDuringAnimation=function(a){"style"===a?this.dirtyStyle():"shape"===a?this.dirtyShape():this.markRedraw()},c.prototype.attrKV=function(b,c){"shape"===b?this.setShape(c):a.prototype.attrKV.call(this,b,c)},c.prototype.setShape=function(a,b){var c=this.shape;return c||(c=this.shape={}),"string"==typeof a?c[a]=b:aC(c,a),this.dirtyShape(),this},c.prototype.shapeChanged=function(){return!!(4&this.__dirty)},c.prototype.createStyle=function(a){return a9(gj,a)},c.prototype._innerSaveToNormal=function(b){a.prototype._innerSaveToNormal.call(this,b);var c=this._normalState;b.shape&&!c.shape&&(c.shape=aC({},this.shape))},c.prototype._applyStateObj=function(b,c,d,e,f,g){a.prototype._applyStateObj.call(this,b,c,d,e,f,g);var h,i=!(c&&e);if(c&&c.shape?f?e?h=c.shape:(h=aC({},d.shape),aC(h,c.shape)):(h=aC({},e?this.shape:d.shape),aC(h,c.shape)):i&&(h=d.shape),h)if(f){this.shape=aC({},this.shape);for(var j={},k=aL(h),l=0;l<k.length;l++){var m=k[l];"object"==typeof h[m]?this.shape[m]=h[m]:j[m]=h[m]}this._transitionState(b,{shape:j},g)}else this.shape=h,this.dirtyShape()},c.prototype._mergeStates=function(b){for(var c,d=a.prototype._mergeStates.call(this,b),e=0;e<b.length;e++){var f=b[e];f.shape&&(c=c||{},this._mergeStyle(c,f.shape))}return c&&(d.shape=c),d},c.prototype.getAnimationStyleProps=function(){return gk},c.prototype.isZeroArea=function(){return!1},c.extend=function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return a.init&&a.init.call(d,c),d}return bf(c,b),c.prototype.getDefaultStyle=function(){return az(a.style)},c.prototype.getDefaultShape=function(){return az(a.shape)},c}(c);for(var d in a)"function"==typeof a[d]&&(b.prototype[d]=a[d]);return b},c.initDefaultProps=void((b=c.prototype).type="path",b.strokeContainThreshold=5,b.segmentIgnoreThreshold=0,b.subPixelOptimize=!1,b.autoBatch=!1,b.__dirty=7),c}(fC),gn=aD({strokeFirst:!0,font:aj,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},gj),go=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bf(b,a),b.prototype.hasStroke=function(){var a=this.style,b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0},b.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},b.prototype.createStyle=function(a){return a9(gn,a)},b.prototype.setBoundingRect=function(a){this._rect=a},b.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var b=a.text;null!=b?b+="":b="";var c=d8(b,a.font,a.textAlign,a.textBaseline);if(c.x+=a.x||0,c.y+=a.y||0,this.hasStroke()){var d=a.lineWidth;c.x-=d/2,c.y-=d/2,c.width+=d,c.height+=d}this._rect=c}return this._rect},b.initDefaultProps=void(b.prototype.dirtyRectTolerance=10),b}(fC);go.prototype.type="tspan";var gp=aD({x:0,y:0},fy),gq={style:aD({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},fz.style)},gr=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bf(b,a),b.prototype.createStyle=function(a){return a9(gp,a)},b.prototype._getSize=function(a){var b,c=this.style,d=c[a];if(null!=d)return d;var e=(b=c.image)&&"string"!=typeof b&&b.width&&b.height?c.image:this.__image;if(!e)return 0;var f="width"===a?"height":"width",g=c[f];return null==g?e[a]:e[a]/e[f]*g},b.prototype.getWidth=function(){return this._getSize("width")},b.prototype.getHeight=function(){return this._getSize("height")},b.prototype.getAnimationStyleProps=function(){return gq},b.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new ca(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},b}(fC);gr.prototype.type="image";var gs=Math.round;function gt(a,b,c){if(b){var d=b.x1,e=b.x2,f=b.y1,g=b.y2;a.x1=d,a.x2=e,a.y1=f,a.y2=g;var h=c&&c.lineWidth;return h&&(gs(2*d)===gs(2*e)&&(a.x1=a.x2=gv(d,h,!0)),gs(2*f)===gs(2*g)&&(a.y1=a.y2=gv(f,h,!0))),a}}function gu(a,b,c){if(b){var d=b.x,e=b.y,f=b.width,g=b.height;a.x=d,a.y=e,a.width=f,a.height=g;var h=c&&c.lineWidth;return h&&(a.x=gv(d,h,!0),a.y=gv(e,h,!0),a.width=Math.max(gv(d+f,h,!1)-a.x,+(0!==f)),a.height=Math.max(gv(e+g,h,!1)-a.y,+(0!==g))),a}}function gv(a,b,c){if(!b)return a;var d=gs(2*a);return(d+gs(b))%2==0?d/2:(d+(c?1:-1))/2}var gw=function(){this.x=0,this.y=0,this.width=0,this.height=0},gx={},gy=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultShape=function(){return new gw},b.prototype.buildPath=function(a,b){if(this.subPixelOptimize){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=gu(gx,b,this.style);n=r.x,o=r.y,p=r.width,q=r.height,r.r=b.r,b=r}else n=b.x,o=b.y,p=b.width,q=b.height;b.r?(i=(c=b).x,j=c.y,k=c.width,l=c.height,m=c.r,k<0&&(i+=k,k=-k),l<0&&(j+=l,l=-l),"number"==typeof m?d=e=f=g=m:m instanceof Array?1===m.length?d=e=f=g=m[0]:2===m.length?(d=f=m[0],e=g=m[1]):3===m.length?(d=m[0],e=g=m[1],f=m[2]):(d=m[0],e=m[1],f=m[2],g=m[3]):d=e=f=g=0,d+e>k&&(h=d+e,d*=k/h,e*=k/h),f+g>k&&(h=f+g,f*=k/h,g*=k/h),e+f>l&&(h=e+f,e*=l/h,f*=l/h),d+g>l&&(h=d+g,d*=l/h,g*=l/h),a.moveTo(i+d,j),a.lineTo(i+k-e,j),0!==e&&a.arc(i+k-e,j+e,e,-Math.PI/2,0),a.lineTo(i+k,j+l-f),0!==f&&a.arc(i+k-f,j+l-f,f,0,Math.PI/2),a.lineTo(i+g,j+l),0!==g&&a.arc(i+g,j+l-g,g,Math.PI/2,Math.PI),a.lineTo(i,j+d),0!==d&&a.arc(i+d,j+d,d,Math.PI,1.5*Math.PI)):a.rect(n,o,p,q)},b.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},b}(gm);gy.prototype.type="rect";var gz={fill:"#000"},gA={style:aD({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},fz.style)},gB=function(a){function b(b){var c=a.call(this)||this;return c.type="text",c._children=[],c._defaultStyle=gz,c.attr(b),c}return bf(b,a),b.prototype.childrenRef=function(){return this._children},b.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var b=0;b<this._children.length;b++){var c=this._children[b];c.zlevel=this.zlevel,c.z=this.z,c.z2=this.z2,c.culling=this.culling,c.cursor=this.cursor,c.invisible=this.invisible}},b.prototype.updateTransform=function(){var b=this.innerTransformable;b?(b.updateTransform(),b.transform&&(this.transform=b.transform)):a.prototype.updateTransform.call(this)},b.prototype.getLocalTransform=function(b){var c=this.innerTransformable;return c?c.getLocalTransform(b):a.prototype.getLocalTransform.call(this,b)},b.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},b.prototype._updateSubTexts=function(){var a;this._childCursor=0,gI(a=this.style),aH(a.rich,gI),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},b.prototype.addSelfToZr=function(b){a.prototype.addSelfToZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].__zr=b},b.prototype.removeSelfFromZr=function(b){a.prototype.removeSelfFromZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].__zr=null},b.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new ca(0,0,0,0),b=this._children,c=[],d=null,e=0;e<b.length;e++){var f=b[e],g=f.getBoundingRect(),h=f.getLocalTransform(c);h?(a.copy(g),a.applyTransform(h),(d=d||a.clone()).union(a)):(d=d||g.clone()).union(g)}this._rect=d||a}return this._rect},b.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||gz},b.prototype.setTextContent=function(a){},b.prototype._mergeStyle=function(a,b){if(!b)return a;var c=b.rich,d=a.rich||c&&{};return aC(a,b),c&&d?(this._mergeRich(d,c),a.rich=d):d&&(a.rich=d),a},b.prototype._mergeRich=function(a,b){for(var c=aL(b),d=0;d<c.length;d++){var e=c[d];a[e]=a[e]||{},aC(a[e],b[e])}},b.prototype.getAnimationStyleProps=function(){return gA},b.prototype._getOrCreateChild=function(a){var b=this._children[this._childCursor];return b&&b instanceof a||(b=new a),this._children[this._childCursor++]=b,b.__zr=this.__zr,b.parent=this,b},b.prototype._updatePlainTexts=function(){var a=this.style,b=a.font||aj,c=a.padding,d=function(a,b){null!=a&&(a+="");var c,d=b.overflow,e=b.padding,f=b.font,g=eb(f),h=aZ(b.lineHeight,g),i=!!b.backgroundColor,j="truncate"===b.lineOverflow,k=b.width,l=(c=null!=k&&("break"===d||"breakAll"===d)?a?fw(a,b.font,k,"breakAll"===d,0).lines:[]:a?a.split("\n"):[]).length*h,m=aZ(b.height,l);if(l>m&&j){var n=Math.floor(m/h);c=c.slice(0,n)}if(a&&"truncate"===d&&null!=k)for(var o=fp(k,f,b.ellipsis,{minChar:b.truncateMinChar,placeholder:b.placeholder}),p=0;p<c.length;p++)c[p]=fq(c[p],o);for(var q=m,r=0,p=0;p<c.length;p++)r=Math.max(d6(c[p],f),r);null==k&&(k=r);var s=r;return e&&(q+=e[0]+e[2],s+=e[1]+e[3],k+=e[1]+e[3]),i&&(s=k),{lines:c,height:m,outerWidth:s,outerHeight:q,lineHeight:h,calculatedLineHeight:g,contentWidth:r,contentHeight:l,width:k}}(gM(a),a),e=gN(a),f=!!a.backgroundColor,g=d.outerHeight,h=d.outerWidth,i=d.contentWidth,j=d.lines,k=d.lineHeight,l=this._defaultStyle,m=a.x||0,n=a.y||0,o=a.align||l.align||"left",p=a.verticalAlign||l.verticalAlign||"top",q=m,r=ea(n,d.contentHeight,p);if(e||c){var s=d9(m,h,o),t=ea(n,g,p);e&&this._renderBackground(a,a,s,t,h,g)}r+=k/2,c&&(q=gL(m,o,c),"top"===p?r+=c[0]:"bottom"===p&&(r-=c[2]));for(var u=0,v=!1,w=gK("fill"in a?a.fill:(v=!0,l.fill)),x=gJ("stroke"in a?a.stroke:f||l.autoStroke&&!v?null:(u=2,l.stroke)),y=a.textShadowBlur>0,z=null!=a.width&&("truncate"===a.overflow||"break"===a.overflow||"breakAll"===a.overflow),A=d.calculatedLineHeight,B=0;B<j.length;B++){var C=this._getOrCreateChild(go),D=C.createStyle();C.useStyle(D),D.text=j[B],D.x=q,D.y=r,D.textAlign=o,D.textBaseline="middle",D.opacity=a.opacity,D.strokeFirst=!0,y&&(D.shadowBlur=a.textShadowBlur||0,D.shadowColor=a.textShadowColor||"transparent",D.shadowOffsetX=a.textShadowOffsetX||0,D.shadowOffsetY=a.textShadowOffsetY||0),D.stroke=x,D.fill=w,x&&(D.lineWidth=a.lineWidth||u,D.lineDash=a.lineDash,D.lineDashOffset=a.lineDashOffset||0),D.font=b,gG(D,a),r+=k,z&&C.setBoundingRect(new ca(d9(D.x,a.width,D.textAlign),ea(D.y,A,D.textBaseline),i,A))}},b.prototype._updateRichTexts=function(){var a=this.style,b=function(a,b){var c,d=new ft;if(null!=a&&(a+=""),!a)return d;for(var e=b.width,f=b.height,g=b.overflow,h=("break"===g||"breakAll"===g)&&null!=e?{width:e,accumWidth:0,breakAll:"breakAll"===g}:null,i=fn.lastIndex=0;null!=(c=fn.exec(a));){var j=c.index;j>i&&fu(d,a.substring(i,j),b,h),fu(d,c[2],b,h,c[1]),i=fn.lastIndex}i<a.length&&fu(d,a.substring(i,a.length),b,h);var k=[],l=0,m=0,n=b.padding,o="truncate"===g,p="truncate"===b.lineOverflow;function q(a,b,c){a.width=b,a.lineHeight=c,l+=c,m=Math.max(m,b)}b:for(var r=0;r<d.lines.length;r++){for(var s=d.lines[r],t=0,u=0,v=0;v<s.tokens.length;v++){var w=s.tokens[v],x=w.styleName&&b.rich[w.styleName]||{},y=w.textPadding=x.padding,z=y?y[1]+y[3]:0,A=w.font=x.font||b.font;w.contentHeight=eb(A);var B=aZ(x.height,w.contentHeight);if(w.innerHeight=B,y&&(B+=y[0]+y[2]),w.height=B,w.lineHeight=a$(x.lineHeight,b.lineHeight,B),w.align=x&&x.align||b.align,w.verticalAlign=x&&x.verticalAlign||"middle",p&&null!=f&&l+w.lineHeight>f){v>0?(s.tokens=s.tokens.slice(0,v),q(s,u,t),d.lines=d.lines.slice(0,r+1)):d.lines=d.lines.slice(0,r);break b}var C=x.width,D=null==C||"auto"===C;if("string"==typeof C&&"%"===C.charAt(C.length-1))w.percentWidth=C,k.push(w),w.contentWidth=d6(w.text,A);else{if(D){var E=x.backgroundColor,F=E&&E.image;F&&fm(F=function(a){if("string"!=typeof a)return a;var b=fj.get(a);return b&&b.image}(F))&&(w.width=Math.max(w.width,F.width*B/F.height))}var G=o&&null!=e?e-u:null;null!=G&&G<w.width?!D||G<z?(w.text="",w.width=w.contentWidth=0):(w.text=fo(w.text,G-z,A,b.ellipsis,{minChar:b.truncateMinChar}),w.width=w.contentWidth=d6(w.text,A)):w.contentWidth=d6(w.text,A)}w.width+=z,u+=w.width,x&&(t=Math.max(t,w.lineHeight))}q(s,u,t)}d.outerWidth=d.width=aZ(e,m),d.outerHeight=d.height=aZ(f,l),d.contentHeight=l,d.contentWidth=m,n&&(d.outerWidth+=n[1]+n[3],d.outerHeight+=n[0]+n[2]);for(var r=0;r<k.length;r++){var w=k[r],H=w.percentWidth;w.width=parseInt(H,10)/100*d.width}return d}(gM(a),a),c=b.width,d=b.outerWidth,e=b.outerHeight,f=a.padding,g=a.x||0,h=a.y||0,i=this._defaultStyle,j=a.align||i.align,k=a.verticalAlign||i.verticalAlign,l=d9(g,d,j),m=ea(h,e,k),n=l,o=m;f&&(n+=f[3],o+=f[0]);var p=n+c;gN(a)&&this._renderBackground(a,a,l,m,d,e);for(var q=!!a.backgroundColor,r=0;r<b.lines.length;r++){for(var s=b.lines[r],t=s.tokens,u=t.length,v=s.lineHeight,w=s.width,x=0,y=n,z=p,A=u-1,B=void 0;x<u&&(!(B=t[x]).align||"left"===B.align);)this._placeToken(B,a,v,o,y,"left",q),w-=B.width,y+=B.width,x++;for(;A>=0&&"right"===(B=t[A]).align;)this._placeToken(B,a,v,o,z,"right",q),w-=B.width,z-=B.width,A--;for(y+=(c-(y-n)-(p-z)-w)/2;x<=A;)B=t[x],this._placeToken(B,a,v,o,y+B.width/2,"center",q),y+=B.width,x++;o+=v}},b.prototype._placeToken=function(a,b,c,d,e,f,g){var h=b.rich[a.styleName]||{};h.text=a.text;var i=a.verticalAlign,j=d+c/2;"top"===i?j=d+a.height/2:"bottom"===i&&(j=d+c-a.height/2),!a.isLineHolder&&gN(h)&&this._renderBackground(h,b,"right"===f?e-a.width:"center"===f?e-a.width/2:e,j-a.height/2,a.width,a.height);var k=!!h.backgroundColor,l=a.textPadding;l&&(e=gL(e,f,l),j-=a.height/2-l[0]-a.innerHeight/2);var m=this._getOrCreateChild(go),n=m.createStyle();m.useStyle(n);var o=this._defaultStyle,p=!1,q=0,r=gK("fill"in h?h.fill:"fill"in b?b.fill:(p=!0,o.fill)),s=gJ("stroke"in h?h.stroke:"stroke"in b?b.stroke:k||g||o.autoStroke&&!p?null:(q=2,o.stroke)),t=h.textShadowBlur>0||b.textShadowBlur>0;n.text=a.text,n.x=e,n.y=j,t&&(n.shadowBlur=h.textShadowBlur||b.textShadowBlur||0,n.shadowColor=h.textShadowColor||b.textShadowColor||"transparent",n.shadowOffsetX=h.textShadowOffsetX||b.textShadowOffsetX||0,n.shadowOffsetY=h.textShadowOffsetY||b.textShadowOffsetY||0),n.textAlign=f,n.textBaseline="middle",n.font=a.font||aj,n.opacity=a$(h.opacity,b.opacity,1),gG(n,h),s&&(n.lineWidth=a$(h.lineWidth,b.lineWidth,q),n.lineDash=aZ(h.lineDash,b.lineDash),n.lineDashOffset=b.lineDashOffset||0,n.stroke=s),r&&(n.fill=r);var u=a.contentWidth,v=a.contentHeight;m.setBoundingRect(new ca(d9(n.x,u,n.textAlign),ea(n.y,v,n.textBaseline),u,v))},b.prototype._renderBackground=function(a,b,c,d,e,f){var g,h,i=a.backgroundColor,j=a.borderWidth,k=a.borderColor,l=i&&i.image,m=i&&!l,n=a.borderRadius,o=this;if(m||a.lineHeight||j&&k){(g=this._getOrCreateChild(gy)).useStyle(g.createStyle()),g.style.fill=null;var p=g.shape;p.x=c,p.y=d,p.width=e,p.height=f,p.r=n,g.dirtyShape()}if(m){var q=g.style;q.fill=i||null,q.fillOpacity=aZ(a.fillOpacity,1)}else if(l){(h=this._getOrCreateChild(gr)).onload=function(){o.dirtyStyle()};var r=h.style;r.image=i.image,r.x=c,r.y=d,r.width=e,r.height=f}if(j&&k){var q=g.style;q.lineWidth=j,q.stroke=k,q.strokeOpacity=aZ(a.strokeOpacity,1),q.lineDash=a.borderDash,q.lineDashOffset=a.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(q.strokeFirst=!0,q.lineWidth*=2)}var s=(g||h).style;s.shadowBlur=a.shadowBlur||0,s.shadowColor=a.shadowColor||"transparent",s.shadowOffsetX=a.shadowOffsetX||0,s.shadowOffsetY=a.shadowOffsetY||0,s.opacity=a$(a.opacity,b.opacity,1)},b.makeFont=function(a){var b="";return gH(a)&&(b=[a.fontStyle,a.fontWeight,gF(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),b&&a2(b)||a.textFont||a.font},b}(fC),gC={left:!0,right:1,center:1},gD={top:1,bottom:1,middle:1},gE=["fontStyle","fontWeight","fontSize","fontFamily"];function gF(a){return"string"==typeof a&&(-1!==a.indexOf("px")||-1!==a.indexOf("rem")||-1!==a.indexOf("em"))?a:isNaN(+a)?"12px":a+"px"}function gG(a,b){for(var c=0;c<gE.length;c++){var d=gE[c],e=b[d];null!=e&&(a[d]=e)}}function gH(a){return null!=a.fontSize||a.fontFamily||a.fontWeight}function gI(a){if(a){a.font=gB.makeFont(a);var b=a.align;"middle"===b&&(b="center"),a.align=null==b||gC[b]?b:"left";var c=a.verticalAlign;"center"===c&&(c="middle"),a.verticalAlign=null==c||gD[c]?c:"top",a.padding&&(a.padding=a0(a.padding))}}function gJ(a,b){return null==a||b<=0||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function gK(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function gL(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function gM(a){var b=a.text;return null!=b&&(b+=""),b}function gN(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}var gO=e$(),gP=function(a,b,c,d){if(d){var e=gO(d);e.dataIndex=c,e.dataType=b,e.seriesIndex=a,e.ssrType="chart","group"===d.type&&d.traverse(function(d){var e=gO(d);e.seriesIndex=a,e.dataIndex=c,e.dataType=b,e.ssrType="chart"})}},gQ=1,gR={},gS=e$(),gT=e$(),gU=["emphasis","blur","select"],gV=["normal","emphasis","blur","select"],gW="highlight",gX="downplay",gY="select",gZ="unselect",g$="toggleSelect";function g_(a){return null!=a&&"none"!==a}function g0(a,b,c){a.onHoverStateChange&&(a.hoverState||0)!==c&&a.onHoverStateChange(b),a.hoverState=c}function g1(a){g0(a,"emphasis",2)}function g2(a){2===a.hoverState&&g0(a,"normal",0)}function g3(a){g0(a,"blur",1)}function g4(a){1===a.hoverState&&g0(a,"normal",0)}function g5(a){a.selected=!0}function g6(a){a.selected=!1}function g7(a,b,c){b(a,c),a.isGroup&&a.traverse(function(a){b(a,c)})}function g8(a,b){switch(b){case"emphasis":a.hoverState=2;break;case"normal":a.hoverState=0;break;case"blur":a.hoverState=1;break;case"select":a.selected=!0}}function g9(a,b){var c,d,e,f,g,h=this.states[a];if(this.style){if("emphasis"===a)return function(a,b,c,d){var e=c&&aE(c,"select")>=0,f=!1;if(a instanceof gm){var g=gS(a),h=e&&g.selectFill||g.normalFill,i=e&&g.selectStroke||g.normalStroke;if(g_(h)||g_(i)){var j=(d=d||{}).style||{};"inherit"===j.fill?(f=!0,d=aC({},d),(j=aC({},j)).fill=h):!g_(j.fill)&&g_(h)?(f=!0,d=aC({},d),(j=aC({},j)).fill=dc(h)):!g_(j.stroke)&&g_(i)&&(f||(d=aC({},d),j=aC({},j)),j.stroke=dc(i)),d.style=j}}if(d&&null==d.z2){f||(d=aC({},d));var k=a.z2EmphasisLift;d.z2=a.z2+(null!=k?k:10)}return d}(this,0,b,h);else if("blur"===a)return c=h,d=aE(this.currentStates,a)>=0,e=this.style.opacity,f=d?null:function(a,b,c,d){for(var e=a.style,f={},g=0;g<b.length;g++){var h=b[g],i=e[h];f[h]=null==i?d&&d[h]:i}for(var g=0;g<a.animators.length;g++){var j=a.animators[g];j.__fromStateTransition&&0>j.__fromStateTransition.indexOf(c)&&"style"===j.targetName&&j.saveTo(f,b)}return f}(this,["opacity"],a,{opacity:1}),null==(g=(c=c||{}).style||{}).opacity&&(c=aC({},c),g=aC({opacity:d?e:.1*f.opacity},g),c.style=g),c;else if("select"===a){var i=h;if(i&&null==i.z2){i=aC({},i);var j=this.z2SelectLift;i.z2=this.z2+(null!=j?j:9)}return i}}return h}function ha(a){a.stateProxy=g9;var b=a.getTextContent(),c=a.getTextGuideLine();b&&(b.stateProxy=g9),c&&(c.stateProxy=g9)}function hb(a,b){hf(a,b)||a.__highByOuter||g7(a,g1)}function hc(a,b){hf(a,b)||a.__highByOuter||g7(a,g2)}function hd(a,b){a.__highByOuter|=1<<(b||0),g7(a,g1)}function he(a,b){(a.__highByOuter&=~(1<<(b||0)))||g7(a,g2)}function hf(a,b){return a.__highDownSilentOnTouch&&b.zrByTouch}function hg(a){var b=a.getModel(),c=[],d=[];b.eachComponent(function(b,e){var f=gT(e),g="series"===b,h=g?a.getViewOfSeriesModel(e):a.getViewOfComponentModel(e);g||d.push(h),f.isBlured&&(h.group.traverse(function(a){g4(a)}),g&&c.push(e)),f.isBlured=!1}),aH(d,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(c,!1,b)})}function hh(a,b,c,d){var e=d.getModel();function f(a,b){for(var c=0;c<b.length;c++){var d=a.getItemGraphicEl(b[c]);d&&g7(d,g4)}}if((c=c||"coordinateSystem",null!=a)&&b&&"none"!==b){var g=e.getSeriesByIndex(a),h=g.coordinateSystem;h&&h.master&&(h=h.master);var i=[];e.eachSeries(function(a){var e=g===a,j=a.coordinateSystem;j&&j.master&&(j=j.master);var k=j&&h?j===h:e;if(!("series"===c&&!e||"coordinateSystem"===c&&!k||"series"===b&&e)){if(d.getViewOfSeriesModel(a).group.traverse(function(a){a.__highByOuter&&e&&"self"===b||g3(a)}),aG(b))f(a.getData(),b);else if(aT(b))for(var l=aL(b),m=0;m<l.length;m++)f(a.getData(l[m]),b[l[m]]);i.push(a),gT(a).isBlured=!0}}),e.eachComponent(function(a,b){if("series"!==a){var c=d.getViewOfComponentModel(b);c&&c.toggleBlurSeries&&c.toggleBlurSeries(i,!0,e)}})}}function hi(a,b,c){if(null!=a&&null!=b){var d=c.getModel().getComponent(a,b);if(d){gT(d).isBlured=!0;var e=c.getViewOfComponentModel(d);e&&e.focusBlurEnabled&&e.group.traverse(function(a){g3(a)})}}}function hj(a,b,c,d){var e,f={focusSelf:!1,dispatchers:null};if(null==a||"series"===a||null==b||null==c)return f;var g=d.getModel().getComponent(a,b);if(!g)return f;var h=d.getViewOfComponentModel(g);if(!h||!h.findHighDownDispatchers)return f;for(var i=h.findHighDownDispatchers(c),j=0;j<i.length;j++)if("self"===gO(i[j]).focus){e=!0;break}return{focusSelf:e,dispatchers:i}}function hk(a){aH(a.getAllData(),function(b){var c=b.data,d=b.type;c.eachItemGraphicEl(function(b,c){a.isSelected(c,d)?g7(b,g5):g7(b,g6)})})}function hl(a,b,c){hr(a,!0),g7(a,ha),hn(a,b,c)}function hm(a,b,c,d){d?hr(a,!1):hl(a,b,c)}function hn(a,b,c){var d=gO(a);null!=b?(d.focus=b,d.blurScope=c):d.focus&&(d.focus=null)}var ho=["emphasis","blur","select"],hp={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function hq(a,b,c,d){c=c||"itemStyle";for(var e=0;e<ho.length;e++){var f=ho[e],g=b.getModel([f,c]);a.ensureState(f).style=d?d(g):g[hp[c]]()}}function hr(a,b){var c=!1===b;a.highDownSilentOnTouch&&(a.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!c||a.__highDownDispatcher)&&(a.__highByOuter=a.__highByOuter||0,a.__highDownDispatcher=!c)}function hs(a){return!!(a&&a.__highDownDispatcher)}function ht(a){var b=a.type;return b===gY||b===gZ||b===g$}function hu(a){var b=a.type;return b===gW||b===gX}var hv=e$();function hw(a,b,c,d,e){if(b&&b.ecModel){var f,g=b.ecModel.getUpdatePayload();f=g&&g.animation}var h=b&&b.isAnimationEnabled(),i="update"===a;if(!h)return null;var j=void 0,k=void 0,l=void 0;return d?(j=aZ(d.duration,200),k=aZ(d.easing,"cubicOut"),l=0):(j=b.getShallow(i?"animationDurationUpdate":"animationDuration"),k=b.getShallow(i?"animationEasingUpdate":"animationEasing"),l=b.getShallow(i?"animationDelayUpdate":"animationDelay")),f&&(null!=f.duration&&(j=f.duration),null!=f.easing&&(k=f.easing),null!=f.delay&&(l=f.delay)),aP(l)&&(l=l(c,e)),aP(j)&&(j=j(c)),{duration:j||0,delay:l,easing:k}}function hx(a,b,c,d,e,f,g){var h,i=!1;aP(e)?(g=f,f=e,e=null):aT(e)&&(f=e.cb,g=e.during,i=e.isFrom,h=e.removeOpt,e=e.dataIndex);var j="leave"===a;j||b.stopAnimation("leave");var k=hw(a,d,e,j?h||{}:null,d&&d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null);if(k&&k.duration>0){var l={duration:k.duration,delay:k.delay||0,easing:k.easing,done:f,force:!!f||!!g,setToFinal:!j,scope:a,during:g};i?b.animateFrom(c,l):b.animateTo(c,l)}else b.stopAnimation(),i||b.attr(c),g&&g(1),f&&f()}function hy(a,b,c,d,e,f){hx("update",a,b,c,d,e,f)}function hz(a,b,c,d,e,f){hx("enter",a,b,c,d,e,f)}function hA(a){if(!a.__zr)return!0;for(var b=0;b<a.animators.length;b++)if("leave"===a.animators[b].scope)return!0;return!1}function hB(a,b,c,d,e,f){hA(a)||hx("leave",a,b,c,d,e,f)}function hC(a,b,c,d){a.removeTextContent(),a.removeTextGuideLine(),hB(a,{style:{opacity:0}},b,c,d)}function hD(a,b,c){function d(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(a){a.isGroup||hC(a,b,c,d)}):hC(a,b,c,d)}function hE(a){hv(a).oldStyle=a.style}var hF={};function hG(a,b){for(var c=0;c<gU.length;c++){var d=gU[c],e=b[d],f=a.ensureState(d);f.style=f.style||{},f.style.text=e}var g=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:b.normal}),a.useStates(g,!0)}function hH(a,b,c){var d,e=a.labelFetcher,f=a.labelDataIndex,g=a.labelDimIndex,h=b.normal;e&&(d=e.getFormattedLabel(f,"normal",null,g,h&&h.get("formatter"),null!=c?{interpolatedValue:c}:null)),null==d&&(d=aP(a.defaultText)?a.defaultText(f,a,c):a.defaultText);for(var i={normal:d},j=0;j<gU.length;j++){var k=gU[j],l=b[k];i[k]=aZ(e?e.getFormattedLabel(f,k,null,g,l&&l.get("formatter")):null,d)}return i}function hI(a,b,c,d){c=c||hF;for(var e=a instanceof gB,f=!1,g=0;g<gV.length;g++){var h=b[gV[g]];if(h&&h.getShallow("show")){f=!0;break}}var i=e?a:a.getTextContent();if(f){!e&&(i||(i=new gB,a.setTextContent(i)),a.stateProxy&&(i.stateProxy=a.stateProxy));var j=hH(c,b),k=b.normal,l=!!k.getShallow("show"),m=hK(k,d&&d.normal,c,!1,!e);m.text=j.normal,e||a.setTextConfig(hL(k,c,!1));for(var g=0;g<gU.length;g++){var n=gU[g],h=b[n];if(h){var o=i.ensureState(n),p=!!aZ(h.getShallow("show"),l);p!==l&&(o.ignore=!p),o.style=hK(h,d&&d[n],c,!0,!e),o.style.text=j[n],e||(a.ensureState(n).textConfig=hL(h,c,!0))}}i.silent=!!k.getShallow("silent"),null!=i.style.x&&(m.x=i.style.x),null!=i.style.y&&(m.y=i.style.y),i.ignore=!l,i.useStyle(m),i.dirty(),c.enableTextSetter&&(hR(i).setLabelText=function(a){var d=hH(c,b,a);hG(i,d)})}else i&&(i.ignore=!0);a.dirty()}function hJ(a,b){b=b||"label";for(var c={normal:a.getModel(b)},d=0;d<gU.length;d++){var e=gU[d];c[e]=a.getModel([e,b])}return c}function hK(a,b,c,d,e){var f={};return function(a,b,c,d,e){c=c||hF;var f,g=b.ecModel,h=g&&g.option.textStyle,i=function(a){for(var b;a&&a!==a.ecModel;){var c=(a.option||hF).rich;if(c){b=b||{};for(var d=aL(c),e=0;e<d.length;e++)b[d[e]]=1}a=a.parentModel}return b}(b);if(i){for(var j in f={},i)if(i.hasOwnProperty(j)){var k=b.getModel(["rich",j]);hP(f[j]={},k,h,c,d,e,!1,!0)}}f&&(a.rich=f);var l=b.get("overflow");l&&(a.overflow=l);var m=b.get("minMargin");null!=m&&(a.margin=m),hP(a,b,h,c,d,e,!0,!1)}(f,a,c,d,e),b&&aC(f,b),f}function hL(a,b,c){b=b||{};var d,e={},f=a.getShallow("rotate"),g=aZ(a.getShallow("distance"),c?null:5),h=a.getShallow("offset");return"outside"===(d=a.getShallow("position")||(c?null:"inside"))&&(d=b.defaultOutsidePosition||"top"),null!=d&&(e.position=d),null!=h&&(e.offset=h),null!=f&&(e.rotation=f*=Math.PI/180),null!=g&&(e.distance=g),e.outsideFill="inherit"===a.get("color")?b.inheritColor||null:"auto",e}var hM=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],hN=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],hO=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function hP(a,b,c,d,e,f,g,h){c=!e&&c||hF;var i=d&&d.inheritColor,j=b.getShallow("color"),k=b.getShallow("textBorderColor"),l=aZ(b.getShallow("opacity"),c.opacity);("inherit"===j||"auto"===j)&&(j=i||null),("inherit"===k||"auto"===k)&&(k=i||null),f||(j=j||c.color,k=k||c.textBorderColor),null!=j&&(a.fill=j),null!=k&&(a.stroke=k);var m=aZ(b.getShallow("textBorderWidth"),c.textBorderWidth);null!=m&&(a.lineWidth=m);var n=aZ(b.getShallow("textBorderType"),c.textBorderType);null!=n&&(a.lineDash=n);var o=aZ(b.getShallow("textBorderDashOffset"),c.textBorderDashOffset);null!=o&&(a.lineDashOffset=o),e||null!=l||h||(l=d&&d.defaultOpacity),null!=l&&(a.opacity=l),e||f||null!=a.fill||!d.inheritColor||(a.fill=d.inheritColor);for(var p=0;p<hM.length;p++){var q=hM[p],r=aZ(b.getShallow(q),c[q]);null!=r&&(a[q]=r)}for(var p=0;p<hN.length;p++){var q=hN[p],r=b.getShallow(q);null!=r&&(a[q]=r)}if(null==a.verticalAlign){var s=b.getShallow("baseline");null!=s&&(a.verticalAlign=s)}if(!g||!d.disableBox){for(var p=0;p<hO.length;p++){var q=hO[p],r=b.getShallow(q);null!=r&&(a[q]=r)}var t=b.getShallow("borderType");null!=t&&(a.borderDash=t),("auto"===a.backgroundColor||"inherit"===a.backgroundColor)&&i&&(a.backgroundColor=i),("auto"===a.borderColor||"inherit"===a.borderColor)&&i&&(a.borderColor=i)}}function hQ(a,b){var c=b&&b.getModel("textStyle");return a2([a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" "))}var hR=e$();function hS(a,b,c,d){if(a){var e=hR(a);e.prevValue=e.value,e.value=c;var f=b.normal;e.valueAnimation=f.get("valueAnimation"),e.valueAnimation&&(e.precision=f.get("precision"),e.defaultInterpolatedText=d,e.statesModels=b)}}function hT(a,b,c,d,e){var f=hR(a);if(f.valueAnimation&&f.prevValue!==f.value){var g=f.defaultInterpolatedText,h=aZ(f.interpolatedValue,f.prevValue),i=f.value;a.percent=0,(null==f.prevValue?hz:hy)(a,{percent:1},d,b,null,function(d){var j=e6(c,f.precision,h,i,d);f.interpolatedValue=1===d?null:j,hG(a,hH({labelDataIndex:b,labelFetcher:e,defaultText:g?g(j):j+""},f.statesModels,j))})}}var hU=["textStyle","color"],hV=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],hW=new gB,hX=function(){function a(){}return a.prototype.getTextColor=function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(hU):null)},a.prototype.getFont=function(){return hQ({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(a){for(var b={text:a,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},c=0;c<hV.length;c++)b[hV[c]]=this.getShallow(hV[c]);return hW.useStyle(b),hW.update(),hW.getBoundingRect()},a}(),hY=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],hZ=fg(hY),h$=function(){function a(){}return a.prototype.getLineStyle=function(a){return hZ(this,a)},a}(),h_=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],h0=fg(h_),h1=function(){function a(){}return a.prototype.getItemStyle=function(a,b){return h0(this,a,b)},a}(),h2=function(){function a(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}return a.prototype.init=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e]},a.prototype.mergeOption=function(a,b){aA(this.option,a,!0)},a.prototype.get=function(a,b){return null==a?this.option:this._doGet(this.parsePath(a),!b&&this.parentModel)},a.prototype.getShallow=function(a,b){var c=this.option,d=null==c?c:c[a];if(null==d&&!b){var e=this.parentModel;e&&(d=e.getShallow(a))}return d},a.prototype.getModel=function(b,c){var d=null!=b,e=d?this.parsePath(b):null;return new a(d?this._doGet(e):this.option,c=c||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(e)),this.ecModel)},a.prototype.isEmpty=function(){return null==this.option},a.prototype.restoreData=function(){},a.prototype.clone=function(){return new this.constructor(az(this.option))},a.prototype.parsePath=function(a){return"string"==typeof a?a.split("."):a},a.prototype.resolveParentPath=function(a){return a},a.prototype.isAnimationEnabled=function(){if(!ah.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;else if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(a,b){var c=this.option;if(!a)return c;for(var d=0;d<a.length&&(!a[d]||null!=(c=c&&"object"==typeof c?c[a[d]]:null));d++);return null==c&&b&&(c=b._doGet(this.resolveParentPath(a),b.parentModel)),c},a}();fa(h2),o=["__\0is_clz",fc++].join("_"),h2.prototype[o]=!0,h2.isInstance=function(a){return!!(a&&a[o])},aF(h2,h$),aF(h2,h1),aF(h2,fi),aF(h2,hX);var h3=Math.round(10*Math.random());function h4(a){return[a||"",h3++].join("_")}function h5(a,b){return aA(aA({},a,!0),b,!0)}var h6={},h7={},h8=ah.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||"EN").toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function h9(a,b){h7[a=a.toUpperCase()]=new h2(b),h6[a]=b}h9("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),h9("ZH",{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var ia={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},ib="{yyyy}-{MM}-{dd}",ic={year:"{yyyy}",month:"{yyyy}-{MM}",day:ib,hour:ib+" "+ia.hour,minute:ib+" "+ia.minute,second:ib+" "+ia.second,millisecond:ia.none},id=["year","month","day","hour","minute","second","millisecond"],ie=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function ig(a,b){return a+="","0000".substr(0,b-a.length)+a}function ih(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function ii(a,b,c,d){var e=eD(a),f=e[il(c)](),g=e[im(c)]()+1,h=Math.floor((g-1)/3)+1,i=e[io(c)](),j=e["get"+(c?"UTC":"")+"Day"](),k=e[ip(c)](),l=(k-1)%12+1,m=e[iq(c)](),n=e[ir(c)](),o=e[is(c)](),p=(d instanceof h2?d:h7[d||h8]||h7.EN).getModel("time"),q=p.get("month"),r=p.get("monthAbbr"),s=p.get("dayOfWeek"),t=p.get("dayOfWeekAbbr");return(b||"").replace(/{yyyy}/g,f+"").replace(/{yy}/g,ig(f%100+"",2)).replace(/{Q}/g,h+"").replace(/{MMMM}/g,q[g-1]).replace(/{MMM}/g,r[g-1]).replace(/{MM}/g,ig(g,2)).replace(/{M}/g,g+"").replace(/{dd}/g,ig(i,2)).replace(/{d}/g,i+"").replace(/{eeee}/g,s[j]).replace(/{ee}/g,t[j]).replace(/{e}/g,j+"").replace(/{HH}/g,ig(k,2)).replace(/{H}/g,k+"").replace(/{hh}/g,ig(l+"",2)).replace(/{h}/g,l+"").replace(/{mm}/g,ig(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,ig(n,2)).replace(/{s}/g,n+"").replace(/{SSS}/g,ig(o,3)).replace(/{S}/g,o+"")}function ij(a,b){var c=eD(a),d=c[im(b)]()+1,e=c[io(b)](),f=c[ip(b)](),g=c[iq(b)](),h=c[ir(b)](),i=0===c[is(b)](),j=i&&0===h,k=j&&0===g,l=k&&0===f,m=l&&1===e;if(m&&1===d)return"year";if(m)return"month";if(l)return"day";if(k)return"hour";if(j)return"minute";else if(i)return"second";else return"millisecond"}function ik(a,b,c){var d=aS(a)?eD(a):a;switch(b=b||ij(a,c)){case"year":return d[il(c)]();case"half-year":return+(d[im(c)]()>=6);case"quarter":return Math.floor((d[im(c)]()+1)/4);case"month":return d[im(c)]();case"day":return d[io(c)]();case"half-day":return d[ip(c)]()/24;case"hour":return d[ip(c)]();case"minute":return d[iq(c)]();case"second":return d[ir(c)]();case"millisecond":return d[is(c)]()}}function il(a){return a?"getUTCFullYear":"getFullYear"}function im(a){return a?"getUTCMonth":"getMonth"}function io(a){return a?"getUTCDate":"getDate"}function ip(a){return a?"getUTCHours":"getHours"}function iq(a){return a?"getUTCMinutes":"getMinutes"}function ir(a){return a?"getUTCSeconds":"getSeconds"}function is(a){return a?"getUTCMilliseconds":"getMilliseconds"}function it(a){return a?"setUTCMonth":"setMonth"}function iu(a){return a?"setUTCDate":"setDate"}function iv(a){return a?"setUTCHours":"setHours"}function iw(a){return a?"setUTCMinutes":"setMinutes"}function ix(a){return a?"setUTCSeconds":"setSeconds"}function iy(a){return a?"setUTCMilliseconds":"setMilliseconds"}function iz(a){if(!eK(a))return aQ(a)?a:"-";var b=(a+"").split(".");return b[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(b.length>1?"."+b[1]:"")}function iA(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function iB(a,b,c){function d(a){return a&&a2(a)?a:"-"}function e(a){return!!(null!=a&&!isNaN(a)&&isFinite(a))}var f="time"===b,g=a instanceof Date;if(f||g){var h=f?eD(a):a;if(!isNaN(+h))return ii(h,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",c);if(g)return"-"}if("ordinal"===b)return aR(a)?d(a):aS(a)&&e(a)?a+"":"-";var i=eJ(a);return e(i)?iz(i):aR(a)?d(a):"boolean"==typeof a?a+"":"-"}var iC=["a","b","c","d","e","f","g"],iD=function(a,b){return"{"+a+(null==b?"":b)+"}"};function iE(a,b,c){aO(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=iC[f];a=a.replace(iD(g),iD(g,0))}for(var h=0;h<d;h++)for(var i=0;i<e.length;i++){var j=b[h][e[i]];a=a.replace(iD(iC[i],h),c?bH(j):j)}return a}function iF(a,b){var c=aQ(a)?{color:a,extraCssText:b}:a||{},d=c.color,e=c.type;b=c.extraCssText;var f=c.renderMode||"html";return d?"html"===f?"subItem"===e?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+bH(d)+";"+(b||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+bH(d)+";"+(b||"")+'"></span>':{renderMode:f,content:"{"+(c.markerId||"markerX")+"|}  ",style:"subItem"===e?{width:4,height:4,borderRadius:2,backgroundColor:d}:{width:10,height:10,borderRadius:5,backgroundColor:d}}:""}function iG(a,b,c){("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)&&(a="MM-dd\nyyyy");var d=eD(b),e=c?"getUTC":"get",f=d[e+"FullYear"](),g=d[e+"Month"]()+1,h=d[e+"Date"](),i=d[e+"Hours"](),j=d[e+"Minutes"](),k=d[e+"Seconds"](),l=d[e+"Milliseconds"]();return a.replace("MM",ig(g,2)).replace("M",g).replace("yyyy",f).replace("yy",ig(f%100+"",2)).replace("dd",ig(h,2)).replace("d",h).replace("hh",ig(i,2)).replace("h",i).replace("mm",ig(j,2)).replace("m",j).replace("ss",ig(k,2)).replace("s",k).replace("SSS",ig(l,3))}function iH(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function iI(a,b){return b=b||"transparent",aQ(a)?a:aT(a)&&a.colorStops&&(a.colorStops[0]||{}).color||b}function iJ(a,b){if("_blank"===b||"blank"===b){var c=window.open();c.opener=null,c.location.href=a}else window.open(a,b)}var iK=["left","right","top","bottom","width","height"],iL=[["width","left","right"],["height","top","bottom"]];function iM(a,b,c,d,e){var f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0);var h=0;b.eachChild(function(i,j){var k,l,m=i.getBoundingRect(),n=b.childAt(j+1),o=n&&n.getBoundingRect();if("horizontal"===a){var p=m.width+(o?-o.x+m.x:0);(k=f+p)>d||i.newline?(f=0,k=p,g+=h+c,h=m.height):h=Math.max(h,m.height)}else{var q=m.height+(o?-o.y+m.y:0);(l=g+q)>e||i.newline?(f+=h+c,g=0,l=q,h=m.width):h=Math.max(h,m.width)}i.newline||(i.x=f,i.y=g,i.markRedraw(),"horizontal"===a?f=k+c:g=l+c)})}function iN(a,b,c){c=a0(c||0);var d=b.width,e=b.height,f=es(a.left,d),g=es(a.top,e),h=es(a.right,d),i=es(a.bottom,e),j=es(a.width,d),k=es(a.height,e),l=c[2]+c[0],m=c[1]+c[3],n=a.aspect;switch(isNaN(j)&&(j=d-h-m-f),isNaN(k)&&(k=e-i-l-g),null!=n&&(isNaN(j)&&isNaN(k)&&(n>d/e?j=.8*d:k=.8*e),isNaN(j)&&(j=n*k),isNaN(k)&&(k=j/n)),isNaN(f)&&(f=d-h-j-m),isNaN(g)&&(g=e-i-k-l),a.left||a.right){case"center":f=d/2-j/2-c[3];break;case"right":f=d-j-m}switch(a.top||a.bottom){case"middle":case"center":g=e/2-k/2-c[0];break;case"bottom":g=e-k-l}f=f||0,g=g||0,isNaN(j)&&(j=d-m-f-(h||0)),isNaN(k)&&(k=e-l-g-(i||0));var o=new ca(f+c[3],g+c[0],j,k);return o.margin=c,o}function iO(a,b,c,d,e,f){var g,h=!e||!e.hv||e.hv[0],i=!e||!e.hv||e.hv[1],j=e&&e.boundingMode||"all";if((f=f||a).x=a.x,f.y=a.y,!h&&!i)return!1;if("raw"===j)g="group"===a.type?new ca(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(g=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();(g=g.clone()).applyTransform(k)}var l=iN(aD({width:g.width,height:g.height},b),c,d),m=h?l.x-g.x:0,n=i?l.y-g.y:0;return"raw"===j?(f.x=m,f.y=n):(f.x+=m,f.y+=n),f===a&&a.markRedraw(),!0}function iP(a){var b=a.layoutMode||a.constructor.layoutMode;return aT(b)?b:b?{type:b}:null}function iQ(a,b,c){var d=c&&c.ignoreSize;aO(d)||(d=[d,d]);var e=g(iL[0],0),f=g(iL[1],1);function g(c,e){var f={},g=0,j={},k=0;if(aH(c,function(b){j[b]=a[b]}),aH(c,function(a){h(b,a)&&(f[a]=j[a]=b[a]),i(f,a)&&g++,i(j,a)&&k++}),d[e])return i(b,c[1])?j[c[2]]=null:i(b,c[2])&&(j[c[1]]=null),j;if(2===k||!g)return j;if(g>=2)return f;for(var l=0;l<c.length;l++){var m=c[l];if(!h(f,m)&&h(a,m)){f[m]=a[m];break}}return f}function h(a,b){return a.hasOwnProperty(b)}function i(a,b){return null!=a[b]&&"auto"!==a[b]}function j(a,b,c){aH(a,function(a){b[a]=c[a]})}j(iL[0],a,e),j(iL[1],a,f)}function iR(a){return iS({},a)}function iS(a,b){return b&&a&&aH(iK,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}aN(iM,"vertical"),aN(iM,"horizontal");var iT=e$(),iU=function(a){var b;function c(b,c,d){var e=a.call(this,b,c,d)||this;return e.uid=h4("ec_cpt_model"),e}return af(c,a),c.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c)},c.prototype.mergeDefaultAndTheme=function(a,b){var c=iP(this),d=c?iR(a):{};aA(a,b.getTheme().get(this.mainType)),aA(a,this.getDefaultOption()),c&&iQ(a,d,c)},c.prototype.mergeOption=function(a,b){aA(this.option,a,!0);var c=iP(this);c&&iQ(this.option,a,c)},c.prototype.optionUpdated=function(a,b){},c.prototype.getDefaultOption=function(){var a=this.constructor;if(!(a&&a[e8]))return a.defaultOption;var b=iT(this);if(!b.defaultOption){for(var c=[],d=a;d;){var e=d.prototype.defaultOption;e&&c.push(e),d=d.superClass}for(var f={},g=c.length-1;g>=0;g--)f=aA(f,c[g],!0);b.defaultOption=f}return b.defaultOption},c.prototype.getReferringComponents=function(a,b){return e4(this.ecModel,a,{index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)},b)},c.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},c.prototype.getZLevelKey=function(){return""},c.prototype.setZLevel=function(a){this.option.zlevel=a},c.protoInitialize=void((b=c.prototype).type="component",b.id="",b.name="",b.mainType="",b.subType="",b.componentIndex=0),c}(h2);fb(iU,h2),ff(iU),p={},iU.registerSubTypeDefaulter=function(a,b){p[e9(a).main]=b},iU.determineSubType=function(a,b){var c=b.type;if(!c){var d=e9(a).main;iU.hasSubTypes(a)&&p[d]&&(c=p[d](b))}return c};var iV=function(a){var b=[];return aH(iU.getClassesByMainType(a),function(a){b=b.concat(a.dependencies||a.prototype.dependencies||[])}),b=aI(b,function(a){return e9(a).main}),"dataset"!==a&&0>=aE(b,"dataset")&&b.unshift("dataset"),b};function iW(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}iU.topologicalTravel=function(a,b,c,d){if(a.length){var e,f,g,h=(f={},g=[],aH(e=b,function(a){var b,c,d,h=iW(f,a),i=(b=h.originalDeps=iV(a),c=e,d=[],aH(b,function(a){aE(c,a)>=0&&d.push(a)}),d);h.entryCount=i.length,0===h.entryCount&&g.push(a),aH(i,function(b){0>aE(h.predecessor,b)&&h.predecessor.push(b);var c=iW(f,b);0>aE(c.successor,b)&&c.successor.push(a)})}),{graph:f,noEntryList:g}),i=h.graph,j=h.noEntryList,k={};for(aH(a,function(a){k[a]=!0});j.length;){var l=j.pop(),m=i[l],n=!!k[l];n&&(c.call(d,l,m.originalDeps.slice()),delete k[l]),aH(m.successor,n?p:o)}aH(k,function(){throw Error("")})}function o(a){i[a].entryCount--,0===i[a].entryCount&&j.push(a)}function p(a){k[a]=!0,o(a)}};var iX="";"undefined"!=typeof navigator&&(iX=navigator.platform||"");var iY="rgba(0, 0, 0, 0.2)";let iZ={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:iY,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:iY,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:iY,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:iY,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:iY,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:iY,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:iX.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var i$=a7(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),i_="original",i0="arrayRows",i1="objectRows",i2="keyedColumns",i3="typedArray",i4="unknown",i5="column",i6=e$();function i7(a,b,c){var d,e,f={},g=i9(b);if(!g||!a)return f;var h=[],i=[],j=i6(b.ecModel).datasetMap,k=g.uid+"_"+c.seriesLayoutBy;aH(a=a.slice(),function(b,c){var g=aT(b)?b:a[c]={name:b};"ordinal"===g.type&&null==d&&(d=c,e=n(g)),f[g.name]=[]});var l=j.get(k)||j.set(k,{categoryWayDim:e,valueWayDim:0});function m(a,b,c){for(var d=0;d<c;d++)a.push(b+d)}function n(a){var b=a.dimsDef;return b?b.length:1}return aH(a,function(a,b){var c=a.name,e=n(a);if(null==d){var g=l.valueWayDim;m(f[c],g,e),m(i,g,e),l.valueWayDim+=e}else if(d===b)m(f[c],0,e),m(h,0,e);else{var g=l.categoryWayDim;m(f[c],g,e),m(i,g,e),l.categoryWayDim+=e}}),h.length&&(f.itemName=h),i.length&&(f.seriesName=i),f}function i8(a,b,c){var d,e={};if(!i9(a))return e;var f=b.sourceFormat,g=b.dimensionsDefine;(f===i1||f===i2)&&aH(g,function(a,b){(aT(a)?a.name:a)==="name"&&(d=b)});var h=function(){for(var a={},e={},h=[],i=0,j=Math.min(5,c);i<j;i++){var k=jb(b.data,f,b.seriesLayoutBy,g,b.startIndex,i);h.push(k);var l=3===k;if(l&&null==a.v&&i!==d&&(a.v=i),null!=a.n&&a.n!==a.v&&(l||3!==h[a.n])||(a.n=i),m(a)&&3!==h[a.n])return a;l||(2===k&&null==e.v&&i!==d&&(e.v=i),(null==e.n||e.n===e.v)&&(e.n=i))}function m(a){return null!=a.v&&null!=a.n}return m(a)?a:m(e)?e:null}();if(h){e.value=[h.v];var i=null!=d?d:h.n;e.itemName=[i],e.seriesName=[i]}return e}function i9(a){if(!a.get("data",!0))return e4(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},e2).models[0]}function ja(a,b){return jb(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function jb(a,b,c,d,e,f){var g,h,i;if(aV(a))return 3;if(d){var j=d[f];aT(j)?(h=j.name,i=j.type):aQ(j)&&(h=j)}if(null!=i)return"ordinal"===i?1:3;if(b===i0)if("row"===c){for(var k=a[f],l=0;l<(k||[]).length&&l<5;l++)if(null!=(g=p(k[e+l])))return g}else for(var l=0;l<a.length&&l<5;l++){var m=a[e+l];if(m&&null!=(g=p(m[f])))return g}else if(b===i1){if(!h)return 3;for(var l=0;l<a.length&&l<5;l++){var n=a[l];if(n&&null!=(g=p(n[h])))return g}}else if(b===i2){if(!h)return 3;var k=a[h];if(!k||aV(k))return 3;for(var l=0;l<k.length&&l<5;l++)if(null!=(g=p(k[l])))return g}else if(b===i_)for(var l=0;l<a.length&&l<5;l++){var n=a[l],o=eS(n);if(!aO(o))return 3;if(null!=(g=p(o[f])))return g}function p(a){var b=aQ(a);return null!=a&&isFinite(a)&&""!==a?b?2:3:b&&"-"!==a?1:void 0}return 3}var jc=a7(),jd=e$(),je=e$(),jf=function(){function a(){}return a.prototype.getColorFromPalette=function(a,b,c){return jh(this,jd,eP(this.get("color",!0)),this.get("colorLayer",!0),a,b,c)},a.prototype.clearColorPalette=function(){var a,b;a=this,(b=jd)(a).paletteIdx=0,b(a).paletteNameMap={}},a}();function jg(a,b,c,d){var e=eP(a.get(["aria","decal","decals"]));return jh(a,je,e,null,b,c,d)}function jh(a,b,c,d,e,f,g){var h=b(f=f||a),i=h.paletteIdx||0,j=h.paletteNameMap=h.paletteNameMap||{};if(j.hasOwnProperty(e))return j[e];var k=null!=g&&d?function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d].length>b)return a[d];return a[c-1]}(d,g):c;if((k=k||c)&&k.length){var l=k[i];return e&&(j[e]=l),h.paletteIdx=(i+1)%k.length,l}}function ji(a){}function jj(a){throw Error(a)}var jk="\0_ec_inner",jl=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.init=function(a,b,c,d,e,f){d=d||{},this.option=null,this._theme=new h2(d),this._locale=new h2(e),this._optionManager=f},b.prototype.setOption=function(a,b,c){var d=jo(b);this._optionManager.setOption(a,c,d),this._resetOption(null,d)},b.prototype.resetOption=function(a,b){return this._resetOption(a,jo(b))},b.prototype._resetOption=function(a,b){var c=!1,d=this._optionManager;if(!a||"recreate"===a){var e=d.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this._mergeOption(e,b)):x(this,e),c=!0}if(("timeline"===a||"media"===a)&&this.restoreData(),!a||"recreate"===a||"timeline"===a){var f=d.getTimelineOption(this);f&&(c=!0,this._mergeOption(f,b))}if(!a||"recreate"===a||"media"===a){var g=d.getMediaOption(this);g.length&&aH(g,function(a){c=!0,this._mergeOption(a,b)},this)}return c},b.prototype.mergeOption=function(a){this._mergeOption(a,null)},b.prototype._mergeOption=function(a,b){var c=this.option,d=this._componentsMap,e=this._componentsCount,f=[],g=a7(),h=b&&b.replaceMergeMainTypeMap;i6(this).datasetMap=a7(),aH(a,function(a,b){null!=a&&(iU.hasClass(b)?b&&(f.push(b),g.set(b,!0)):c[b]=null==c[b]?az(a):aA(c[b],a,!0))}),h&&h.each(function(a,b){iU.hasClass(b)&&!g.get(b)&&(f.push(b),g.set(b,!0))}),iU.topologicalTravel(f,iU.getAllClassMainTypes(),function(b){var f,g=function(a,b,c){var d=jc.get(b);if(!d)return c;var e=d(a);return e?c.concat(e):c}(this,b,eP(a[b])),i=d.get(b),j=i?h&&h.get(b)?"replaceMerge":"normalMerge":"replaceAll",k=eT(i,g,j);aH(k,function(a){var c,d,e,f,g=a.newOption;aT(g)&&(a.keyInfo.mainType=b,a.keyInfo.subType=(c=b,d=g,e=a.existing,f=iU,d.type?d.type:e?e.subType:f.determineSubType(c,d)))}),c[b]=null,d.set(b,null),e.set(b,0);var l=[],m=[],n=0;aH(k,function(a,c){var d=a.existing,e=a.newOption;if(e){var g="series"===b,h=iU.getClass(b,a.keyInfo.subType,!g);if(!h)return;if("tooltip"===b){if(f)return;f=!0}if(d&&d.constructor===h)d.name=a.keyInfo.name,d.mergeOption(e,this),d.optionUpdated(e,!1);else{var i=aC({componentIndex:c},a.keyInfo);aC(d=new h(e,this,this,i),i),a.brandNew&&(d.__requireNewView=!0),d.init(e,this,this),d.optionUpdated(null,!0)}}else d&&(d.mergeOption({},this),d.optionUpdated({},!1));d?(l.push(d.option),m.push(d),n++):(l.push(void 0),m.push(void 0))},this),c[b]=l,d.set(b,m),e.set(b,n),"series"===b&&v(this)},this),this._seriesIndices||v(this)},b.prototype.getOption=function(){var a=az(this.option);return aH(a,function(b,c){if(iU.hasClass(c)){for(var d=eP(b),e=d.length,f=!1,g=e-1;g>=0;g--)d[g]&&!eY(d[g])?f=!0:(d[g]=null,!f&&e--);d.length=e,a[c]=d}}),delete a[jk],a},b.prototype.getTheme=function(){return this._theme},b.prototype.getLocaleModel=function(){return this._locale},b.prototype.setUpdatePayload=function(a){this._payload=a},b.prototype.getUpdatePayload=function(){return this._payload},b.prototype.getComponent=function(a,b){var c=this._componentsMap.get(a);if(c){var d=c[b||0];if(d)return d;if(null==b){for(var e=0;e<c.length;e++)if(c[e])return c[e]}}},b.prototype.queryComponents=function(a){var b,c=a.mainType;if(!c)return[];var d=a.index,e=a.id,f=a.name,g=this._componentsMap.get(c);return g&&g.length?(null!=d?(b=[],aH(eP(d),function(a){g[a]&&b.push(g[a])})):b=null!=e?jm("id",e,g):null!=f?jm("name",f,g):aK(g,function(a){return!!a}),jn(b,a)):[]},b.prototype.findComponents=function(a){var b,c,d,e,f,g=a.query,h=a.mainType,i=(b=g,c=h+"Index",d=h+"Id",e=h+"Name",b&&(null!=b[c]||null!=b[d]||null!=b[e])?{mainType:h,index:b[c],id:b[d],name:b[e]}:null);return f=jn(i?this.queryComponents(i):aK(this._componentsMap.get(h),function(a){return!!a}),a),a.filter?aK(f,a.filter):f},b.prototype.eachComponent=function(a,b,c){var d=this._componentsMap;if(aP(a))d.each(function(c,d){for(var e=0;c&&e<c.length;e++){var f=c[e];f&&a.call(b,d,f,f.componentIndex)}});else for(var e=aQ(a)?d.get(a):aT(a)?this.findComponents(a):null,f=0;e&&f<e.length;f++){var g=e[f];g&&b.call(c,g,g.componentIndex)}},b.prototype.getSeriesByName=function(a){var b=eW(a,null);return aK(this._componentsMap.get("series"),function(a){return!!a&&null!=b&&a.name===b})},b.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},b.prototype.getSeriesByType=function(a){return aK(this._componentsMap.get("series"),function(b){return!!b&&b.subType===a})},b.prototype.getSeries=function(){return aK(this._componentsMap.get("series"),function(a){return!!a})},b.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},b.prototype.eachSeries=function(a,b){w(this),aH(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},b.prototype.eachRawSeries=function(a,b){aH(this._componentsMap.get("series"),function(c){c&&a.call(b,c,c.componentIndex)})},b.prototype.eachSeriesByType=function(a,b,c){w(this),aH(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},b.prototype.eachRawSeriesByType=function(a,b,c){return aH(this.getSeriesByType(a),b,c)},b.prototype.isSeriesFiltered=function(a){return w(this),null==this._seriesIndicesMap.get(a.componentIndex)},b.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},b.prototype.filterSeries=function(a,b){w(this);var c=[];aH(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];a.call(b,e,d)&&c.push(d)},this),this._seriesIndices=c,this._seriesIndicesMap=a7(c)},b.prototype.restoreData=function(a){v(this);var b=this._componentsMap,c=[];b.each(function(a,b){iU.hasClass(b)&&c.push(b)}),iU.topologicalTravel(c,iU.getAllClassMainTypes(),function(c){aH(b.get(c),function(b){b&&("series"!==c||!function(a,b){if(b){var c=b.seriesIndex,d=b.seriesId,e=b.seriesName;return null!=c&&a.componentIndex!==c||null!=d&&a.id!==d||null!=e&&a.name!==e}}(b,a))&&b.restoreData()})})},b.internalField=void(v=function(a){var b=a._seriesIndices=[];aH(a._componentsMap.get("series"),function(a){a&&b.push(a.componentIndex)}),a._seriesIndicesMap=a7(b)},w=function(a){},x=function(a,b){a.option={},a.option[jk]=1,a._componentsMap=a7({series:[]}),a._componentsCount=a7();var c,d,e,f=b.aria;aT(f)&&null==f.enabled&&(f.enabled=!0),c=b,d=a._theme.option,e=c.color&&!c.colorLayer,aH(d,function(a,b){("colorLayer"!==b||!e)&&(iU.hasClass(b)||("object"==typeof a?c[b]=c[b]?aA(c[b],a,!1):az(a):null==c[b]&&(c[b]=a)))}),aA(b,iZ,!1),a._mergeOption(b,null)}),b}(h2);function jm(a,b,c){if(aO(b)){var d=a7();return aH(b,function(a){null!=a&&null!=eW(a,null)&&d.set(a,!0)}),aK(c,function(b){return b&&d.get(b[a])})}var e=eW(b,null);return aK(c,function(b){return b&&null!=e&&b[a]===e})}function jn(a,b){return b.hasOwnProperty("subType")?aK(a,function(a){return a&&a.subType===b.subType}):a}function jo(a){var b=a7();return a&&aH(eP(a.replaceMerge),function(a){b.set(a,!0)}),{replaceMergeMainTypeMap:b}}aF(jl,jf);var jp=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];let jq=function(a){aH(jp,function(b){this[b]=aM(a[b],a)},this)};var jr={},js=function(){function a(){this._coordinateSystems=[]}return a.prototype.create=function(a,b){var c=[];aH(jr,function(d,e){var f=d.create(a,b);c=c.concat(f||[])}),this._coordinateSystems=c},a.prototype.update=function(a,b){aH(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},a.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},a.register=function(a,b){jr[a]=b},a.get=function(a){return jr[a]},a}(),jt=/^(min|max)?(.+)$/,ju=function(){function a(a){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=a}return a.prototype.setOption=function(a,b,c){a&&(aH(eP(a.series),function(a){a&&a.data&&aV(a.data)&&(a.data[a3]=!0)}),aH(eP(a.dataset),function(a){a&&a.source&&aV(a.source)&&(a.source[a3]=!0)})),a=az(a);var d=this._optionBackup,e=function(a,b,c){var d,e,f=[],g=a.baseOption,h=a.timeline,i=a.options,j=a.media,k=!!a.media,l=!!(i||h||g&&g.timeline);function m(a){aH(b,function(b){b(a,c)})}return g?(e=g).timeline||(e.timeline=h):((l||k)&&(a.options=a.media=null),e=a),k&&aO(j)&&aH(j,function(a){a&&a.option&&(a.query?f.push(a):d||(d=a))}),m(e),aH(i,function(a){return m(a)}),aH(f,function(a){return m(a.option)}),{baseOption:e,timelineOptions:i||[],mediaDefault:d,mediaList:f}}(a,b,!d);this._newBaseOption=e.baseOption,d?(e.timelineOptions.length&&(d.timelineOptions=e.timelineOptions),e.mediaList.length&&(d.mediaList=e.mediaList),e.mediaDefault&&(d.mediaDefault=e.mediaDefault)):this._optionBackup=e},a.prototype.mountOption=function(a){var b=this._optionBackup;return this._timelineOptions=b.timelineOptions,this._mediaList=b.mediaList,this._mediaDefault=b.mediaDefault,this._currentMediaIndices=[],az(a?b.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(a){var b,c=this._timelineOptions;if(c.length){var d=a.getComponent("timeline");d&&(b=az(c[d.getCurrentIndex()]))}return b},a.prototype.getMediaOption=function(a){var b,c,d=this._api.getWidth(),e=this._api.getHeight(),f=this._mediaList,g=this._mediaDefault,h=[],i=[];if(!f.length&&!g)return i;for(var j=0,k=f.length;j<k;j++)(function(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;return aH(a,function(a,b){var c=b.match(jt);if(c&&c[1]&&c[2]){var f,g,h,i=c[1];f=d[c[2].toLowerCase()],g=a,("min"===(h=i)?f>=g:"max"===h?f<=g:f===g)||(e=!1)}}),e})(f[j].query,d,e)&&h.push(j);return!h.length&&g&&(h=[-1]),h.length&&(b=h,c=this._currentMediaIndices,b.join(",")!==c.join(","))&&(i=aI(h,function(a){return az(-1===a?g.option:f[a].option)})),this._currentMediaIndices=h,i},a}(),jv=aT,jw=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function jx(a){var b=a&&a.itemStyle;if(b)for(var c=0,d=jw.length;c<d;c++){var e=jw[c],f=b.normal,g=b.emphasis;f&&f[e]&&(a[e]=a[e]||{},a[e].normal?aA(a[e].normal,f[e]):a[e].normal=f[e],f[e]=null),g&&g[e]&&(a[e]=a[e]||{},a[e].emphasis?aA(a[e].emphasis,g[e]):a[e].emphasis=g[e],g[e]=null)}}function jy(a,b,c){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var d=a[b].normal,e=a[b].emphasis;d&&(c?(a[b].normal=a[b].emphasis=null,aD(a[b],d)):a[b]=d),e&&(a.emphasis=a.emphasis||{},a.emphasis[b]=e,e.focus&&(a.emphasis.focus=e.focus),e.blurScope&&(a.emphasis.blurScope=e.blurScope))}}function jz(a){jy(a,"itemStyle"),jy(a,"lineStyle"),jy(a,"areaStyle"),jy(a,"label"),jy(a,"labelLine"),jy(a,"upperLabel"),jy(a,"edgeLabel")}function jA(a,b){var c=jv(a)&&a[b],d=jv(c)&&c.textStyle;if(d)for(var e=0,f=eR.length;e<f;e++){var g=eR[e];d.hasOwnProperty(g)&&(c[g]=d[g])}}function jB(a){a&&(jz(a),jA(a,"label"),a.emphasis&&jA(a.emphasis,"label"))}function jC(a){return aO(a)?a:a?[a]:[]}function jD(a){return(aO(a)?a[0]:a)||{}}function jE(a){a&&aH(jF,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var jF=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],jG=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],jH=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function jI(a){var b=a&&a.itemStyle;if(b)for(var c=0;c<jH.length;c++){var d=jH[c][1],e=jH[c][0];null!=b[d]&&(b[e]=b[d])}}function jJ(a){a&&"edge"===a.alignTo&&null!=a.margin&&null==a.edgeDistance&&(a.edgeDistance=a.margin)}function jK(a){a&&a.downplay&&!a.blur&&(a.blur=a.downplay)}function jL(a,b){var c;aH(jC(a.series),function(a){jv(a)&&function(a){if(jv(a)){jx(a),jz(a),jA(a,"label"),jA(a,"upperLabel"),jA(a,"edgeLabel"),a.emphasis&&(jA(a.emphasis,"label"),jA(a.emphasis,"upperLabel"),jA(a.emphasis,"edgeLabel"));var b=a.markPoint;b&&(jx(b),jB(b));var c=a.markLine;c&&(jx(c),jB(c));var d=a.markArea;d&&jB(d);var e=a.data;if("graph"===a.type){e=e||a.nodes;var f=a.links||a.edges;if(f&&!aV(f))for(var g=0;g<f.length;g++)jB(f[g]);aH(a.categories,function(a){jz(a)})}if(e&&!aV(e))for(var g=0;g<e.length;g++)jB(e[g]);if((b=a.markPoint)&&b.data)for(var h=b.data,g=0;g<h.length;g++)jB(h[g]);if((c=a.markLine)&&c.data)for(var i=c.data,g=0;g<i.length;g++)aO(i[g])?(jB(i[g][0]),jB(i[g][1])):jB(i[g]);"gauge"===a.type?(jA(a,"axisLabel"),jA(a,"title"),jA(a,"detail")):"treemap"===a.type?(jy(a.breadcrumb,"itemStyle"),aH(a.levels,function(a){jz(a)})):"tree"===a.type&&jz(a.leaves)}}(a)}),c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"],b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),aH(c,function(b){aH(jC(a[b]),function(a){a&&(jA(a,"axisLabel"),jA(a.axisPointer,"label"))})}),aH(jC(a.parallel),function(a){var b=a&&a.parallelAxisDefault;jA(b,"axisLabel"),jA(b&&b.axisPointer,"label")}),aH(jC(a.calendar),function(a){jy(a,"itemStyle"),jA(a,"dayLabel"),jA(a,"monthLabel"),jA(a,"yearLabel")}),aH(jC(a.radar),function(a){jA(a,"name"),a.name&&null==a.axisName&&(a.axisName=a.name,delete a.name),null!=a.nameGap&&null==a.axisNameGap&&(a.axisNameGap=a.nameGap,delete a.nameGap)}),aH(jC(a.geo),function(a){jv(a)&&(jB(a),aH(jC(a.regions),function(a){jB(a)}))}),aH(jC(a.timeline),function(a){jB(a),jy(a,"label"),jy(a,"itemStyle"),jy(a,"controlStyle",!0);var b=a.data;aO(b)&&aH(b,function(a){aT(a)&&(jy(a,"label"),jy(a,"itemStyle"))})}),aH(jC(a.toolbox),function(a){jy(a,"iconStyle"),aH(a.feature,function(a){jy(a,"iconStyle")})}),jA(jD(a.axisPointer),"label"),jA(jD(a.tooltip).axisPointer,"label"),a.series=eP(a.series),aH(a.series,function(a){if(aT(a)){var b=a.type;if("line"===b)null!=a.clipOverflow&&(a.clip=a.clipOverflow);else if("pie"===b||"gauge"===b){null!=a.clockWise&&(a.clockwise=a.clockWise),jJ(a.label);var c=a.data;if(c&&!aV(c))for(var d=0;d<c.length;d++)jJ(c[d]);null!=a.hoverOffset&&(a.emphasis=a.emphasis||{})}else if("gauge"===b){var e=function(a,b){for(var c=b.split(","),d=a,e=0;e<c.length&&null!=(d=d&&d[c[e]]);e++);return d}(a,"pointer.color");null!=e&&function(a,b,c,d){for(var e,f=b.split(","),g=a,h=0;h<f.length-1;h++)null==g[e=f[h]]&&(g[e]={}),g=g[e];null==g[f[h]]&&(g[f[h]]=c)}(a,"itemStyle.color",e)}else if("bar"===b){jI(a),jI(a.backgroundStyle),jI(a.emphasis);var c=a.data;if(c&&!aV(c))for(var d=0;d<c.length;d++)"object"==typeof c[d]&&(jI(c[d]),jI(c[d]&&c[d].emphasis))}else if("sunburst"===b){var f=a.highlightPolicy;f&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=f)),jK(a),function a(b,c){if(b)for(var d=0;d<b.length;d++)c(b[d]),b[d]&&a(b[d].children,c)}(a.data,jK)}else"graph"===b||"sankey"===b?a&&null!=a.focusNodeAdjacency&&(a.emphasis=a.emphasis||{},null==a.emphasis.focus&&(a.emphasis.focus="adjacency")):"map"===b&&(a.mapType&&!a.map&&(a.map=a.mapType),a.mapLocation&&aD(a,a.mapLocation));null!=a.hoverAnimation&&(a.emphasis=a.emphasis||{},a.emphasis&&null==a.emphasis.scale&&(a.emphasis.scale=a.hoverAnimation)),jE(a)}}),a.dataRange&&(a.visualMap=a.dataRange),aH(jG,function(b){var c=a[b];c&&(aO(c)||(c=[c]),aH(c,function(a){jE(a)}))})}function jM(a){aH(a,function(b,c){var d=[],e=[NaN,NaN],f=[b.stackResultDimension,b.stackedOverDimension],g=b.data,h=b.isStackedByIndex,i=b.seriesModel.get("stackStrategy")||"samesign";g.modify(f,function(f,j,k){var l,m,n=g.get(b.stackedDimension,k);if(isNaN(n))return e;h?m=g.getRawIndex(k):l=g.get(b.stackedByDimension,k);for(var o=NaN,p=c-1;p>=0;p--){var q=a[p];if(h||(m=q.data.rawIndexOf(q.stackedByDimension,l)),m>=0){var r=q.data.getByRawIndex(q.stackResultDimension,m);if("all"===i||"positive"===i&&r>0||"negative"===i&&r<0||"samesign"===i&&n>=0&&r>0||"samesign"===i&&n<=0&&r<0){n=function(a,b){var c=Math.max(ev(a),ev(b)),d=a+b;return c>20?d:et(d,c)}(n,r),o=r;break}}}return d[0]=n,d[1]=o,d})})}var jN=function(a){this.data=a.data||(a.sourceFormat===i2?{}:[]),this.sourceFormat=a.sourceFormat||i4,this.seriesLayoutBy=a.seriesLayoutBy||i5,this.startIndex=a.startIndex||0,this.dimensionsDetectedCount=a.dimensionsDetectedCount,this.metaRawOption=a.metaRawOption;var b=this.dimensionsDefine=a.dimensionsDefine;if(b)for(var c=0;c<b.length;c++){var d=b[c];null==d.type&&1===ja(this,c)&&(d.type="ordinal")}};function jO(a){return a instanceof jN}function jP(a,b,c){c=c||jR(a);var d=b.seriesLayoutBy,e=function(a,b,c,d,e){if(!a)return{dimensionsDefine:jS(e),startIndex:g,dimensionsDetectedCount:f};if(b===i0){var f,g;"auto"===d||null==d?jT(function(a){null!=a&&"-"!==a&&(aQ(a)?null==g&&(g=1):g=0)},c,a,10):g=aS(d)?d:+!!d,e||1!==g||(e=[],jT(function(a,b){e[b]=null!=a?a+"":""},c,a,1/0)),f=e?e.length:"row"===c?a.length:a[0]?a[0].length:null}else if(b===i1)e||(e=function(a){for(var b,c=0;c<a.length&&!(b=a[c++]););if(b)return aL(b)}(a));else if(b===i2)e||(e=[],aH(a,function(a,b){e.push(b)}));else if(b===i_){var h=eS(a[0]);f=aO(h)&&h.length||1}return{startIndex:g,dimensionsDefine:jS(e),dimensionsDetectedCount:f}}(a,c,d,b.sourceHeader,b.dimensions);return new jN({data:a,sourceFormat:c,seriesLayoutBy:d,dimensionsDefine:e.dimensionsDefine,startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount,metaRawOption:az(b)})}function jQ(a){return new jN({data:a,sourceFormat:aV(a)?i3:i_})}function jR(a){var b=i4;if(aV(a))b=i3;else if(aO(a)){0===a.length&&(b=i0);for(var c=0,d=a.length;c<d;c++){var e=a[c];if(null!=e){if(aO(e)||aV(e)){b=i0;break}else if(aT(e)){b=i1;break}}}}else if(aT(a)){for(var f in a)if(bb(a,f)&&aG(a[f])){b=i2;break}}return b}function jS(a){if(a){var b=a7();return aI(a,function(a,c){var d={name:(a=aT(a)?a:{name:a}).name,displayName:a.displayName,type:a.type};if(null==d.name)return d;d.name+="",null==d.displayName&&(d.displayName=d.name);var e=b.get(d.name);return e?d.name+="-"+e.count++:b.set(d.name,{count:1}),d})}}function jT(a,b,c,d){if("row"===b)for(var e=0;e<c.length&&e<d;e++)a(c[e]?c[e][0]:null,e);else for(var f=c[0]||[],e=0;e<f.length&&e<d;e++)a(f[e],e)}function jU(a){var b=a.sourceFormat;return b===i1||b===i2}var jV=function(){var a;function b(a,b){var c=jO(a)?a:jQ(a);this._source=c;var d=this._data=c.data;c.sourceFormat===i3&&(this._offset=0,this._dimSize=b,this._data=d),C(this,d,c)}return b.prototype.getSource=function(){return this._source},b.prototype.count=function(){return 0},b.prototype.getItem=function(a,b){},b.prototype.appendData=function(a){},b.prototype.clean=function(){},b.protoInitialize=void((a=b.prototype).pure=!1,a.persistent=!0),b.internalField=function(){C=function(a,e,f){var g=f.sourceFormat,h=f.seriesLayoutBy,i=f.startIndex,j=f.dimensionsDefine;aC(a,B[j0(g,h)]),g===i3?(a.getItem=b,a.count=d,a.fillStorage=c):(a.getItem=aM(function(a,b){return jX[j0(a,b)]}(g,h),null,e,i,j),a.count=aM(function(a,b){return jZ[j0(a,b)]}(g,h),null,e,i,j))};var a,b=function(a,b){a-=this._offset,b=b||[];for(var c=this._data,d=this._dimSize,e=d*a,f=0;f<d;f++)b[f]=c[e+f];return b},c=function(a,b,c,d){for(var e=this._data,f=this._dimSize,g=0;g<f;g++){for(var h=d[g],i=null==h[0]?1/0:h[0],j=null==h[1]?-1/0:h[1],k=b-a,l=c[g],m=0;m<k;m++){var n=e[m*f+g];l[a+m]=n,n<i&&(i=n),n>j&&(j=n)}h[0]=i,h[1]=j}},d=function(){return this._data?this._data.length/this._dimSize:0};function e(a){for(var b=0;b<a.length;b++)this._data.push(a[b])}(a={})[i0+"_"+i5]={pure:!0,appendData:e},a[i0+"_row"]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},a[i1]={pure:!0,appendData:e},a[i2]={pure:!0,appendData:function(a){var b=this._data;aH(a,function(a,c){for(var d=b[c]||(b[c]=[]),e=0;e<(a||[]).length;e++)d.push(a[e])})}},a[i_]={appendData:e},a[i3]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},B=a}(),b}(),jW=function(a,b,c,d){return a[d]},jX=((y={})[i0+"_"+i5]=function(a,b,c,d){return a[d+b]},y[i0+"_row"]=function(a,b,c,d,e){d+=b;for(var f=e||[],g=0;g<a.length;g++){var h=a[g];f[g]=h?h[d]:null}return f},y[i1]=jW,y[i2]=function(a,b,c,d,e){for(var f=e||[],g=0;g<c.length;g++){var h=a[c[g].name];f[g]=h?h[d]:null}return f},y[i_]=jW,y),jY=function(a,b,c){return a.length},jZ=((z={})[i0+"_"+i5]=function(a,b,c){return Math.max(0,a.length-b)},z[i0+"_row"]=function(a,b,c){var d=a[0];return d?Math.max(0,d.length-b):0},z[i1]=jY,z[i2]=function(a,b,c){var d=a[c[0].name];return d?d.length:0},z[i_]=jY,z),j$=function(a,b,c){return a[b]},j_=((A={})[i0]=j$,A[i1]=function(a,b,c){return a[c]},A[i2]=j$,A[i_]=function(a,b,c){var d=eS(a);return d instanceof Array?d[b]:d},A[i3]=j$,A);function j0(a,b){return a===i0?a+"_"+b:a}function j1(a,b,c){if(a){var d=a.getRawDataItem(b);if(null!=d){var e=a.getStore(),f=e.getSource().sourceFormat;if(null!=c){var g=a.getDimensionIndex(c),h=e.getDimensionProperty(g);return j_[f](d,g,h)}var i=d;return f===i_&&(i=eS(d)),i}}}var j2=/\{@(.+?)\}/g,j3=function(){function a(){}return a.prototype.getDataParams=function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a),g=c.getRawDataItem(a),h=c.getItemVisual(a,"style"),i=h&&h[c.getItemVisual(a,"drawType")||"fill"],j=h&&h.stroke,k=this.mainType,l="series"===k,m=c.userOutput&&c.userOutput.get();return{componentType:k,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:l?this.subType:null,seriesIndex:this.seriesIndex,seriesId:l?this.id:null,seriesName:l?this.name:null,name:f,dataIndex:e,data:g,dataType:b,value:d,color:i,borderColor:j,dimensionNames:m?m.fullDimensions:null,encode:m?m.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(a,b,c,d,e,f){b=b||"normal";var g=this.getData(c),h=this.getDataParams(a,c);return(f&&(h.value=f.interpolatedValue),null!=d&&aO(h.value)&&(h.value=h.value[d]),e||(e=g.getItemModel(a).get("normal"===b?["label","formatter"]:[b,"label","formatter"])),aP(e))?(h.status=b,h.dimensionIndex=d,e(h)):aQ(e)?iE(e,h).replace(j2,function(b,c){var d=c.length,e=c;"["===e.charAt(0)&&"]"===e.charAt(d-1)&&(e=+e.slice(1,d-1));var h=j1(g,a,e);if(f&&aO(f.interpolatedValue)){var i=g.getDimensionIndex(e);i>=0&&(h=f.interpolatedValue[i])}return null!=h?h+"":""}):void 0},a.prototype.getRawValue=function(a,b){return j1(this.getData(b),a)},a.prototype.formatTooltip=function(a,b,c){},a}();function j4(a){var b,c;return aT(a)?a.type&&(c=a):b=a,{text:b,frag:c}}function j5(a){return new j6(a)}var j6=function(){function a(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0}return a.prototype.perform=function(a){var b,c,d,e,f=this._upstream,g=a&&a.skip;if(this._dirty&&f){var h=this.context;h.data=h.outputData=f.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!g&&(d=this._plan(this.context));var i=((b=this._modBy)>=1||(b=1),b),j=this._modDataCount||0,k=((c=a&&a.modBy)>=1||(c=1),c),l=a&&a.modDataCount||0;(i!==k||j!==l)&&(d="reset"),(this._dirty||"reset"===d)&&(this._dirty=!1,e=this._doReset(g)),this._modBy=k,this._modDataCount=l;var m=a&&a.step;if(f?this._dueEnd=f._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var n=this._dueIndex,o=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd);if(!g&&(e||n<o)){var p=this._progress;if(aO(p))for(var q=0;q<p.length;q++)this._doProgress(p[q],n,o,k,l);else this._doProgress(p,n,o,k,l)}this._dueIndex=o;var r=null!=this._settedOutputEnd?this._settedOutputEnd:o;this._outputDueEnd=r}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(a,b,c,d,e){j7.reset(b,c,d,e),this._callingProgress=a,this._callingProgress({start:b,end:c,count:c-b,next:j7.next},this.context)},a.prototype._doReset=function(a){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!a&&this._reset&&((b=this._reset(this.context))&&b.progress&&(c=b.forceFirstProgress,b=b.progress),aO(b)&&!b.length&&(b=null)),this._progress=b,this._modBy=this._modDataCount=null;var b,c,d=this._downstream;return d&&d.dirty(),c},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a},a}(),j7=function(){var a,b,c,d,e,f={reset:function(i,j,k,l){b=i,a=j,c=k,e=Math.ceil((d=l)/c),f.next=c>1&&d>0?h:g}};return f;function g(){return b<a?b++:null}function h(){var f=b%e*c+Math.ceil(b/e),g=b>=a?null:f<d?f:b;return b++,g}}();function j8(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"!==c||aS(a)||null==a||"-"===a||(a=+eD(a)),null==a||""===a?NaN:+a)}var j9=a7({number:function(a){return parseFloat(a)},time:function(a){return+eD(a)},trim:function(a){return aQ(a)?a2(a):a}}),ka={lt:function(a,b){return a<b},lte:function(a,b){return a<=b},gt:function(a,b){return a>b},gte:function(a,b){return a>=b}},kb=function(){function a(a,b){aS(b)||jj(""),this._opFn=ka[a],this._rvalFloat=eJ(b)}return a.prototype.evaluate=function(a){return aS(a)?this._opFn(a,this._rvalFloat):this._opFn(eJ(a),this._rvalFloat)},a}(),kc=function(){function a(a,b){var c="desc"===a;this._resultLT=c?1:-1,null==b&&(b=c?"min":"max"),this._incomparable="min"===b?-1/0:1/0}return a.prototype.evaluate=function(a,b){var c=aS(a)?a:eJ(a),d=aS(b)?b:eJ(b),e=isNaN(c),f=isNaN(d);if(e&&(c=this._incomparable),f&&(d=this._incomparable),e&&f){var g=aQ(a),h=aQ(b);g&&(c=h?a:0),h&&(d=g?b:0)}return c<d?this._resultLT:c>d?-this._resultLT:0},a}(),kd=function(){function a(a,b){this._rval=b,this._isEQ=a,this._rvalTypeof=typeof b,this._rvalFloat=eJ(b)}return a.prototype.evaluate=function(a){var b=a===this._rval;if(!b){var c=typeof a;c!==this._rvalTypeof&&("number"===c||"number"===this._rvalTypeof)&&(b=eJ(a)===this._rvalFloat)}return this._isEQ?b:!b},a}(),ke=function(){function a(){}return a.prototype.getRawData=function(){throw Error("not supported")},a.prototype.getRawDataItem=function(a){throw Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(a){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(a,b){},a.prototype.retrieveValueFromItem=function(a,b){},a.prototype.convertValue=function(a,b){return j8(a,b)},a}();function kf(a){return kk(a.sourceFormat)||jj(""),a.data}function kg(a){var b=a.sourceFormat,c=a.data;if(kk(b)||jj(""),b===i0){for(var d=[],e=0,f=c.length;e<f;e++)d.push(c[e].slice());return d}if(b===i1){for(var d=[],e=0,f=c.length;e<f;e++)d.push(aC({},c[e]));return d}}function kh(a,b,c){if(null!=c){if(aS(c)||!isNaN(c)&&!bb(b,c))return a[c];else if(bb(b,c))return b[c]}}function ki(a){return az(a)}var kj=a7();function kk(a){return a===i0||a===i1}var kl="undefined",km=typeof Uint32Array===kl?Array:Uint32Array,kn=typeof Uint16Array===kl?Array:Uint16Array,ko=typeof Int32Array===kl?Array:Int32Array,kp=typeof Float64Array===kl?Array:Float64Array,kq={float:kp,int:ko,ordinal:Array,number:Array,time:kp};function kr(a){return a>65535?km:kn}function ks(){return[1/0,-1/0]}function kt(a,b,c,d,e){var f=kq[c||"float"];if(e){var g=a[b],h=g&&g.length;if(h!==d){for(var i=new f(d),j=0;j<h;j++)i[j]=g[j];a[b]=i}}else a[b]=new f(d)}var ku=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=a7()}return a.prototype.initData=function(a,b,c){this._provider=a,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var d=a.getSource(),e=this.defaultDimValueGetter=D[d.sourceFormat];this._dimValueGetter=c||e,this._rawExtent=[],jU(d),this._dimensions=aI(b,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,a.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(a,b){var c=this._calcDimNameToIdx,d=this._dimensions,e=c.get(a);if(null!=e){if(d[e].type===b)return e}else e=d.length;return d[e]={type:b},c.set(a,e),this._chunks[e]=new kq[b||"float"](this._rawCount),this._rawExtent[e]=ks(),e},a.prototype.collectOrdinalMeta=function(a,b){var c=this._chunks[a],d=this._dimensions[a],e=this._rawExtent,f=d.ordinalOffset||0,g=c.length;0===f&&(e[a]=ks());for(var h=e[a],i=f;i<g;i++){var j=c[i]=b.parseAndCollect(c[i]);isNaN(j)||(h[0]=Math.min(j,h[0]),h[1]=Math.max(j,h[1]))}d.ordinalMeta=b,d.ordinalOffset=g,d.type="ordinal"},a.prototype.getOrdinalMeta=function(a){return this._dimensions[a].ordinalMeta},a.prototype.getDimensionProperty=function(a){var b=this._dimensions[a];return b&&b.property},a.prototype.appendData=function(a){var b=this._provider,c=this.count();b.appendData(a);var d=b.count();return b.persistent||(d+=c),c<d&&this._initDataFromProvider(c,d,!0),[c,d]},a.prototype.appendValues=function(a,b){for(var c=this._chunks,d=this._dimensions,e=d.length,f=this._rawExtent,g=this.count(),h=g+Math.max(a.length,b||0),i=0;i<e;i++){var j=d[i];kt(c,i,j.type,h,!0)}for(var k=[],l=g;l<h;l++)for(var m=l-g,n=0;n<e;n++){var j=d[n],o=D.arrayRows.call(this,a[m]||k,j.property,m,n);c[n][l]=o;var p=f[n];o<p[0]&&(p[0]=o),o>p[1]&&(p[1]=o)}return this._rawCount=this._count=h,{start:g,end:h}},a.prototype._initDataFromProvider=function(a,b,c){for(var d=this._provider,e=this._chunks,f=this._dimensions,g=f.length,h=this._rawExtent,i=aI(f,function(a){return a.property}),j=0;j<g;j++){var k=f[j];h[j]||(h[j]=ks()),kt(e,j,k.type,b,c)}if(d.fillStorage)d.fillStorage(a,b,e,h);else for(var l=[],m=a;m<b;m++){l=d.getItem(m,l);for(var n=0;n<g;n++){var o=e[n],p=this._dimValueGetter(l,i[n],m,n);o[m]=p;var q=h[n];p<q[0]&&(q[0]=p),p>q[1]&&(q[1]=p)}}!d.persistent&&d.clean&&d.clean(),this._rawCount=this._count=b,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(a,b){if(!(b>=0&&b<this._count))return NaN;var c=this._chunks[a];return c?c[this.getRawIndex(b)]:NaN},a.prototype.getValues=function(a,b){var c=[],d=[];if(null==b){b=a,a=[];for(var e=0;e<this._dimensions.length;e++)d.push(e)}else d=a;for(var e=0,f=d.length;e<f;e++)c.push(this.get(d[e],b));return c},a.prototype.getByRawIndex=function(a,b){if(!(b>=0&&b<this._rawCount))return NaN;var c=this._chunks[a];return c?c[b]:NaN},a.prototype.getSum=function(a){var b=this._chunks[a],c=0;if(b)for(var d=0,e=this.count();d<e;d++){var f=this.get(a,d);isNaN(f)||(c+=f)}return c},a.prototype.getMedian=function(a){var b=[];this.each([a],function(a){isNaN(a)||b.push(a)});var c=b.sort(function(a,b){return a-b}),d=this.count();return 0===d?0:d%2==1?c[(d-1)/2]:(c[d/2]+c[d/2-1])/2},a.prototype.indexOfRawIndex=function(a){if(a>=this._rawCount||a<0)return -1;if(!this._indices)return a;var b=this._indices,c=b[a];if(null!=c&&c<this._count&&c===a)return a;for(var d=0,e=this._count-1;d<=e;){var f=(d+e)/2|0;if(b[f]<a)d=f+1;else{if(!(b[f]>a))return f;e=f-1}}return -1},a.prototype.indicesOfNearest=function(a,b,c){var d=this._chunks[a],e=[];if(!d)return e;null==c&&(c=1/0);for(var f=1/0,g=-1,h=0,i=0,j=this.count();i<j;i++){var k=b-d[this.getRawIndex(i)],l=Math.abs(k);l<=c&&((l<f||l===f&&k>=0&&g<0)&&(f=l,g=k,h=0),k===g&&(e[h++]=i))}return e.length=h,e},a.prototype.getIndices=function(){var a,b=this._indices;if(b){var c=b.constructor,d=this._count;if(c===Array){a=new c(d);for(var e=0;e<d;e++)a[e]=b[e]}else a=new c(b.buffer,0,d)}else{var c=kr(this._rawCount);a=new c(this.count());for(var e=0;e<a.length;e++)a[e]=e}return a},a.prototype.filter=function(a,b){if(!this._count)return this;for(var c=this.clone(),d=c.count(),e=new(kr(c._rawCount))(d),f=[],g=a.length,h=0,i=a[0],j=c._chunks,k=0;k<d;k++){var l=void 0,m=c.getRawIndex(k);if(0===g)l=b(k);else if(1===g)l=b(j[i][m],k);else{for(var n=0;n<g;n++)f[n]=j[a[n]][m];f[n]=k,l=b.apply(null,f)}l&&(e[h++]=m)}return h<d&&(c._indices=e),c._count=h,c._extent=[],c._updateGetRawIdx(),c},a.prototype.selectRange=function(a){var b=this.clone(),c=b._count;if(!c)return this;var d=aL(a),e=d.length;if(!e)return this;var f=b.count(),g=new(kr(b._rawCount))(f),h=0,i=d[0],j=a[i][0],k=a[i][1],l=b._chunks,m=!1;if(!b._indices){var n=0;if(1===e){for(var o=l[d[0]],p=0;p<c;p++){var q=o[p];(q>=j&&q<=k||isNaN(q))&&(g[h++]=n),n++}m=!0}else if(2===e){for(var o=l[d[0]],r=l[d[1]],s=a[d[1]][0],t=a[d[1]][1],p=0;p<c;p++){var q=o[p],u=r[p];(q>=j&&q<=k||isNaN(q))&&(u>=s&&u<=t||isNaN(u))&&(g[h++]=n),n++}m=!0}}if(!m)if(1===e)for(var p=0;p<f;p++){var v=b.getRawIndex(p),q=l[d[0]][v];(q>=j&&q<=k||isNaN(q))&&(g[h++]=v)}else for(var p=0;p<f;p++){for(var w=!0,v=b.getRawIndex(p),x=0;x<e;x++){var y=d[x],q=l[y][v];(q<a[y][0]||q>a[y][1])&&(w=!1)}w&&(g[h++]=b.getRawIndex(p))}return h<f&&(b._indices=g),b._count=h,b._extent=[],b._updateGetRawIdx(),b},a.prototype.map=function(a,b){var c=this.clone(a);return this._updateDims(c,a,b),c},a.prototype.modify=function(a,b){this._updateDims(this,a,b)},a.prototype._updateDims=function(a,b,c){for(var d=a._chunks,e=[],f=b.length,g=a.count(),h=[],i=a._rawExtent,j=0;j<b.length;j++)i[b[j]]=ks();for(var k=0;k<g;k++){for(var l=a.getRawIndex(k),m=0;m<f;m++)h[m]=d[b[m]][l];h[f]=k;var n=c&&c.apply(null,h);if(null!=n){"object"!=typeof n&&(e[0]=n,n=e);for(var j=0;j<n.length;j++){var o=b[j],p=n[j],q=i[o],r=d[o];r&&(r[l]=p),p<q[0]&&(q[0]=p),p>q[1]&&(q[1]=p)}}}},a.prototype.lttbDownSample=function(a,b){var c,d,e,f=this.clone([a],!0),g=f._chunks[a],h=this.count(),i=0,j=Math.floor(1/b),k=this.getRawIndex(0),l=new(kr(this._rawCount))(Math.min((Math.ceil(h/j)+2)*2,h));l[i++]=k;for(var m=1;m<h-1;m+=j){for(var n=Math.min(m+j,h-1),o=Math.min(m+2*j,h),p=(o+n)/2,q=0,r=n;r<o;r++){var s=this.getRawIndex(r),t=g[s];isNaN(t)||(q+=t)}q/=o-n;var u=m,v=Math.min(m+j,h),w=m-1,x=g[k];c=-1,e=u;for(var y=-1,z=0,r=u;r<v;r++){var s=this.getRawIndex(r),t=g[s];if(isNaN(t)){z++,y<0&&(y=s);continue}(d=Math.abs((w-p)*(t-x)-(w-r)*(q-x)))>c&&(c=d,e=s)}z>0&&z<v-u&&(l[i++]=Math.min(y,e),e=Math.max(y,e)),l[i++]=e,k=e}return l[i++]=this.getRawIndex(h-1),f._count=i,f._indices=l,f.getRawIndex=this._getRawIdx,f},a.prototype.downSample=function(a,b,c,d){for(var e=this.clone([a],!0),f=e._chunks,g=[],h=Math.floor(1/b),i=f[a],j=this.count(),k=e._rawExtent[a]=ks(),l=new(kr(this._rawCount))(Math.ceil(j/h)),m=0,n=0;n<j;n+=h){h>j-n&&(g.length=h=j-n);for(var o=0;o<h;o++){var p=this.getRawIndex(n+o);g[o]=i[p]}var q=c(g),r=this.getRawIndex(Math.min(n+d(g,q)||0,j-1));i[r]=q,q<k[0]&&(k[0]=q),q>k[1]&&(k[1]=q),l[m++]=r}return e._count=m,e._indices=l,e._updateGetRawIdx(),e},a.prototype.each=function(a,b){if(this._count)for(var c=a.length,d=this._chunks,e=0,f=this.count();e<f;e++){var g=this.getRawIndex(e);switch(c){case 0:b(e);break;case 1:b(d[a[0]][g],e);break;case 2:b(d[a[0]][g],d[a[1]][g],e);break;default:for(var h=0,i=[];h<c;h++)i[h]=d[a[h]][g];i[h]=e,b.apply(null,i)}}},a.prototype.getDataExtent=function(a){var b,c=this._chunks[a],d=ks();if(!c)return d;var e=this.count();if(!this._indices)return this._rawExtent[a].slice();if(b=this._extent[a])return b.slice();for(var f=(b=d)[0],g=b[1],h=0;h<e;h++){var i=c[this.getRawIndex(h)];i<f&&(f=i),i>g&&(g=i)}return b=[f,g],this._extent[a]=b,b},a.prototype.getRawDataItem=function(a){var b=this.getRawIndex(a);if(this._provider.persistent)return this._provider.getItem(b);for(var c=[],d=this._chunks,e=0;e<d.length;e++)c.push(d[e][b]);return c},a.prototype.clone=function(b,c){var d=new a,e=this._chunks,f=b&&aJ(b,function(a,b){return a[b]=!0,a},{});if(f)for(var g=0;g<e.length;g++)d._chunks[g]=f[g]?function(a){var b=a.constructor;return b===Array?a.slice():new b(a)}(e[g]):e[g];else d._chunks=e;return this._copyCommonProps(d),c||(d._indices=this._cloneIndices()),d._updateGetRawIdx(),d},a.prototype._copyCommonProps=function(a){a._count=this._count,a._rawCount=this._rawCount,a._provider=this._provider,a._dimensions=this._dimensions,a._extent=az(this._extent),a._rawExtent=az(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var a=this._indices.constructor,b=void 0;if(a===Array){var c=this._indices.length;b=new a(c);for(var d=0;d<c;d++)b[d]=this._indices[d]}else b=new a(this._indices);return b}return null},a.prototype._getRawIdxIdentity=function(a){return a},a.prototype._getRawIdx=function(a){return a<this._count&&a>=0?this._indices[a]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function a(a,b,c,d){return j8(a[d],this._dimensions[d])}D={arrayRows:a,objectRows:function(a,b,c,d){return j8(a[b],this._dimensions[d])},keyedColumns:a,original:function(a,b,c,d){var e=a&&(null==a.value?a:a.value);return j8(e instanceof Array?e[d]:e,this._dimensions[d])},typedArray:function(a,b,c,d){return a[d]}}}(),a}(),kv=function(){function a(a){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=a}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(a,b){this._sourceList=a,this._upstreamSignList=b,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var a,b,c=this._sourceHost,d=this._getUpstreamSourceManagers(),e=!!d.length;if(kx(c)){var f=void 0,g=void 0,h=void 0;if(e){var i=d[0];i.prepareSource(),f=(h=i.getSource()).data,g=h.sourceFormat,b=[i._getVersionSign()]}else g=aV(f=c.get("data",!0))?i3:i_,b=[];var j=this._getSourceMetaRawOption()||{},k=h&&h.metaRawOption||{},l=aZ(j.seriesLayoutBy,k.seriesLayoutBy)||null,m=aZ(j.sourceHeader,k.sourceHeader),n=aZ(j.dimensions,k.dimensions);a=l!==k.seriesLayoutBy||!!m!=!!k.sourceHeader||n?[jP(f,{seriesLayoutBy:l,sourceHeader:m,dimensions:n},g)]:[]}else if(e){var o=this._applyTransform(d);a=o.sourceList,b=o.upstreamSignList}else a=[jP(c.get("source",!0),this._getSourceMetaRawOption(),null)],b=[];this._setLocalSource(a,b)},a.prototype._applyTransform=function(a){var b,c,d=this._sourceHost,e=d.get("transform",!0),f=d.get("fromTransformResult",!0);null!=f&&1!==a.length&&ky("");var g=[],h=[];return(aH(a,function(a){a.prepareSource();var b=a.getSource(f||0);null==f||b||ky(""),g.push(b),h.push(a._getVersionSign())}),e)?c=function(a,b,c){var d=eP(a),e=d.length;e||jj("");for(var f=0;f<e;f++)b=function(a,b,c,d){b.length||jj(""),aT(a)||jj("");var e=a.type,f=kj.get(e);f||jj("");var g=aI(b,function(a){return function(a,b){var c=new ke,d=a.data,e=c.sourceFormat=a.sourceFormat,f=a.startIndex;a.seriesLayoutBy!==i5&&jj("");var g=[],h={},i=a.dimensionsDefine;if(i)aH(i,function(a,b){var c=a.name,d={index:b,name:c,displayName:a.displayName};g.push(d),null!=c&&(bb(h,c)&&jj(""),h[c]=d)});else for(var j=0;j<a.dimensionsDetectedCount||0;j++)g.push({index:j});var k=jX[j0(e,i5)];b.__isBuiltIn&&(c.getRawDataItem=function(a){return k(d,f,g,a)},c.getRawData=aM(kf,null,a)),c.cloneRawData=aM(kg,null,a),c.count=aM(jZ[j0(e,i5)],null,d,f,g);var l=j_[e];c.retrieveValue=function(a,b){return m(k(d,f,g,a),b)};var m=c.retrieveValueFromItem=function(a,b){if(null!=a){var c=g[b];if(c)return l(a,b,c.name)}};return c.getDimensionInfo=aM(kh,null,g,h),c.cloneAllDimensionInfo=aM(ki,null,g),c}(a,f)});return aI(eP(f.transform({upstream:g[0],upstreamList:g,config:az(a.config)})),function(a,c){aT(a)||jj(""),a.data||jj(""),kk(jR(a.data))||jj("");var d,e=b[0];if(e&&0===c&&!a.dimensions){var f=e.startIndex;f&&(a.data=e.data.slice(0,f).concat(a.data)),d={seriesLayoutBy:i5,sourceHeader:f,dimensions:e.metaRawOption.dimensions}}else d={seriesLayoutBy:i5,sourceHeader:0,dimensions:a.dimensions};return jP(a.data,d,null)})}(d[f],b,0,0),f!==e-1&&(b.length=Math.max(b.length,1));return b}(e,g,{datasetIndex:d.componentIndex}):null!=f&&(c=[new jN({data:(b=g[0]).data,sourceFormat:b.sourceFormat,seriesLayoutBy:b.seriesLayoutBy,dimensionsDefine:az(b.dimensionsDefine),startIndex:b.startIndex,dimensionsDetectedCount:b.dimensionsDetectedCount})]),{sourceList:c,upstreamSignList:h}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var a=this._getUpstreamSourceManagers(),b=0;b<a.length;b++){var c=a[b];if(c._isDirty()||this._upstreamSignList[b]!==c._getVersionSign())return!0}},a.prototype.getSource=function(a){a=a||0;var b=this._sourceList[a];if(!b){var c=this._getUpstreamSourceManagers();return c[0]&&c[0].getSource(a)}return b},a.prototype.getSharedDataStore=function(a){var b=a.makeStoreSchema();return this._innerGetDataStore(b.dimensions,a.source,b.hash)},a.prototype._innerGetDataStore=function(a,b,c){var d=this._storeList,e=d[0];e||(e=d[0]={});var f=e[c];if(!f){var g=this._getUpstreamSourceManagers()[0];kx(this._sourceHost)&&g?f=g._innerGetDataStore(a,b,c):(f=new ku).initData(new jV(b,a.length),a),e[c]=f}return f},a.prototype._getUpstreamSourceManagers=function(){var a=this._sourceHost;if(kx(a)){var b=i9(a);return b?[b.getSourceManager()]:[]}return aI(a.get("transform",!0)||a.get("fromTransformResult",!0)?e4(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},e2).models:[],function(a){return a.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var a,b,c,d=this._sourceHost;return kx(d)?(a=d.get("seriesLayoutBy",!0),b=d.get("sourceHeader",!0),c=d.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(a=d.get("seriesLayoutBy",!0),b=d.get("sourceHeader",!0),c=d.get("dimensions",!0)),{seriesLayoutBy:a,sourceHeader:b,dimensions:c}},a}();function kw(a){a.option.transform&&(a.option.transform[a3]=!0)}function kx(a){return"series"===a.mainType}function ky(a){throw Error(a)}var kz="line-height:1";function kA(a,b){var c=a.color||"#6e7079",d=a.fontSize||12,e=a.fontWeight||"400",f=a.color||"#464646",g=a.fontSize||14,h=a.fontWeight||"900";return"html"===b?{nameStyle:"font-size:"+bH(d+"")+"px;color:"+bH(c)+";font-weight:"+bH(e+""),valueStyle:"font-size:"+bH(g+"")+"px;color:"+bH(f)+";font-weight:"+bH(h+"")}:{nameStyle:{fontSize:d,fill:c,fontWeight:e},valueStyle:{fontSize:g,fill:f,fontWeight:h}}}var kB=[0,10,20,30],kC=["","\n","\n\n","\n\n\n"];function kD(a,b){return b.type=a,b}function kE(a){return"section"===a.type}function kF(a,b,c,d){var e,f=b.noHeader,g={html:kB[e=function a(b){if(kE(b)){var c=0,d=b.blocks.length,e=d>1||d>0&&!b.noHeader;return aH(b.blocks,function(b){var d=a(b);d>=c&&(c=d+ +(e&&(!d||kE(b)&&!b.noHeader)))}),c}return 0}(b)],richText:kC[e]},h=[],i=b.blocks||[];a1(!i||aO(i)),i=i||[];var j=a.orderMode;if(b.sortBlocks&&j){i=i.slice();var k={valueAsc:"asc",valueDesc:"desc"};if(bb(k,j)){var l=new kc(k[j],null);i.sort(function(a,b){return l.evaluate(a.sortParam,b.sortParam)})}else"seriesDesc"===j&&i.reverse()}aH(i,function(c,e){var f=b.valueFormatter,i=(kE(c)?kF:kG)(f?aC(aC({},a),{valueFormatter:f}):a,c,e>0?g.html:0,d);null!=i&&h.push(i)});var m="richText"===a.renderMode?h.join(g.richText):kI(h.join(""),f?c:g.html);if(f)return m;var n=iB(b.header,"ordinal",a.useUTC),o=kA(d,a.renderMode).nameStyle;return"richText"===a.renderMode?kJ(a,n,o)+g.richText+m:kI('<div style="'+o+";"+kz+';">'+bH(n)+"</div>"+m,c)}function kG(a,b,c,d){var e=a.renderMode,f=b.noName,g=b.noValue,h=!b.markerType,i=b.name,j=a.useUTC,k=b.valueFormatter||a.valueFormatter||function(a){return aI(a=aO(a)?a:[a],function(a,b){return iB(a,aO(v)?v[b]:v,j)})};if(!f||!g){var l,m,n,o,p,q,r,s,t=h?"":a.markupStyleCreator.makeTooltipMarker(b.markerType,b.markerColor||"#333",e),u=f?"":iB(i,"ordinal",j),v=b.valueType,w=g?[]:k(b.value,b.dataIndex),x=!h||!f,y=!h&&f,z=kA(d,e),A=z.nameStyle,B=z.valueStyle;return"richText"===e?(h?"":t)+(f?"":kJ(a,u,A))+(g?"":(l=a,m=w,n=x,o=y,p=[B],n&&p.push({padding:[0,0,0,o?10:20],align:"right"}),l.markupStyleCreator.wrapRichTextStyle(aO(m)?m.join("  "):m,p))):kI((h?"":t)+(f?"":'<span style="'+A+";"+(h?"":"margin-left:2px")+'">'+bH(u)+"</span>")+(g?"":(q=w,r=x,s=y,'<span style="'+(r?"float:right;margin-left:"+(s?"10px":"20px"):"")+";"+B+'">'+aI(q=aO(q)?q:[q],function(a){return bH(a)}).join("&nbsp;&nbsp;")+"</span>")),c)}}function kH(a,b,c,d,e,f){if(a)return(kE(a)?kF:kG)({useUTC:e,renderMode:c,orderMode:d,markupStyleCreator:b,valueFormatter:a.valueFormatter},a,0,f)}function kI(a,b){return'<div style="margin: '+b+"px 0 0;"+kz+';">'+a+'<div style="clear:both"></div></div>'}function kJ(a,b,c){return a.markupStyleCreator.wrapRichTextStyle(b,c)}function kK(a,b){return iI(a.getData().getItemVisual(b,"style")[a.visualDrawType])}function kL(a,b){var c=a.get("padding");return null!=c?c:"richText"===b?[8,10]:10}var kM=function(){function a(){this.richTextStyles={},this._nextStyleNameId=eL()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(a,b,c){var d="richText"===c?this._generateStyleName():null,e=iF({color:b,type:a,renderMode:c,markerId:d});return aQ(e)?e:(this.richTextStyles[d]=e.style,e.content)},a.prototype.wrapRichTextStyle=function(a,b){var c={};aO(b)?aH(b,function(a){return aC(c,a)}):aC(c,b);var d=this._generateStyleName();return this.richTextStyles[d]=c,"{"+d+"|"+a+"}"},a}();function kN(a){var b,c,d,e,f=a.series,g=a.dataIndex,h=a.multipleSeries,i=f.getData(),j=i.mapDimensionsAll("defaultedTooltip"),k=j.length,l=f.getRawValue(g),m=aO(l),n=kK(f,g);if(k>1||m&&!k){var o=function(a,b,c,d,e){var f=b.getData(),g=aJ(a,function(a,b,c){var d=f.getDimensionInfo(c);return a||d&&!1!==d.tooltip&&null!=d.displayName},!1),h=[],i=[],j=[];function k(a,b){var c=f.getDimensionInfo(b);c&&!1!==c.otherDims.tooltip&&(g?j.push(kD("nameValue",{markerType:"subItem",markerColor:e,name:c.displayName,value:a,valueType:c.type})):(h.push(a),i.push(c.type)))}return d.length?aH(d,function(a){k(j1(f,c,a),a)}):aH(a,k),{inlineValues:h,inlineValueTypes:i,blocks:j}}(l,f,g,j,n);b=o.inlineValues,c=o.inlineValueTypes,d=o.blocks,e=o.inlineValues[0]}else if(k){var p=i.getDimensionInfo(j[0]);e=b=j1(i,g,j[0]),c=p.type}else e=b=m?l[0]:l;var q=eX(f),r=q&&f.name||"",s=i.getName(g),t=h?r:s;return kD("section",{header:r,noHeader:h||!q,sortParam:e,blocks:[kD("nameValue",{markerType:"item",markerColor:n,name:t,noName:!a2(t),value:b,valueType:c,dataIndex:g})].concat(d||[])})}var kO=e$();function kP(a,b){return a.getName(b)||a.getId(b)}var kQ="__universalTransitionEnabled",kR=function(a){var b;function c(){var b=null!==a&&a.apply(this,arguments)||this;return b._selectedDataIndicesMap={},b}return af(c,a),c.prototype.init=function(a,b,c){this.seriesIndex=this.componentIndex,this.dataTask=j5({count:kT,reset:kU}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,c),(kO(this).sourceManager=new kv(this)).prepareSource();var d=this.getInitialData(a,c);kW(d,this),this.dataTask.context.data=d,kO(this).dataBeforeProcessed=d,kS(this),this._initSelectedMapFromData(d)},c.prototype.mergeDefaultAndTheme=function(a,b){var c=iP(this),d=c?iR(a):{},e=this.subType;iU.hasClass(e)&&(e+="Series"),aA(a,b.getTheme().get(this.subType)),aA(a,this.getDefaultOption()),eQ(a,"label",["show"]),this.fillDataTextStyle(a.data),c&&iQ(a,d,c)},c.prototype.mergeOption=function(a,b){a=aA(this.option,a,!0),this.fillDataTextStyle(a.data);var c=iP(this);c&&iQ(this.option,a,c);var d=kO(this).sourceManager;d.dirty(),d.prepareSource();var e=this.getInitialData(a,b);kW(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,kO(this).dataBeforeProcessed=e,kS(this),this._initSelectedMapFromData(e)},c.prototype.fillDataTextStyle=function(a){if(a&&!aV(a))for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&eQ(a[c],"label",b)},c.prototype.getInitialData=function(a,b){},c.prototype.appendData=function(a){this.getRawData().appendData(a.data)},c.prototype.getData=function(a){var b=kY(this);if(!b)return kO(this).data;var c=b.context.data;return null==a?c:c.getLinkedData(a)},c.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},c.prototype.setData=function(a){var b=kY(this);if(b){var c=b.context;c.outputData=a,b!==this.dataTask&&(c.data=a)}kO(this).data=a},c.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return a7(a)},c.prototype.getSourceManager=function(){return kO(this).sourceManager},c.prototype.getSource=function(){return this.getSourceManager().getSource()},c.prototype.getRawData=function(){return kO(this).dataBeforeProcessed},c.prototype.getColorBy=function(){return this.get("colorBy")||"series"},c.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},c.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},c.prototype.formatTooltip=function(a,b,c){return kN({series:this,dataIndex:a,multipleSeries:b})},c.prototype.isAnimationEnabled=function(){var a=this.ecModel;if(ah.node&&!(a&&a.ssr))return!1;var b=this.getShallow("animation");return b&&this.getData().count()>this.getShallow("animationThreshold")&&(b=!1),!!b},c.prototype.restoreData=function(){this.dataTask.dirty()},c.prototype.getColorFromPalette=function(a,b,c){var d=this.ecModel,e=jf.prototype.getColorFromPalette.call(this,a,b,c);return e||(e=d.getColorFromPalette(a,b,c)),e},c.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},c.prototype.getProgressive=function(){return this.get("progressive")},c.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},c.prototype.select=function(a,b){this._innerSelect(this.getData(b),a)},c.prototype.unselect=function(a,b){var c=this.option.selectedMap;if(c){var d=this.option.selectedMode,e=this.getData(b);if("series"===d||"all"===c){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<a.length;f++){var g=kP(e,a[f]);c[g]=!1,this._selectedDataIndicesMap[g]=-1}}},c.prototype.toggleSelect=function(a,b){for(var c=[],d=0;d<a.length;d++)c[0]=a[d],this.isSelected(a[d],b)?this.unselect(c,b):this.select(c,b)},c.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var a=this._selectedDataIndicesMap,b=aL(a),c=[],d=0;d<b.length;d++){var e=a[b[d]];e>=0&&c.push(e)}return c},c.prototype.isSelected=function(a,b){var c=this.option.selectedMap;if(!c)return!1;var d=this.getData(b);return("all"===c||c[kP(d,a)])&&!d.getItemModel(a).get(["select","disabled"])},c.prototype.isUniversalTransitionEnabled=function(){if(this[kQ])return!0;var a=this.option.universalTransition;return!!a&&(!0===a||a&&a.enabled)},c.prototype._innerSelect=function(a,b){var c,d,e=this.option,f=e.selectedMode,g=b.length;if(f&&g){if("series"===f)e.selectedMap="all";else if("multiple"===f){aT(e.selectedMap)||(e.selectedMap={});for(var h=e.selectedMap,i=0;i<g;i++){var j=b[i],k=kP(a,j);h[k]=!0,this._selectedDataIndicesMap[k]=a.getRawIndex(j)}}else if("single"===f||!0===f){var l=b[g-1],k=kP(a,l);(c={})[k]=!0,e.selectedMap=c,this._selectedDataIndicesMap=((d={})[k]=a.getRawIndex(l),d)}}},c.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var b=[];a.hasItemOption&&a.each(function(c){var d=a.getRawDataItem(c);d&&d.selected&&b.push(c)}),b.length>0&&this._innerSelect(a,b)}},c.registerClass=function(a){return iU.registerClass(a)},c.protoInitialize=void((b=c.prototype).type="series.__base__",b.seriesIndex=0,b.ignoreStyleOnData=!1,b.hasSymbolVisual=!1,b.defaultSymbol="circle",b.visualStyleAccessPath="itemStyle",b.visualDrawType="fill"),c}(iU);function kS(a){var b,c,d,e=a.name;eX(a)||(a.name=(c=(b=a.getRawData()).mapDimensionsAll("seriesName"),d=[],aH(c,function(a){var c=b.getDimensionInfo(a);c.displayName&&d.push(c.displayName)}),d.join(" ")||e))}function kT(a){return a.model.getRawData().count()}function kU(a){var b=a.model;return b.setData(b.getRawData().cloneShallow()),kV}function kV(a,b){b.outputData&&a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function kW(a,b){aH(a8(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(c){a.wrapMethod(c,aN(kX,b))})}function kX(a,b){var c=kY(a);return c&&c.setOutputEnd((b||this).count()),b}function kY(a){var b=(a.ecModel||{}).scheduler,c=b&&b.getPipeline(a.uid);if(c){var d=c.currentTask;if(d){var e=d.agentStubMap;e&&(d=e.get(a.uid))}return d}}aF(kR,j3),aF(kR,jf),fb(kR,iU);var kZ=function(){function a(){this.group=new em,this.uid=h4("viewComponent")}return a.prototype.init=function(a,b){},a.prototype.render=function(a,b,c,d){},a.prototype.dispose=function(a,b){},a.prototype.updateView=function(a,b,c,d){},a.prototype.updateLayout=function(a,b,c,d){},a.prototype.updateVisual=function(a,b,c,d){},a.prototype.toggleBlurSeries=function(a,b,c){},a.prototype.eachRendered=function(a){var b=this.group;b&&b.traverse(a)},a}();function k$(){var a=e$();return function(b){var c=a(b),d=b.pipelineContext,e=!!c.large,f=!!c.progressiveRender,g=c.large=!!(d&&d.large),h=c.progressiveRender=!!(d&&d.progressiveRender);return(e!==g||f!==h)&&"reset"}}fa(kZ),ff(kZ);var k_=f7.CMD,k0=[[],[],[]],k1=Math.sqrt,k2=Math.atan2;function k3(a,b){if(b){var c,d,e,f,g,h,i=a.data,j=a.len(),k=k_.M,l=k_.C,m=k_.L,n=k_.R,o=k_.A,p=k_.Q;for(e=0,f=0;e<j;){switch(c=i[e++],f=e,d=0,c){case k:case m:d=1;break;case l:d=3;break;case p:d=2;break;case o:var q=b[4],r=b[5],s=k1(b[0]*b[0]+b[1]*b[1]),t=k1(b[2]*b[2]+b[3]*b[3]),u=k2(-b[1]/t,b[0]/s);i[e]*=s,i[e++]+=q,i[e]*=t,i[e++]+=r,i[e++]*=s,i[e++]*=t,i[e++]+=u,i[e++]+=u,e+=2,f=e;break;case n:h[0]=i[e++],h[1]=i[e++],bs(h,h,b),i[f++]=h[0],i[f++]=h[1],h[0]+=i[e++],h[1]+=i[e++],bs(h,h,b),i[f++]=h[0],i[f++]=h[1]}for(g=0;g<d;g++){var v=k0[g];v[0]=i[e++],v[1]=i[e++],bs(v,v,b),i[f++]=v[0],i[f++]=v[1]}}a.increaseVersion()}}var k4=Math.sqrt,k5=Math.sin,k6=Math.cos,k7=Math.PI;function k8(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function k9(a,b){return(a[0]*b[0]+a[1]*b[1])/(k8(a)*k8(b))}function la(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(k9(a,b))}function lb(a,b,c,d,e,f,g,h,i,j,k){var l=k7/180*i,m=k6(l)*(a-c)/2+k5(l)*(b-d)/2,n=-1*k5(l)*(a-c)/2+k6(l)*(b-d)/2,o=m*m/(g*g)+n*n/(h*h);o>1&&(g*=k4(o),h*=k4(o));var p=(e===f?-1:1)*k4((g*g*(h*h)-g*g*(n*n)-h*h*(m*m))/(g*g*(n*n)+h*h*(m*m)))||0,q=p*g*n/h,r=-(p*h)*m/g,s=(a+c)/2+k6(l)*q-k5(l)*r,t=(b+d)/2+k5(l)*q+k6(l)*r,u=la([1,0],[(m-q)/g,(n-r)/h]),v=[(m-q)/g,(n-r)/h],w=[(-1*m-q)/g,(-1*n-r)/h],x=la(v,w);if(-1>=k9(v,w)&&(x=k7),k9(v,w)>=1&&(x=0),x<0){var y=Math.round(x/k7*1e6)/1e6;x=2*k7+y%2*k7}k.addData(j,s,t,g,h,u,x,l,f)}var lc=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,ld=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,le=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bf(b,a),b.prototype.applyTransform=function(a){},b}(gm);function lf(a){return null!=a.setData}function lg(a,b){var c=function(a){var b,c=new f7;if(!a)return c;var d=0,e=0,f=0,g=0,h=f7.CMD,i=a.match(lc);if(!i)return c;for(var j=0;j<i.length;j++){for(var k=i[j],l=k.charAt(0),m=void 0,n=k.match(ld)||[],o=n.length,p=0;p<o;p++)n[p]=parseFloat(n[p]);for(var q=0;q<o;){var r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=d,z=e,A=void 0,B=void 0;switch(l){case"l":d+=n[q++],e+=n[q++],m=h.L,c.addData(m,d,e);break;case"L":d=n[q++],e=n[q++],m=h.L,c.addData(m,d,e);break;case"m":d+=n[q++],e+=n[q++],m=h.M,c.addData(m,d,e),f=d,g=e,l="l";break;case"M":d=n[q++],e=n[q++],m=h.M,c.addData(m,d,e),f=d,g=e,l="L";break;case"h":d+=n[q++],m=h.L,c.addData(m,d,e);break;case"H":d=n[q++],m=h.L,c.addData(m,d,e);break;case"v":e+=n[q++],m=h.L,c.addData(m,d,e);break;case"V":e=n[q++],m=h.L,c.addData(m,d,e);break;case"C":m=h.C,c.addData(m,n[q++],n[q++],n[q++],n[q++],n[q++],n[q++]),d=n[q-2],e=n[q-1];break;case"c":m=h.C,c.addData(m,n[q++]+d,n[q++]+e,n[q++]+d,n[q++]+e,n[q++]+d,n[q++]+e),d+=n[q-2],e+=n[q-1];break;case"S":r=d,s=e,A=c.len(),B=c.data,b===h.C&&(r+=d-B[A-4],s+=e-B[A-3]),m=h.C,y=n[q++],z=n[q++],d=n[q++],e=n[q++],c.addData(m,r,s,y,z,d,e);break;case"s":r=d,s=e,A=c.len(),B=c.data,b===h.C&&(r+=d-B[A-4],s+=e-B[A-3]),m=h.C,y=d+n[q++],z=e+n[q++],d+=n[q++],e+=n[q++],c.addData(m,r,s,y,z,d,e);break;case"Q":y=n[q++],z=n[q++],d=n[q++],e=n[q++],m=h.Q,c.addData(m,y,z,d,e);break;case"q":y=n[q++]+d,z=n[q++]+e,d+=n[q++],e+=n[q++],m=h.Q,c.addData(m,y,z,d,e);break;case"T":r=d,s=e,A=c.len(),B=c.data,b===h.Q&&(r+=d-B[A-4],s+=e-B[A-3]),d=n[q++],e=n[q++],m=h.Q,c.addData(m,r,s,d,e);break;case"t":r=d,s=e,A=c.len(),B=c.data,b===h.Q&&(r+=d-B[A-4],s+=e-B[A-3]),d+=n[q++],e+=n[q++],m=h.Q,c.addData(m,r,s,d,e);break;case"A":t=n[q++],u=n[q++],v=n[q++],w=n[q++],x=n[q++],y=d,z=e,d=n[q++],lb(y,z,d,e=n[q++],w,x,t,u,v,m=h.A,c);break;case"a":t=n[q++],u=n[q++],v=n[q++],w=n[q++],x=n[q++],y=d,z=e,d+=n[q++],lb(y,z,d,e+=n[q++],w,x,t,u,v,m=h.A,c)}}("z"===l||"Z"===l)&&(m=h.Z,c.addData(m),d=f,e=g),b=m}return c.toStatic(),c}(a),d=aC({},b);return d.buildPath=function(a){if(lf(a)){a.setData(c.data);var b=a.getContext();b&&a.rebuildPath(b,1)}else{var b=a;c.rebuildPath(b,1)}},d.applyTransform=function(a){k3(c,a),this.dirtyShape()},d}function lh(a,b){b=b||{};var c=new gm;return a.shape&&c.setShape(a.shape),c.setStyle(a.style),b.bakeTransform?k3(c.path,a.getComputedTransform()):b.toLocal?c.setLocalTransform(a.getComputedTransform()):c.copyTransform(a),c.buildPath=a.buildPath,c.applyTransform=c.applyTransform,c.z=a.z,c.z2=a.z2,c.zlevel=a.zlevel,c}var li=function(){this.cx=0,this.cy=0,this.r=0},lj=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultShape=function(){return new li},b.prototype.buildPath=function(a,b){a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI)},b}(gm);lj.prototype.type="circle";var lk=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},ll=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultShape=function(){return new lk},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=b.rx,f=b.ry,g=.5522848*e,h=.5522848*f;a.moveTo(c-e,d),a.bezierCurveTo(c-e,d-h,c-g,d-f,c,d-f),a.bezierCurveTo(c+g,d-f,c+e,d-h,c+e,d),a.bezierCurveTo(c+e,d+h,c+g,d+f,c,d+f),a.bezierCurveTo(c-g,d+f,c-e,d+h,c-e,d),a.closePath()},b}(gm);ll.prototype.type="ellipse";var lm=Math.PI,ln=2*lm,lo=Math.sin,lp=Math.cos,lq=Math.acos,lr=Math.atan2,ls=Math.abs,lt=Math.sqrt,lu=Math.max,lv=Math.min;function lw(a,b,c,d,e,f,g){var h=a-c,i=b-d,j=(g?f:-f)/lt(h*h+i*i),k=j*i,l=-j*h,m=a+k,n=b+l,o=c+k,p=d+l,q=(m+o)/2,r=(n+p)/2,s=o-m,t=p-n,u=s*s+t*t,v=e-f,w=m*p-o*n,x=(t<0?-1:1)*lt(lu(0,v*v*u-w*w)),y=(w*t-s*x)/u,z=(-w*s-t*x)/u,A=(w*t+s*x)/u,B=(-w*s+t*x)/u,C=y-q,D=z-r,E=A-q,F=B-r;return C*C+D*D>E*E+F*F&&(y=A,z=B),{cx:y,cy:z,x0:-k,y0:-l,x1:y*(e/v-1),y1:z*(e/v-1)}}var lx=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},ly=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultShape=function(){return new lx},b.prototype.buildPath=function(a,b){!function(a,b){var c,d=lu(b.r,0),e=lu(b.r0||0,0),f=d>0,g=e>0;if(f||g){if(f||(d=e,e=0),e>d){var h=d;d=e,e=h}var i=b.startAngle,j=b.endAngle;if(!(isNaN(i)||isNaN(j))){var k=b.cx,l=b.cy,m=!!b.clockwise,n=ls(j-i),o=n>ln&&n%ln;if(o>1e-4&&(n=o),d>1e-4)if(n>ln-1e-4)a.moveTo(k+d*lp(i),l+d*lo(i)),a.arc(k,l,d,i,j,!m),e>1e-4&&(a.moveTo(k+e*lp(j),l+e*lo(j)),a.arc(k,l,e,j,i,m));else{var p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=d*lp(i),G=d*lo(i),H=e*lp(j),I=e*lo(j),J=n>1e-4;if(J){var K=b.cornerRadius;K&&(p=(c=function(a){var b;if(aO(a)){var c=a.length;if(!c)return a;b=1===c?[a[0],a[0],0,0]:2===c?[a[0],a[0],a[1],a[1]]:3===c?a.concat(a[2]):a}else b=[a,a,a,a];return b}(K))[0],q=c[1],r=c[2],s=c[3]);var L=ls(d-e)/2;if(t=lv(L,r),u=lv(L,s),v=lv(L,p),w=lv(L,q),z=x=lu(t,u),A=y=lu(v,w),(x>1e-4||y>1e-4)&&(B=d*lp(j),C=d*lo(j),D=e*lp(i),E=e*lo(i),n<lm)){var M=function(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=l*i-k*j;if(!(m*m<1e-4))return m=(k*(b-f)-l*(a-e))/m,[a+m*i,b+m*j]}(F,G,D,E,B,C,H,I);if(M){var N=F-M[0],O=G-M[1],P=B-M[0],Q=C-M[1],R=1/lo(lq((N*P+O*Q)/(lt(N*N+O*O)*lt(P*P+Q*Q)))/2),S=lt(M[0]*M[0]+M[1]*M[1]);z=lv(x,(d-S)/(R+1)),A=lv(y,(e-S)/(R-1))}}}if(J)if(z>1e-4){var T=lv(r,z),U=lv(s,z),V=lw(D,E,F,G,d,T,m),W=lw(B,C,H,I,d,U,m);a.moveTo(k+V.cx+V.x0,l+V.cy+V.y0),z<x&&T===U?a.arc(k+V.cx,l+V.cy,z,lr(V.y0,V.x0),lr(W.y0,W.x0),!m):(T>0&&a.arc(k+V.cx,l+V.cy,T,lr(V.y0,V.x0),lr(V.y1,V.x1),!m),a.arc(k,l,d,lr(V.cy+V.y1,V.cx+V.x1),lr(W.cy+W.y1,W.cx+W.x1),!m),U>0&&a.arc(k+W.cx,l+W.cy,U,lr(W.y1,W.x1),lr(W.y0,W.x0),!m))}else a.moveTo(k+F,l+G),a.arc(k,l,d,i,j,!m);else a.moveTo(k+F,l+G);if(e>1e-4&&J)if(A>1e-4){var T=lv(p,A),U=lv(q,A),V=lw(H,I,B,C,e,-U,m),W=lw(F,G,D,E,e,-T,m);a.lineTo(k+V.cx+V.x0,l+V.cy+V.y0),A<y&&T===U?a.arc(k+V.cx,l+V.cy,A,lr(V.y0,V.x0),lr(W.y0,W.x0),!m):(U>0&&a.arc(k+V.cx,l+V.cy,U,lr(V.y0,V.x0),lr(V.y1,V.x1),!m),a.arc(k,l,e,lr(V.cy+V.y1,V.cx+V.x1),lr(W.cy+W.y1,W.cx+W.x1),m),T>0&&a.arc(k+W.cx,l+W.cy,T,lr(W.y1,W.x1),lr(W.y0,W.x0),!m))}else a.lineTo(k+H,l+I),a.arc(k,l,e,j,i,m);else a.lineTo(k+H,l+I)}else a.moveTo(k,l);a.closePath()}}}(a,b)},b.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},b}(gm);ly.prototype.type="sector";var lz=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},lA=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultShape=function(){return new lz},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d),a.arc(c,d,b.r,0,e,!1),a.moveTo(c+b.r0,d),a.arc(c,d,b.r0,0,e,!0)},b}(gm);function lB(a,b,c){var d=b.smooth,e=b.points;if(e&&e.length>=2){if(d){var f=function(a,b,c,d){var e,f,g,h,i=[],j=[],k=[],l=[];if(d){g=[1/0,1/0],h=[-1/0,-1/0];for(var m=0,n=a.length;m<n;m++)bt(g,g,a[m]),bu(h,h,a[m]);bt(g,g,d[0]),bu(h,h,d[1])}for(var m=0,n=a.length;m<n;m++){var o=a[m];if(c)e=a[m?m-1:n-1],f=a[(m+1)%n];else if(0===m||m===n-1){i.push(bi(a[m]));continue}else e=a[m-1],f=a[m+1];bl(j,f,e),bn(j,j,b);var p=bp(o,e),q=bp(o,f),r=p+q;0!==r&&(p/=r,q/=r),bn(k,j,-p),bn(l,j,q);var s=bj([],o,k),t=bj([],o,l);d&&(bu(s,s,g),bt(s,s,h),bu(t,t,g),bt(t,t,h)),i.push(s),i.push(t)}return c&&i.push(i.shift()),i}(e,d,c,b.smoothConstraint);a.moveTo(e[0][0],e[0][1]);for(var g=e.length,h=0;h<(c?g:g-1);h++){var i=f[2*h],j=f[2*h+1],k=e[(h+1)%g];a.bezierCurveTo(i[0],i[1],j[0],j[1],k[0],k[1])}}else{a.moveTo(e[0][0],e[0][1]);for(var h=1,l=e.length;h<l;h++)a.lineTo(e[h][0],e[h][1])}c&&a.closePath()}}lA.prototype.type="ring";var lC=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},lD=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultShape=function(){return new lC},b.prototype.buildPath=function(a,b){lB(a,b,!0)},b}(gm);lD.prototype.type="polygon";var lE=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},lF=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new lE},b.prototype.buildPath=function(a,b){lB(a,b,!1)},b}(gm);lF.prototype.type="polyline";var lG={},lH=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},lI=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new lH},b.prototype.buildPath=function(a,b){if(this.subPixelOptimize){var c,d,e,f,g=gt(lG,b,this.style);c=g.x1,d=g.y1,e=g.x2,f=g.y2}else c=b.x1,d=b.y1,e=b.x2,f=b.y2;var h=b.percent;0!==h&&(a.moveTo(c,d),h<1&&(e=c*(1-h)+e*h,f=d*(1-h)+f*h),a.lineTo(e,f))},b.prototype.pointAt=function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]},b}(gm);lI.prototype.type="line";var lJ=[],lK=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function lL(a,b,c){var d=a.cpx2,e=a.cpy2;return null!=d||null!=e?[(c?cE:cD)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?cE:cD)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?cK:cJ)(a.x1,a.cpx1,a.x2,b),(c?cK:cJ)(a.y1,a.cpy1,a.y2,b)]}var lM=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new lK},b.prototype.buildPath=function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,i=b.cpx2,j=b.cpy2,k=b.percent;0!==k&&(a.moveTo(c,d),null==i||null==j?(k<1&&(cM(c,g,e,k,lJ),g=lJ[1],e=lJ[2],cM(d,h,f,k,lJ),h=lJ[1],f=lJ[2]),a.quadraticCurveTo(g,h,e,f)):(k<1&&(cH(c,g,i,e,k,lJ),g=lJ[1],i=lJ[2],e=lJ[3],cH(d,h,j,f,k,lJ),h=lJ[1],j=lJ[2],f=lJ[3]),a.bezierCurveTo(g,h,i,j,e,f)))},b.prototype.pointAt=function(a){return lL(this.shape,a,!1)},b.prototype.tangentAt=function(a){var b=lL(this.shape,a,!0);return bo(b,b)},b}(gm);lM.prototype.type="bezier-curve";var lN=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},lO=function(a){function b(b){return a.call(this,b)||this}return bf(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new lN},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)},b}(gm);lO.prototype.type="arc";var lP=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="compound",b}return bf(b,a),b.prototype._updatePathDirty=function(){for(var a=this.shape.paths,b=this.shapeChanged(),c=0;c<a.length;c++)b=b||a[c].shapeChanged();b&&this.dirtyShape()},b.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1],a[c].segmentIgnoreThreshold)},b.prototype.buildPath=function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},b.prototype.afterBrush=function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].pathUpdated()},b.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),gm.prototype.getBoundingRect.call(this)},b}(gm),lQ=function(){function a(a){this.colorStops=a||[]}return a.prototype.addColorStop=function(a,b){this.colorStops.push({offset:a,color:b})},a}(),lR=function(a){function b(b,c,d,e,f,g){var h=a.call(this,f)||this;return h.x=null==b?0:b,h.y=null==c?0:c,h.x2=null==d?1:d,h.y2=null==e?0:e,h.type="linear",h.global=g||!1,h}return bf(b,a),b}(lQ),lS=function(a){function b(b,c,d,e,f){var g=a.call(this,e)||this;return g.x=null==b?.5:b,g.y=null==c?.5:c,g.r=null==d?.5:d,g.type="radial",g.global=f||!1,g}return bf(b,a),b}(lQ),lT=[0,0],lU=[0,0],lV=new b1,lW=new b1,lX=function(){function a(a,b){this._corners=[],this._axes=[],this._origin=[0,0];for(var c=0;c<4;c++)this._corners[c]=new b1;for(var c=0;c<2;c++)this._axes[c]=new b1;a&&this.fromBoundingRect(a,b)}return a.prototype.fromBoundingRect=function(a,b){var c=this._corners,d=this._axes,e=a.x,f=a.y,g=e+a.width,h=f+a.height;if(c[0].set(e,f),c[1].set(g,f),c[2].set(g,h),c[3].set(e,h),b)for(var i=0;i<4;i++)c[i].transform(b);b1.sub(d[0],c[1],c[0]),b1.sub(d[1],c[3],c[0]),d[0].normalize(),d[1].normalize();for(var i=0;i<2;i++)this._origin[i]=d[i].dot(c[0])},a.prototype.intersect=function(a,b){var c=!0,d=!b;return(lV.set(1/0,1/0),lW.set(0,0),!this._intersectCheckOneSide(this,a,lV,lW,d,1)&&(c=!1,d)||!this._intersectCheckOneSide(a,this,lV,lW,d,-1)&&(c=!1,d))?c:(d||b1.copy(b,c?lV:lW),c)},a.prototype._intersectCheckOneSide=function(a,b,c,d,e,f){for(var g=!0,h=0;h<2;h++){var i=this._axes[h];if(this._getProjMinMaxOnAxis(h,a._corners,lT),this._getProjMinMaxOnAxis(h,b._corners,lU),lT[1]<lU[0]||lT[0]>lU[1]){if(g=!1,e)return g;var j=Math.abs(lU[0]-lT[1]),k=Math.abs(lT[0]-lU[1]);Math.min(j,k)>d.len()&&(j<k?b1.scale(d,i,-j*f):b1.scale(d,i,k*f))}else if(c){var j=Math.abs(lU[0]-lT[1]),k=Math.abs(lT[0]-lU[1]);Math.min(j,k)<c.len()&&(j<k?b1.scale(c,i,j*f):b1.scale(c,i,-k*f))}}return g},a.prototype._getProjMinMaxOnAxis=function(a,b,c){for(var d=this._axes[a],e=this._origin,f=b[0].dot(d)+e[a],g=f,h=f,i=1;i<b.length;i++){var j=b[i].dot(d)+e[a];g=Math.min(j,g),h=Math.max(j,h)}c[0]=g,c[1]=h},a}(),lY=[],lZ=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.notClear=!0,b.incremental=!0,b._displayables=[],b._temporaryDisplayables=[],b._cursor=0,b}return bf(b,a),b.prototype.traverse=function(a,b){a.call(b,this)},b.prototype.useStyle=function(){this.style={}},b.prototype.getCursor=function(){return this._cursor},b.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},b.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},b.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},b.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},b.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)},b.prototype.getDisplayables=function(){return this._displayables},b.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},b.prototype.eachPendingDisplayable=function(a){for(var b=this._cursor;b<this._displayables.length;b++)a&&a(this._displayables[b]);for(var b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])},b.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this,b.update(),b.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this,b.update(),b.parent=null}},b.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new ca(1/0,1/0,-1/0,-1/0),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(lY)),a.union(d)}this._rect=a}return this._rect},b.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1])){for(var d=0;d<this._displayables.length;d++)if(this._displayables[d].contain(a,b))return!0}return!1},b}(fC),l$=Math.max,l_=Math.min,l0={};function l1(a){return gm.extend(a)}var l2=function(a,b){var c=lg(a,b),d=le;function e(a){var b=d.call(this,a)||this;return b.applyTransform=c.applyTransform,b.buildPath=c.buildPath,b}return bf(e,d),e};function l3(a,b){return l2(a,b)}function l4(a,b){l0[a]=b}function l5(a){if(l0.hasOwnProperty(a))return l0[a]}function l6(a,b,c,d){var e=new le(lg(a,b));return c&&("center"===d&&(c=l8(c,e.getBoundingRect())),ma(e,c)),e}function l7(a,b,c){var d=new gr({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){if("center"===c){var e={width:a.width,height:a.height};d.setStyle(l8(b,e))}}});return d}function l8(a,b){var c,d=b.width/b.height,e=a.height*d;return c=e<=a.width?a.height:(e=a.width)/d,{x:a.x+a.width/2-e/2,y:a.y+a.height/2-c/2,width:e,height:c}}var l9=function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];c.push(f.getUpdatedPathProxy(!0))}var g=new gm(b);return g.createPathProxy(),g.buildPath=function(a){if(lf(a)){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b,1)}},g};function ma(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function mb(a,b){return gt(a,a,{lineWidth:b}),a}function mc(a){return gu(a.shape,a.shape,a.style),a}var md=gv;function me(a,b){for(var c=bW([]);a&&a!==b;)bY(c,a.getLocalTransform(),c),a=a.parent;return c}function mf(a,b,c){return b&&!aG(b)&&(b=d2.getLocalTransform(b)),c&&(b=b0([],b)),bs([],a,b)}function mg(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return Math.abs((f=mf(f,b,c))[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"}function mh(a,b,c){if(a&&b){var d,e=(d={},a.traverse(function(a){!a.isGroup&&a.anid&&(d[a.anid]=a)}),d);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=e[a.anid];if(b){var d=f(a);a.attr(f(b)),hy(a,d,c,gO(a).dataIndex)}}})}function f(a){var b={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(b.shape=aC({},a.shape)),b}}function mi(a,b){return aI(a,function(a){var c=a[0];c=l_(c=l$(c,b.x),b.x+b.width);var d=a[1];return[c,d=l_(d=l$(d,b.y),b.y+b.height)]})}function mj(a,b){var c=l$(a.x,b.x),d=l_(a.x+a.width,b.x+b.width),e=l$(a.y,b.y),f=l_(a.y+a.height,b.y+b.height);if(d>=c&&f>=e)return{x:c,y:e,width:d-c,height:f-e}}function mk(a,b,c){var d=aC({rectHover:!0},b),e=d.style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(e.image=a.slice(8),aD(e,c),new gr(d)):l6(a.replace("path://",""),d,c,"center")}function ml(a,b,c,d,e){for(var f=0,g=e[e.length-1];f<e.length;f++){var h=e[f];if(mm(a,b,c,d,h[0],h[1],g[0],g[1]))return!0;g=h}}function mm(a,b,c,d,e,f,g,h){var i,j=c-a,k=d-b,l=g-e,m=h-f,n=l*k-j*m;if((i=n)<=1e-6&&i>=-1e-6)return!1;var o=a-e,p=b-f,q=(o*k-j*p)/n;if(q<0||q>1)return!1;var r=(o*m-l*p)/n;return!(r<0)&&!(r>1)}function mn(a){var b=a.itemTooltipOption,c=a.componentModel,d=a.itemName,e=aQ(b)?{formatter:b}:b,f=c.mainType,g=c.componentIndex,h={componentType:f,name:d,$vars:["name"]};h[f+"Index"]=g;var i=a.formatterParamsExtra;i&&aH(aL(i),function(a){bb(h,a)||(h[a]=i[a],h.$vars.push(a))});var j=gO(a.el);j.componentMainType=f,j.componentIndex=g,j.tooltipConfig={name:d,option:aD({content:d,formatterParams:h},e)}}function mo(a,b){var c;a.isGroup&&(c=b(a)),c||a.traverse(b)}function mp(a,b){if(a)if(aO(a))for(var c=0;c<a.length;c++)mo(a[c],b);else mo(a,b)}l0.circle=lj,l0.ellipse=ll,l0.sector=ly,l0.ring=lA,l0.polygon=lD,l0.polyline=lF,l0.rect=gy,l0.line=lI,l0.bezierCurve=lM,l0.arc=lO,a.s(["applyTransform",()=>mf,"clipPointsByRect",()=>mi,"clipRectByRect",()=>mj,"createIcon",()=>mk,"extendPath",()=>l3,"extendShape",()=>l1,"getShapeClass",()=>l5,"getTransform",()=>me,"groupTransition",()=>mh,"lineLineIntersect",()=>mm,"linePolygonIntersect",()=>ml,"makeImage",()=>l7,"makePath",()=>l6,"mergePath",()=>l9,"registerShape",()=>l4,"resizePath",()=>ma,"setTooltipConfig",()=>mn,"subPixelOptimize",()=>md,"subPixelOptimizeLine",()=>mb,"subPixelOptimizeRect",()=>mc,"transformDirection",()=>mg,"traverseElements",()=>mp],493374);var mq=e$(),mr=k$(),ms=function(){function a(){this.group=new em,this.uid=h4("viewChart"),this.renderTask=j5({plan:mv,reset:mw}),this.renderTask.context={view:this}}return a.prototype.init=function(a,b){},a.prototype.render=function(a,b,c,d){},a.prototype.highlight=function(a,b,c,d){var e=a.getData(d&&d.dataType);e&&mu(e,d,"emphasis")},a.prototype.downplay=function(a,b,c,d){var e=a.getData(d&&d.dataType);e&&mu(e,d,"normal")},a.prototype.remove=function(a,b){this.group.removeAll()},a.prototype.dispose=function(a,b){},a.prototype.updateView=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.updateLayout=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.eachRendered=function(a){mp(this.group,a)},a.markUpdateMethod=function(a,b){mq(a).updateMethod=b},a.protoInitialize=void(a.prototype.type="chart"),a}();function mt(a,b,c){a&&hs(a)&&("emphasis"===b?hd:he)(a,c)}function mu(a,b,c){var d,e,f=eZ(a,b),g=b&&null!=b.highlightKey?(null==(e=gR[d=b.highlightKey])&&gQ<=32&&(e=gR[d]=gQ++),e):null;null!=f?aH(eP(f),function(b){mt(a.getItemGraphicEl(b),c,g)}):a.eachItemGraphicEl(function(a){mt(a,c,g)})}function mv(a){return mr(a.model)}function mw(a){var b=a.model,c=a.ecModel,d=a.api,e=a.payload,f=b.pipelineContext.progressiveRender,g=a.view,h=e&&mq(e).updateMethod,i=f?"incrementalPrepareRender":h&&g[h]?h:"render";return"render"!==i&&g[i](b,c,d,e),mx[i]}fa(ms,["dispose"]),ff(ms);var mx={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}},my="\0__throttleOriginMethod",mz="\0__throttleRate",mA="\0__throttleType";function mB(a,b,c){var d,e,f,g,h,i=0,j=0,k=null;function l(){j=new Date().getTime(),k=null,a.apply(f,g||[])}b=b||0;var m=function(){for(var a=[],m=0;m<arguments.length;m++)a[m]=arguments[m];d=new Date().getTime(),f=this,g=a;var n=h||b,o=h||c;h=null,e=d-(o?i:j)-n,clearTimeout(k),o?k=setTimeout(l,n):e>=0?l():k=setTimeout(l,-e),i=d};return m.clear=function(){k&&(clearTimeout(k),k=null)},m.debounceNextCall=function(a){h=a},m}function mC(a,b,c,d){var e=a[b];if(e){var f=e[my]||e,g=e[mA];if(e[mz]!==c||g!==d){if(null==c||!d)return a[b]=f;(e=a[b]=mB(f,c,"debounce"===d))[my]=f,e[mA]=d,e[mz]=c}return e}}function mD(a,b){var c=a[b];c&&c[my]&&(c.clear&&c.clear(),a[b]=c[my])}var mE=e$(),mF={itemStyle:fg(h_,!0),lineStyle:fg(hY,!0)},mG={lineStyle:"stroke",itemStyle:"fill"};function mH(a,b){var c=a.visualStyleMapper||mF[b];return c||(console.warn("Unknown style type '"+b+"'."),mF.itemStyle)}function mI(a,b){var c=a.visualDrawType||mG[b];return c||(console.warn("Unknown style type '"+b+"'."),"fill")}var mJ=new h2,mK=Math.PI,mL=function(){function a(a,b,c,d){this._stageTaskMap=a7(),this.ecInstance=a,this.api=b,c=this._dataProcessorHandlers=c.slice(),d=this._visualHandlers=d.slice(),this._allHandlers=c.concat(d)}return a.prototype.restoreData=function(a,b){a.restoreData(b),this._stageTaskMap.each(function(a){var b=a.overallTask;b&&b.dirty()})},a.prototype.getPerformArgs=function(a,b){if(a.__pipeline){var c=this._pipelineMap.get(a.__pipeline.id),d=c.context,e=!b&&c.progressiveEnabled&&(!d||d.progressiveRender)&&a.__idxInPipeline>c.blockIndex?c.step:null,f=d&&d.modDataCount,g=null!=f?Math.ceil(f/e):null;return{step:e,modBy:g,modDataCount:f}}},a.prototype.getPipeline=function(a){return this._pipelineMap.get(a)},a.prototype.updateStreamModes=function(a,b){var c=this._pipelineMap.get(a.uid),d=a.getData().count(),e=c.progressiveEnabled&&b.incrementalPrepareRender&&d>=c.threshold,f=a.get("large")&&d>=a.get("largeThreshold"),g="mod"===a.get("progressiveChunkMode")?d:null;a.pipelineContext=c.context={progressiveRender:e,modDataCount:g,large:f}},a.prototype.restorePipelines=function(a){var b=this,c=b._pipelineMap=a7();a.eachSeries(function(a){var d=a.getProgressive(),e=a.uid;c.set(e,{id:e,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:d&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(d||700),count:0}),b._pipe(a,a.dataTask)})},a.prototype.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.api.getModel(),c=this.api;aH(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,{});a1(!(d.reset&&d.overallReset),""),d.reset&&this._createSeriesStageTask(d,e,b,c),d.overallReset&&this._createOverallStageTask(d,e,b,c)},this)},a.prototype.prepareView=function(a,b,c,d){var e=a.renderTask,f=e.context;f.model=b,f.ecModel=c,f.api=d,e.__block=!a.incrementalPrepareRender,this._pipe(b,e)},a.prototype.performDataProcessorTasks=function(a,b){this._performStageTasks(this._dataProcessorHandlers,a,b,{block:!0})},a.prototype.performVisualTasks=function(a,b,c){this._performStageTasks(this._visualHandlers,a,b,c)},a.prototype._performStageTasks=function(a,b,c,d){d=d||{};var e=!1,f=this;function g(a,b){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(b.__pipeline.id))}aH(a,function(a,h){if(!d.visualType||d.visualType===a.visualType){var i=f._stageTaskMap.get(a.uid),j=i.seriesTaskMap,k=i.overallTask;if(k){var l,m=k.agentStubMap;m.each(function(a){g(d,a)&&(a.dirty(),l=!0)}),l&&k.dirty(),f.updatePayload(k,c);var n=f.getPerformArgs(k,d.block);m.each(function(a){a.perform(n)}),k.perform(n)&&(e=!0)}else j&&j.each(function(h,i){g(d,h)&&h.dirty();var j=f.getPerformArgs(h,d.block);j.skip=!a.performRawSeries&&b.isSeriesFiltered(h.context.model),f.updatePayload(h,c),h.perform(j)&&(e=!0)})}}),this.unfinished=e||this.unfinished},a.prototype.performSeriesTasks=function(a){var b;a.eachSeries(function(a){b=a.dataTask.perform()||b}),this.unfinished=b||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(a){var b=a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})},a.prototype.updatePayload=function(a,b){"remain"!==b&&(a.context.payload=b)},a.prototype._createSeriesStageTask=function(a,b,c,d){var e=this,f=b.seriesTaskMap,g=b.seriesTaskMap=a7(),h=a.seriesType,i=a.getTargetSeries;function j(b){var h=b.uid,i=g.set(h,f&&f.get(h)||j5({plan:mQ,reset:mR,count:mU}));i.context={model:b,ecModel:c,api:d,useClearVisual:a.isVisual&&!a.isLayout,plan:a.plan,reset:a.reset,scheduler:e},e._pipe(b,i)}a.createOnAllSeries?c.eachRawSeries(j):h?c.eachRawSeriesByType(h,j):i&&i(c,d).each(j)},a.prototype._createOverallStageTask=function(a,b,c,d){var e=this,f=b.overallTask=b.overallTask||j5({reset:mM});f.context={ecModel:c,api:d,overallReset:a.overallReset,scheduler:e};var g=f.agentStubMap,h=f.agentStubMap=a7(),i=a.seriesType,j=a.getTargetSeries,k=!0,l=!1;function m(a){var b=a.uid,c=h.set(b,g&&g.get(b)||(l=!0,j5({reset:mN,onDirty:mP})));c.context={model:a,overallProgress:k},c.agent=f,c.__block=k,e._pipe(a,c)}a1(!a.createOnAllSeries,""),i?c.eachRawSeriesByType(i,m):j?j(c,d).each(m):(k=!1,aH(c.getSeries(),m)),l&&f.dirty()},a.prototype._pipe=function(a,b){var c=a.uid,d=this._pipelineMap.get(c);d.head||(d.head=b),d.tail&&d.tail.pipe(b),d.tail=b,b.__idxInPipeline=d.count++,b.__pipeline=d},a.wrapStageHandler=function(a,b){return aP(a)&&(a={overallReset:a,seriesType:function(a){E=null;try{a(mV,mW)}catch(a){}return E}(a)}),a.uid=h4("stageHandler"),b&&(a.visualType=b),a},a}();function mM(a){a.overallReset(a.ecModel,a.api,a.payload)}function mN(a){return a.overallProgress&&mO}function mO(){this.agent.dirty(),this.getDownstream().dirty()}function mP(){this.agent&&this.agent.dirty()}function mQ(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function mR(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=eP(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?aI(b,function(a,b){return mT(b)}):mS}var mS=mT(0);function mT(a){return function(b,c){var d=c.data,e=c.resetDefines[a];if(e&&e.dataEach)for(var f=b.start;f<b.end;f++)e.dataEach(d,f);else e&&e.progress&&e.progress(b,d)}}function mU(a){return a.data.count()}var mV={},mW={};function mX(a,b){for(var c in b.prototype)a[c]=bc}mX(mV,jl),mX(mW,jq),mV.eachSeriesByType=mV.eachRawSeriesByType=function(a){E=a},mV.eachComponent=function(a){"series"===a.mainType&&a.subType&&(E=a.subType)};var mY=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],mZ="#B9B8CE",m$="#100C2A",m_=function(){return{axisLine:{lineStyle:{color:mZ}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},m0=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],m1={darkMode:!0,color:m0,backgroundColor:m$,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:mZ}},textStyle:{color:mZ},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:mZ}},dataZoom:{borderColor:"#71708A",textStyle:{color:mZ},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:mZ}},timeline:{lineStyle:{color:mZ},label:{color:mZ},controlStyle:{color:mZ,borderColor:mZ}},calendar:{itemStyle:{color:m$},dayLabel:{color:mZ},monthLabel:{color:mZ},yearLabel:{color:mZ}},timeAxis:m_(),logAxis:m_(),valueAxis:m_(),categoryAxis:m_(),line:{symbol:"circle"},graph:{color:m0},gauge:{title:{color:mZ},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:mZ},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};m1.categoryAxis.splitLine.show=!1;var m2=function(){function a(){}return a.prototype.normalizeQuery=function(a){var b={},c={},d={};if(aQ(a)){var e=e9(a);b.mainType=e.main||null,b.subType=e.sub||null}else{var f=["Index","Name","Id"],g={name:1,dataIndex:1,dataType:1};aH(a,function(a,e){for(var h=!1,i=0;i<f.length;i++){var j=f[i],k=e.lastIndexOf(j);if(k>0&&k===e.length-j.length){var l=e.slice(0,k);"data"!==l&&(b.mainType=l,b[j.toLowerCase()]=a,h=!0)}}g.hasOwnProperty(e)&&(c[e]=a,h=!0),h||(d[e]=a)})}return{cptQuery:b,dataQuery:c,otherQuery:d}},a.prototype.filter=function(a,b){var c=this.eventInfo;if(!c)return!0;var d=c.targetEl,e=c.packedEvent,f=c.model,g=c.view;if(!f||!g)return!0;var h=b.cptQuery,i=b.dataQuery;return j(h,f,"mainType")&&j(h,f,"subType")&&j(h,f,"index","componentIndex")&&j(h,f,"name")&&j(h,f,"id")&&j(i,e,"name")&&j(i,e,"dataIndex")&&j(i,e,"dataType")&&(!g.filterForExposedEvent||g.filterForExposedEvent(a,b.otherQuery,d,e));function j(a,b,c,d){return null==a[c]||b[d||c]===a[c]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}(),m3=["symbol","symbolSize","symbolRotate","symbolOffset"],m4=m3.concat(["symbolKeepAspect"]);function m5(a,b,c){switch(c){case"color":return a.getItemVisual(b,"style")[a.getVisual("drawType")];case"opacity":return a.getItemVisual(b,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(b,c)}}function m6(a,b){switch(b){case"color":return a.getVisual("style")[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(b)}}function m7(a,b,c,d){switch(c){case"color":a.ensureUniqueItemVisual(b,"style")[a.getVisual("drawType")]=d,a.setItemVisual(b,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(b,"style").opacity=d;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(b,c,d)}}function m8(a,b){aH([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(c){b(c[0],function(b,d,e){var f,g;b=aC({},b),e.dispatchAction(aC(b,{type:c[1],seriesIndex:(f=b,g=[],d.eachComponent({mainType:"series",subType:a,query:f},function(a){g.push(a.seriesIndex)}),g)}))})})}function m9(a,b,c,d,e){var f=a+b;c.isSilent(f)||d.eachComponent({mainType:"series",subType:"pie"},function(a){for(var b=a.seriesIndex,d=a.option.selectedMap,g=e.selected,h=0;h<g.length;h++)if(g[h].seriesIndex===b){var i=a.getData(),j=eZ(i,e.fromActionPayload);c.trigger(f,{type:f,seriesId:a.id,name:aO(j)?i.getName(j[0]):i.getName(j),selected:aQ(d)?d:aC({},d)})}})}function na(a,b,c){for(var d;a&&(!b(a)||(d=a,!c));)a=a.__hostTarget||a.parent;return d}var nb=Math.round(9*Math.random()),nc="function"==typeof Object.defineProperty,nd=function(){function a(){this._id="__ec_inner_"+nb++}return a.prototype.get=function(a){return this._guard(a)[this._id]},a.prototype.set=function(a,b){var c=this._guard(a);return nc?Object.defineProperty(c,this._id,{value:b,enumerable:!1,configurable:!0}):c[this._id]=b,this},a.prototype.delete=function(a){return!!this.has(a)&&(delete this._guard(a)[this._id],!0)},a.prototype.has=function(a){return!!this._guard(a)[this._id]},a.prototype._guard=function(a){if(a!==Object(a))throw TypeError("Value of WeakMap is not a non-null object.");return a},a}(),ne=gm.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),nf=gm.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),ng=gm.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j),n=.6*g,o=.7*g;a.moveTo(c-k,i+h),a.arc(c,i,g,Math.PI-j,2*Math.PI+j),a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),nh=gm.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=d/3*2;a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+c/4*3),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),ni={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},nj={};aH({line:lI,rect:gy,roundRect:gy,square:gy,circle:lj,diamond:nf,pin:ng,arrow:nh,triangle:ne},function(a,b){nj[b]=new a});var nk=gm.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,b,c){var d=ed(a,b,c),e=this.shape;return e&&"pin"===e.symbolType&&"inside"===b.position&&(d.y=c.y+.4*c.height),d},buildPath:function(a,b,c){var d=b.symbolType;if("none"!==d){var e=nj[d];e||(e=nj[d="rect"]),ni[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c)}}});function nl(a,b){if("image"!==this.type){var c=this.style;this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff",c.lineWidth=2):"line"===this.shape.symbolType?c.stroke=a:c.fill=a,this.markRedraw()}}function nm(a,b,c,d,e,f,g){var h,i=0===a.indexOf("empty");return i&&(a=a.substr(5,1).toLowerCase()+a.substr(6)),(h=0===a.indexOf("image://")?l7(a.slice(8),new ca(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?l6(a.slice(7),{},new ca(b,c,d,e),g?"center":"cover"):new nk({shape:{symbolType:a,x:b,y:c,width:d,height:e}})).__isEmptyBrush=i,h.setColor=nl,f&&h.setColor(f),h}function nn(a){return aO(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function no(a,b){if(null!=a)return aO(a)||(a=[a,a]),[es(a[0],b[0])||0,es(aZ(a[1],a[0]),b[1])||0]}function np(a){return isFinite(a)}function nq(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n="radial"===b.type?(f=Math.min(d=c.width,e=c.height),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,i=null==b.r?.5:b.r,b.global||(g=g*d+c.x,h=h*e+c.y,i*=f),g=np(g)?g:.5,h=np(h)?h:.5,i=i>=0&&np(i)?i:.5,a.createRadialGradient(g,h,0,g,h,i)):(j=null==b.x?0:b.x,k=null==b.x2?1:b.x2,l=null==b.y?0:b.y,m=null==b.y2?0:b.y2,b.global||(j=j*c.width+c.x,k=k*c.width+c.x,l=l*c.height+c.y,m=m*c.height+c.y),j=np(j)?j:0,k=np(k)?k:1,l=np(l)?l:0,m=np(m)?m:0,a.createLinearGradient(j,l,k,m)),o=b.colorStops,p=0;p<o.length;p++)n.addColorStop(o[p].offset,o[p].color);return n}function nr(a){return parseInt(a,10)}function ns(a,b,c){var d=["width","height"][b],e=["clientWidth","clientHeight"][b],f=["paddingLeft","paddingTop"][b],g=["paddingRight","paddingBottom"][b];if(null!=c[d]&&"auto"!==c[d])return parseFloat(c[d]);var h=document.defaultView.getComputedStyle(a);return(a[e]||nr(h[d])||nr(a.style[d]))-(nr(h[f])||0)-(nr(h[g])||0)|0}function nt(a){var b,c,d=a.style,e=d.lineDash&&d.lineWidth>0&&(b=d.lineDash,c=d.lineWidth,b&&"solid"!==b&&c>0?"dashed"===b?[4*c,2*c]:"dotted"===b?[c]:aS(b)?[b]:aO(b)?b:null:null),f=d.lineDashOffset;if(e){var g=d.strokeNoScale&&a.getLineScale?a.getLineScale():1;g&&1!==g&&(e=aI(e,function(a){return a/g}),f/=g)}return[e,f]}var nu=new f7(!0);function nv(a){var b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0}function nw(a){return"string"==typeof a&&"none"!==a}function nx(a){var b=a.fill;return null!=b&&"none"!==b}function ny(a,b){if(null!=b.fillOpacity&&1!==b.fillOpacity){var c=a.globalAlpha;a.globalAlpha=b.fillOpacity*b.opacity,a.fill(),a.globalAlpha=c}else a.fill()}function nz(a,b){if(null!=b.strokeOpacity&&1!==b.strokeOpacity){var c=a.globalAlpha;a.globalAlpha=b.strokeOpacity*b.opacity,a.stroke(),a.globalAlpha=c}else a.stroke()}function nA(a,b,c){var d=fk(b.image,b.__image,c);if(fm(d)){var e=a.createPattern(d,b.repeat||"repeat");if("function"==typeof DOMMatrix&&e&&e.setTransform){var f=new DOMMatrix;f.translateSelf(b.x||0,b.y||0),f.rotateSelf(0,0,(b.rotation||0)*bd),f.scaleSelf(b.scaleX||1,b.scaleY||1),e.setTransform(f)}return e}}var nB=["shadowBlur","shadowOffsetX","shadowOffsetY"],nC=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function nD(a,b,c,d,e){var f=!1;if(!d&&b===(c=c||{}))return!1;if(d||b.opacity!==c.opacity){nG(a,e),f=!0;var g=Math.max(Math.min(b.opacity,1),0);a.globalAlpha=isNaN(g)?fy.opacity:g}(d||b.blend!==c.blend)&&(f||(nG(a,e),f=!0),a.globalCompositeOperation=b.blend||fy.blend);for(var h=0;h<nB.length;h++){var i=nB[h];(d||b[i]!==c[i])&&(f||(nG(a,e),f=!0),a[i]=a.dpr*(b[i]||0))}return(d||b.shadowColor!==c.shadowColor)&&(f||(nG(a,e),f=!0),a.shadowColor=b.shadowColor||fy.shadowColor),f}function nE(a,b,c,d,e){var f=nH(b,e.inHover),g=d?null:c&&nH(c,e.inHover)||{};if(f===g)return!1;var h=nD(a,f,g,d,e);if((d||f.fill!==g.fill)&&(h||(nG(a,e),h=!0),nw(f.fill)&&(a.fillStyle=f.fill)),(d||f.stroke!==g.stroke)&&(h||(nG(a,e),h=!0),nw(f.stroke)&&(a.strokeStyle=f.stroke)),(d||f.opacity!==g.opacity)&&(h||(nG(a,e),h=!0),a.globalAlpha=null==f.opacity?1:f.opacity),b.hasStroke()){var i=f.lineWidth/(f.strokeNoScale&&b.getLineScale?b.getLineScale():1);a.lineWidth!==i&&(h||(nG(a,e),h=!0),a.lineWidth=i)}for(var j=0;j<nC.length;j++){var k=nC[j],l=k[0];(d||f[l]!==g[l])&&(h||(nG(a,e),h=!0),a[l]=f[l]||k[1])}return h}function nF(a,b){var c=b.transform,d=a.dpr||1;c?a.setTransform(d*c[0],d*c[1],d*c[2],d*c[3],d*c[4],d*c[5]):a.setTransform(d,0,0,d,0,0)}function nG(a,b){b.batchFill&&a.fill(),b.batchStroke&&a.stroke(),b.batchFill="",b.batchStroke=""}function nH(a,b){return b&&a.__hoverStyle||a.style}function nI(a,b){nJ(a,b,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function nJ(a,b,c,d){var e,f=b.transform;if(!b.shouldBePainted(c.viewWidth,c.viewHeight,!1,!1)){b.__dirty&=-2,b.__isRendered=!1;return}var g=b.__clipPaths,h=c.prevElClipPaths,i=!1,j=!1;if(!h||function(a,b){if(a===b||!a&&!b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}(g,h)){if(h&&h.length&&(nG(a,c),a.restore(),j=i=!0,c.prevElClipPaths=null,c.allClipped=!1,c.prevEl=null),g&&g.length){nG(a,c),a.save();for(var k=!1,l=0;l<g.length;l++){var m=g[l];k=k||m.isZeroArea(),nF(a,m),a.beginPath(),m.buildPath(a,m.shape),a.clip()}c.allClipped=k,i=!0}c.prevElClipPaths=g}if(c.allClipped){b.__isRendered=!1;return}b.beforeBrush&&b.beforeBrush(),b.innerBeforeBrush();var n=c.prevEl;n||(j=i=!0);var o=b instanceof gm&&b.autoBatch&&(r=nx(q=b.style),s=nv(q),!(q.lineDash||!(r^s)||r&&"string"!=typeof q.fill||s&&"string"!=typeof q.stroke||q.strokePercent<1||q.strokeOpacity<1||q.fillOpacity<1));!i&&(t=n.transform,f&&t?f[0]===t[0]&&f[1]===t[1]&&f[2]===t[2]&&f[3]===t[3]&&f[4]===t[4]&&f[5]===t[5]:+(!f&&!t))?o||nG(a,c):(nG(a,c),nF(a,b));var p=nH(b,c.inHover);if(b instanceof gm)1!==c.lastDrawType&&(j=!0,c.lastDrawType=1),nE(a,b,n,j,c),o&&(c.batchFill||c.batchStroke)||a.beginPath(),function(a,b,c,d){var e,f,g,h=nv(c),i=nx(c),j=c.strokePercent,k=j<1,l=!b.path;(!b.silent||k)&&l&&b.createPathProxy();var m=b.path||nu,n=b.__dirty;if(!d){var o=c.fill,p=c.stroke,q=i&&!!o.colorStops,r=h&&!!p.colorStops,s=i&&!!o.image,t=h&&!!p.image,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0;(q||r)&&(y=b.getBoundingRect()),q&&(u=n?nq(a,o,y):b.__canvasFillGradient,b.__canvasFillGradient=u),r&&(v=n?nq(a,p,y):b.__canvasStrokeGradient,b.__canvasStrokeGradient=v),s&&(w=n||!b.__canvasFillPattern?nA(a,o,b):b.__canvasFillPattern,b.__canvasFillPattern=w),t&&(x=n||!b.__canvasStrokePattern?nA(a,p,b):b.__canvasStrokePattern,b.__canvasStrokePattern=w),q?a.fillStyle=u:s&&(w?a.fillStyle=w:i=!1),r?a.strokeStyle=v:t&&(x?a.strokeStyle=x:h=!1)}var z=b.getGlobalScale();m.setScale(z[0],z[1],b.segmentIgnoreThreshold),a.setLineDash&&c.lineDash&&(f=(e=nt(b))[0],g=e[1]);var A=!0;(l||4&n)&&(m.setDPR(a.dpr),k?m.setContext(null):(m.setContext(a),A=!1),m.reset(),b.buildPath(m,b.shape,d),m.toStatic(),b.pathUpdated()),A&&m.rebuildPath(a,k?j:1),f&&(a.setLineDash(f),a.lineDashOffset=g),!d&&(c.strokeFirst?(h&&nz(a,c),i&&ny(a,c)):(i&&ny(a,c),h&&nz(a,c))),f&&a.setLineDash([])}(a,b,p,o),o&&(c.batchFill=p.fill||"",c.batchStroke=p.stroke||"");else if(b instanceof go){3!==c.lastDrawType&&(j=!0,c.lastDrawType=3),nE(a,b,n,j,c);var q,r,s,t,u,v=p.text;if(null!=v&&(v+=""),v){a.font=p.font||aj,a.textAlign=p.textAlign,a.textBaseline=p.textBaseline;var w=void 0,x=void 0;a.setLineDash&&p.lineDash&&(w=(u=nt(b))[0],x=u[1]),w&&(a.setLineDash(w),a.lineDashOffset=x),p.strokeFirst?(nv(p)&&a.strokeText(v,p.x,p.y),nx(p)&&a.fillText(v,p.x,p.y)):(nx(p)&&a.fillText(v,p.x,p.y),nv(p)&&a.strokeText(v,p.x,p.y)),w&&a.setLineDash([])}}else b instanceof gr?(2!==c.lastDrawType&&(j=!0,c.lastDrawType=2),e=j,nD(a,nH(b,c.inHover),n&&nH(n,c.inHover),e,c),function(a,b,c){var d=b.__image=fk(c.image,b.__image,b,b.onload);if(d&&fm(d)){var e=c.x||0,f=c.y||0,g=b.getWidth(),h=b.getHeight(),i=d.width/d.height;if(null==g&&null!=h?g=h*i:null==h&&null!=g?h=g/i:null==g&&null==h&&(g=d.width,h=d.height),c.sWidth&&c.sHeight){var j=c.sx||0,k=c.sy||0;a.drawImage(d,j,k,c.sWidth,c.sHeight,e,f,g,h)}else if(c.sx&&c.sy){var j=c.sx,k=c.sy,l=g-j,m=h-k;a.drawImage(d,j,k,l,m,e,f,g,h)}else a.drawImage(d,e,f,g,h)}}(a,b,p)):b.getTemporalDisplayables&&(4!==c.lastDrawType&&(j=!0,c.lastDrawType=4),function(a,b,c){var d,e,f=b.getDisplayables(),g=b.getTemporalDisplayables();a.save();var h={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:c.viewWidth,viewHeight:c.viewHeight,inHover:c.inHover};for(d=b.getCursor(),e=f.length;d<e;d++){var i=f[d];i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush(),nJ(a,i,h,d===e-1),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),h.prevEl=i}for(var j=0,k=g.length;j<k;j++){var i=g[j];i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush(),nJ(a,i,h,j===k-1),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),h.prevEl=i}b.clearTemporalDisplayables(),b.notClear=!0,a.restore()}(a,b,c));o&&d&&nG(a,c),b.innerAfterBrush(),b.afterBrush&&b.afterBrush(),c.prevEl=b,b.__dirty=0,b.__isRendered=!0}var nK=new nd,nL=new cT(100),nM=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function nN(a,b){if("none"===a)return null;var c=b.getDevicePixelRatio(),d=b.getZr(),e="svg"===d.painter.type;a.dirty&&nK.delete(a);var f=nK.get(a);if(f)return f;var g=aD(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===g.backgroundColor&&(g.backgroundColor=null);var h={repeat:"repeat"};return function(a){for(var b,f,h=[c],i=!0,j=0;j<nM.length;++j){var k=g[nM[j]];if(null!=k&&!aO(k)&&!aQ(k)&&!aS(k)&&"boolean"!=typeof k){i=!1;break}h.push(k)}if(i){b=h.join(",")+(e?"-svg":"");var l=nL.get(b);l&&(e?a.svgElement=l:a.image=l)}var m=function a(b){if(!b||0===b.length)return[[0,0]];if(aS(b)){var c=Math.ceil(b);return[[c,c]]}for(var d=!0,e=0;e<b.length;++e)if(!aS(b[e])){d=!1;break}if(d)return a([b]);for(var f=[],e=0;e<b.length;++e)if(aS(b[e])){var c=Math.ceil(b[e]);f.push([c,c])}else{var c=aI(b[e],function(a){return Math.ceil(a)});c.length%2==1?f.push(c.concat(c)):f.push(c)}return f}(g.dashArrayX),n=function(a){if(!a||"object"==typeof a&&0===a.length)return[0,0];if(aS(a)){var b=Math.ceil(a);return[b,b]}var c=aI(a,function(a){return Math.ceil(a)});return a.length%2?c.concat(c):c}(g.dashArrayY),o=function a(b){if(!b||0===b.length)return[["rect"]];if(aQ(b))return[[b]];for(var c=!0,d=0;d<b.length;++d)if(!aQ(b[d])){c=!1;break}if(c)return a([b]);for(var e=[],d=0;d<b.length;++d)aQ(b[d])?e.push([b[d]]):e.push(b[d]);return e}(g.symbol),p=aI(m,function(a){return nO(a)}),q=nO(n),r=!e&&al.createCanvas(),s=e&&{tag:"g",attrs:{},key:"dcl",children:[]},t=function(){for(var a=1,b=0,c=p.length;b<c;++b)a=eM(a,p[b]);for(var d=1,b=0,c=o.length;b<c;++b)d=eM(d,o[b].length);a*=d;var e=q*p.length*o.length;return{width:Math.max(1,Math.min(a,g.maxTileWidth)),height:Math.max(1,Math.min(e,g.maxTileHeight))}}();r&&(r.width=t.width*c,r.height=t.height*c,f=r.getContext("2d")),function(){f&&(f.clearRect(0,0,r.width,r.height),g.backgroundColor&&(f.fillStyle=g.backgroundColor,f.fillRect(0,0,r.width,r.height)));for(var a=0,b=0;b<n.length;++b)a+=n[b];if(!(a<=0))for(var h=-q,i=0,j=0,k=0;h<t.height;){if(i%2==0){for(var l=j/2%o.length,p=0,u=0,v=0;p<2*t.width;){for(var w=0,b=0;b<m[k].length;++b)w+=m[k][b];if(w<=0)break;if(u%2==0){var x=(1-g.symbolSize)*.5,y=p+m[k][u]*x,z=h+n[i]*x,A=m[k][u]*g.symbolSize,B=n[i]*g.symbolSize,C=v/2%o[l].length;!function(a,b,h,i,j){var k=e?1:c,l=nm(j,a*k,b*k,h*k,i*k,g.color,g.symbolKeepAspect);if(e){var m=d.painter.renderOneToVNode(l);m&&s.children.push(m)}else nI(f,l)}(y,z,A,B,o[l][C])}p+=m[k][u],++v,++u===m[k].length&&(u=0)}++k===m.length&&(k=0)}h+=n[i],++j,++i===n.length&&(i=0)}}(),i&&nL.put(b,r||s),a.image=r,a.svgElement=s,a.svgWidth=t.width,a.svgHeight=t.height}(h),h.rotation=g.rotation,h.scaleX=h.scaleY=e?1:1/c,nK.set(a,h),a.dirty=!1,h}function nO(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];return a.length%2==1?2*b:b}var nP=new bx,nQ={},nR="__flagInMainProcess",nS="__pendingUpdate",nT="__needsUpdateStatus",nU=/^[a-zA-Z0-9_]+$/;function nV(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return this.isDisposed()?void n0(this.id):nX(this,a,b)}}function nW(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return nX(this,a,b)}}function nX(a,b,c){return c[0]=c[0]&&c[0].toLowerCase(),bx.prototype[b].apply(a,c)}var nY=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b}(bx),nZ=nY.prototype;nZ.on=nW("on"),nZ.off=nW("off");var n$=function(a){function b(b,c,d){var e=a.call(this,new m2)||this;e._chartsViews=[],e._chartsMap={},e._componentsViews=[],e._componentsMap={},e._pendingActions=[],d=d||{},aQ(c)&&(c=n6[c]),e._dom=b,d.ssr&&(u=function(a){var b=gO(a),c=b.dataIndex;if(null!=c){var d=a7();return d.set("series_index",b.seriesIndex),d.set("data_index",c),b.ssrType&&d.set("ssr_type",b.ssrType),d}});var f=e._zr=eq(b,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height,ssr:d.ssr,useDirtyRect:aZ(d.useDirtyRect,!1),useCoarsePointer:aZ(d.useCoarsePointer,"auto"),pointerSize:d.pointerSize});e._ssr=d.ssr,e._throttledZrFlush=mB(aM(f.flush,f),17),(c=az(c))&&jL(c,!0),e._theme=c,e._locale=function(a){if(!aQ(a))return aA(az(a),az(h6.EN),!1);var b=h6[a.toUpperCase()]||{};return"ZH"===a||"EN"===a?az(b):aA(az(b),az(h6.EN),!1)}(d.locale||h8),e._coordSysMgr=new js;var g=e._api=T(e);function h(a,b){return a.__prio-b.__prio}return co(n5,h),co(n3,h),e._scheduler=new mL(e,g,n3,n5),e._messageCenter=new nY,e._initEvents(),e.resize=aM(e.resize,e),f.animation.on("frame",e._onframe,e),O(f,e),P(f,e),e[a3]=!0,e}return af(b,a),b.prototype._onframe=function(){if(!this._disposed){V(this);var a=this._scheduler;if(this[nS]){var b=this[nS].silent;this[nR]=!0;try{F(this),I.update.call(this,null,this[nS].updateParams)}catch(a){throw this[nR]=!1,this[nS]=null,a}this._zr.flush(),this[nR]=!1,this[nS]=null,M.call(this,b),N.call(this,b)}else if(a.unfinished){var c=1,d=this._model,e=this._api;a.unfinished=!1;do{var f=+new Date;a.performSeriesTasks(d),a.performDataProcessorTasks(d),K(this,d),a.performVisualTasks(d),S(this,this._model,e,"remain",{}),c-=new Date-f}while(c>0&&a.unfinished)a.unfinished||this._zr.flush()}}},b.prototype.getDom=function(){return this._dom},b.prototype.getId=function(){return this.id},b.prototype.getZr=function(){return this._zr},b.prototype.isSSR=function(){return this._ssr},b.prototype.setOption=function(a,b,c){if(!this[nR]){if(this._disposed)return void n0(this.id);if(aT(b)&&(c=b.lazyUpdate,d=b.silent,e=b.replaceMerge,f=b.transition,b=b.notMerge),this[nR]=!0,!this._model||b){var d,e,f,g=new ju(this._api),h=this._theme,i=this._model=new jl;i.scheduler=this._scheduler,i.ssr=this._ssr,i.init(null,null,null,h,this._locale,g)}this._model.setOption(a,{replaceMerge:e},n4);var j={seriesTransition:f,optionChanged:!0};if(c)this[nS]={silent:d,updateParams:j},this[nR]=!1,this.getZr().wakeUp();else{try{F(this),I.update.call(this,null,j)}catch(a){throw this[nS]=null,this[nR]=!1,a}this._ssr||this._zr.flush(),this[nS]=null,this[nR]=!1,M.call(this,d),N.call(this,d)}}},b.prototype.setTheme=function(){ji("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},b.prototype.getModel=function(){return this._model},b.prototype.getOption=function(){return this._model&&this._model.getOption()},b.prototype.getWidth=function(){return this._zr.getWidth()},b.prototype.getHeight=function(){return this._zr.getHeight()},b.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ah.hasGlobalWindow&&window.devicePixelRatio||1},b.prototype.getRenderedCanvas=function(a){return this.renderToCanvas(a)},b.prototype.renderToCanvas=function(a){return a=a||{},this._zr.painter.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},b.prototype.renderToSVGString=function(a){return a=a||{},this._zr.painter.renderToString({useViewBox:a.useViewBox})},b.prototype.getSvgDataURL=function(){if(ah.svgSupported){var a=this._zr;return aH(a.storage.getDisplayList(),function(a){a.stopAnimation(null,!0)}),a.painter.toDataURL()}},b.prototype.getDataURL=function(a){if(this._disposed)return void n0(this.id);var b=(a=a||{}).excludeComponents,c=this._model,d=[],e=this;aH(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});var f="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return aH(d,function(a){a.group.ignore=!1}),f},b.prototype.getConnectedDataURL=function(a){if(this._disposed)return void n0(this.id);var b="svg"===a.type,c=this.group,d=Math.min,e=Math.max,f=1/0;if(!n9[c])return this.getDataURL(a);var g=f,h=f,i=-f,j=-f,k=[],l=a&&a.pixelRatio||this.getDevicePixelRatio();aH(n8,function(f,l){if(f.group===c){var m=b?f.getZr().painter.getSvgDom().innerHTML:f.renderToCanvas(az(a)),n=f.getDom().getBoundingClientRect();g=d(n.left,g),h=d(n.top,h),i=e(n.right,i),j=e(n.bottom,j),k.push({dom:m,left:n.left,top:n.top})}}),g*=l,h*=l,i*=l,j*=l;var m=i-g,n=j-h,o=al.createCanvas(),p=eq(o,{renderer:b?"svg":"canvas"});if(p.resize({width:m,height:n}),!b)return a.connectedBackgroundColor&&p.add(new gy({shape:{x:0,y:0,width:m,height:n},style:{fill:a.connectedBackgroundColor}})),aH(k,function(a){var b=new gr({style:{x:a.left*l-g,y:a.top*l-h,image:a.dom}});p.add(b)}),p.refreshImmediately(),o.toDataURL("image/"+(a&&a.type||"png"));var q="";return aH(k,function(a){var b=a.left-g,c=a.top-h;q+='<g transform="translate('+b+","+c+')">'+a.dom+"</g>"}),p.painter.getSvgRoot().innerHTML=q,a.connectedBackgroundColor&&p.painter.setBackgroundColor(a.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()},b.prototype.convertToPixel=function(a,b){return J(this,"convertToPixel",a,b)},b.prototype.convertFromPixel=function(a,b){return J(this,"convertFromPixel",a,b)},b.prototype.containPixel=function(a,b){var c;return this._disposed?void n0(this.id):(aH(e0(this._model,a),function(a,d){d.indexOf("Models")>=0&&aH(a,function(a){var e=a.coordinateSystem;if(e&&e.containPoint)c=c||!!e.containPoint(b);else if("seriesModels"===d){var f=this._chartsMap[a.__viewId];f&&f.containPoint&&(c=c||f.containPoint(b,a))}},this)},this),!!c)},b.prototype.getVisual=function(a,b){var c=e0(this._model,a,{defaultMainType:"series"}),d=c.seriesModel.getData(),e=c.hasOwnProperty("dataIndexInside")?c.dataIndexInside:c.hasOwnProperty("dataIndex")?d.indexOfRawIndex(c.dataIndex):null;return null!=e?m5(d,e,b):m6(d,b)},b.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},b.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},b.prototype._initEvents=function(){var a,b,c,d=this;aH(n_,function(a){var b=function(b){var c,e=d.getModel(),f=b.target;if("globalout"===a?c={}:f&&na(f,function(a){var b=gO(a);if(b&&null!=b.dataIndex){var d=b.dataModel||e.getSeriesByIndex(b.seriesIndex);return c=d&&d.getDataParams(b.dataIndex,b.dataType,f)||{},!0}if(b.eventData)return c=aC({},b.eventData),!0},!0),c){var g=c.componentType,h=c.componentIndex;("markLine"===g||"markPoint"===g||"markArea"===g)&&(g="series",h=c.seriesIndex);var i=g&&null!=h&&e.getComponent(g,h),j=i&&d["series"===i.mainType?"_chartsMap":"_componentsMap"][i.__viewId];c.event=b,c.type=a,d._$eventProcessor.eventInfo={targetEl:f,packedEvent:c,model:i,view:j},d.trigger(a,c)}};b.zrEventfulCallAtLast=!0,d._zr.on(a,b,d)}),aH(n2,function(a,b){d._messageCenter.on(b,function(a){this.trigger(b,a)},d)}),aH(["selectchanged"],function(a){d._messageCenter.on(a,function(b){this.trigger(a,b)},d)}),a=this._messageCenter,b=this,c=this._api,a.on("selectchanged",function(a){var d=c.getModel();a.isFromClick?(m9("map","selectchanged",b,d,a),m9("pie","selectchanged",b,d,a)):"select"===a.fromAction?(m9("map","selected",b,d,a),m9("pie","selected",b,d,a)):"unselect"===a.fromAction&&(m9("map","unselected",b,d,a),m9("pie","unselected",b,d,a))})},b.prototype.isDisposed=function(){return this._disposed},b.prototype.clear=function(){this._disposed?n0(this.id):this.setOption({series:[]},!0)},b.prototype.dispose=function(){if(this._disposed)return void n0(this.id);this._disposed=!0,this.getDom()&&(a=this.getDom(),a.setAttribute?a.setAttribute(oa,""):a[oa]="");var a,b=this._api,c=this._model;aH(this._componentsViews,function(a){a.dispose(c,b)}),aH(this._chartsViews,function(a){a.dispose(c,b)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete n8[this.id]},b.prototype.resize=function(a){if(!this[nR]){if(this._disposed)return void n0(this.id);this._zr.resize(a);var b=this._model;if(this._loadingFX&&this._loadingFX.resize(),b){var c=b.resetOption("media"),d=a&&a.silent;this[nS]&&(null==d&&(d=this[nS].silent),c=!0,this[nS]=null),this[nR]=!0;try{c&&F(this),I.update.call(this,{type:"resize",animation:aC({duration:0},a&&a.animation)})}catch(a){throw this[nR]=!1,a}this[nR]=!1,M.call(this,d),N.call(this,d)}}},b.prototype.showLoading=function(a,b){if(this._disposed)return void n0(this.id);if(aT(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),n7[a]){var c=n7[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},b.prototype.hideLoading=function(){this._disposed?n0(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},b.prototype.makeActionFromEvent=function(a){var b=aC({},a);return b.type=n2[a.type],b},b.prototype.dispatchAction=function(a,b){if(this._disposed)return void n0(this.id);if((aT(b)||(b={silent:!!b}),n1[a.type])&&this._model){if(this[nR])return void this._pendingActions.push(a);var c=b.silent;L.call(this,a,c);var d=b.flush;d?this._zr.flush():!1!==d&&ah.browser.weChat&&this._throttledZrFlush(),M.call(this,c),N.call(this,c)}},b.prototype.updateLabelLayout=function(){nP.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},b.prototype.appendData=function(a){if(this._disposed)return void n0(this.id);var b=a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},b.internalField=function(){function a(a){a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()})}function b(a){for(var b=[],c=a.currentStates,d=0;d<c.length;d++){var e=c[d];"emphasis"!==e&&"blur"!==e&&"select"!==e&&b.push(e)}a.selected&&a.states.select&&b.push("select"),2===a.hoverState&&a.states.emphasis?b.push("emphasis"):1===a.hoverState&&a.states.blur&&b.push("blur"),a.useStates(b)}function c(a,b){if(!a.preventAutoZ){var c=a.get("z")||0,d=a.get("zlevel")||0;b.eachRendered(function(a){return function a(b,c,d,e){var f=b.getTextContent(),g=b.getTextGuideLine();if(b.isGroup)for(var h=b.childrenRef(),i=0;i<h.length;i++)e=Math.max(a(h[i],c,d,e),e);else b.z=c,b.zlevel=d,e=Math.max(b.z2,e);if(f&&(f.z=c,f.zlevel=d,isFinite(e)&&(f.z2=e+2)),g){var j=b.textGuideLineConfig;g.z=c,g.zlevel=d,isFinite(e)&&(g.z2=e+(j&&j.showAbove?1:-1))}return e}(a,c,d,-1/0),!0})}}function d(a,b){b.eachRendered(function(a){if(!hA(a)){var b=a.getTextContent(),c=a.getTextGuideLine();a.stateTransition&&(a.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),a.hasState()?(a.prevStates=a.currentStates,a.clearStates()):a.prevStates&&(a.prevStates=null)}})}function e(a,c){var d=a.getModel("stateAnimation"),e=a.isAnimationEnabled(),f=d.get("duration"),g=f>0?{duration:f,delay:d.get("delay"),easing:d.get("easing")}:null;c.eachRendered(function(a){if(a.states&&a.states.emphasis&&!hA(a)){if(a instanceof gm&&((c=gS(a)).normalFill=a.style.fill,c.normalStroke=a.style.stroke,c.selectFill=(d=a.states.select||{}).style&&d.style.fill||null,c.selectStroke=d.style&&d.style.stroke||null),a.__dirty){var c,d,f=a.prevStates;f&&a.useStates(f)}if(e){a.stateTransition=g;var h=a.getTextContent(),i=a.getTextGuideLine();h&&(h.stateTransition=g),i&&(i.stateTransition=g)}a.__dirty&&b(a)}})}F=function(a){var b=a._scheduler;b.restorePipelines(a._model),b.prepareStageTasks(),G(a,!0),G(a,!1),b.plan()},G=function(a,b){for(var c=a._model,d=a._scheduler,e=b?a._componentsViews:a._chartsViews,f=b?a._componentsMap:a._chartsMap,g=a._zr,h=a._api,i=0;i<e.length;i++)e[i].__alive=!1;function j(a){var i=a.__requireNewView;a.__requireNewView=!1;var j="_ec_"+a.id+"_"+a.type,k=!i&&f[j];if(!k){var l=e9(a.type);(k=new(b?kZ.getClass(l.main,l.sub):ms.getClass(l.sub))).init(c,h),f[j]=k,e.push(k),g.add(k.group)}a.__viewId=k.__id=j,k.__alive=!0,k.__model=a,k.group.__ecComponentInfo={mainType:a.mainType,index:a.componentIndex},b||d.prepareView(k,a,c,h)}b?c.eachComponent(function(a,b){"series"!==a&&j(b)}):c.eachSeries(j);for(var i=0;i<e.length;){var k=e[i];k.__alive?i++:(b||k.renderTask.dispose(),g.remove(k.group),k.dispose(c,h),e.splice(i,1),f[k.__id]===k&&delete f[k.__id],k.__id=k.group.__ecComponentInfo=null)}},H=function(a,b,c,d,e){var f,g=a._model;if(g.setUpdatePayload(c),!d)return void aH([].concat(a._componentsViews).concat(a._chartsViews),k);var h={};h[d+"Id"]=c[d+"Id"],h[d+"Index"]=c[d+"Index"],h[d+"Name"]=c[d+"Name"];var i={mainType:d,query:h};e&&(i.subType=e);var j=c.excludeSeriesId;function k(d){d&&d.__alive&&d[b]&&d[b](d.__model,g,a._api,c)}null!=j&&(f=a7(),aH(eP(j),function(a){var b=eW(a,null);null!=b&&f.set(b,!0)})),g&&g.eachComponent(i,function(b){if(!(f&&null!=f.get(b.id))){if(hu(c))if(b instanceof kR)c.type!==gW||c.notBlur||b.get(["emphasis","disabled"])||function(a,b,c){var d=a.seriesIndex,e=a.getData(b.dataType);if(e){var f=eZ(e,b);f=(aO(f)?f[0]:f)||0;var g=e.getItemGraphicEl(f);if(!g)for(var h=e.count(),i=0;!g&&i<h;)g=e.getItemGraphicEl(i++);if(g){var j=gO(g);hh(d,j.focus,j.blurScope,c)}else{var k=a.get(["emphasis","focus"]),l=a.get(["emphasis","blurScope"]);null!=k&&hh(d,k,l,c)}}}(b,c,a._api);else{var d=hj(b.mainType,b.componentIndex,c.name,a._api),e=d.focusSelf,g=d.dispatchers;c.type===gW&&e&&!c.notBlur&&hi(b.mainType,b.componentIndex,a._api),g&&aH(g,function(a){c.type===gW?hd(a):he(a)})}else if(ht(c)&&b instanceof kR){if(a._api,ht(c)){var h=c.dataType,i=eZ(b.getData(h),c);aO(i)||(i=[i]),b[c.type===g$?"toggleSelect":c.type===gY?"select":"unselect"](i,h)}hk(b),U(a)}}},a),g&&g.eachComponent(i,function(b){f&&null!=f.get(b.id)||k(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)},I={prepareAndUpdate:function(a){F(this),I.update.call(this,a,{optionChanged:null!=a.newOption})},update:function(b,c){var d=this._model,e=this._api,f=this._zr,g=this._coordSysMgr,h=this._scheduler;if(d){d.setUpdatePayload(b),h.restoreData(d,b),h.performSeriesTasks(d),g.create(d,e),h.performDataProcessorTasks(d,b),K(this,d),g.update(d,e),a(d),h.performVisualTasks(d,b),Q(this,d,e,b,c);var i=d.get("backgroundColor")||"transparent",j=d.get("darkMode");f.setBackgroundColor(i),null!=j&&"auto"!==j&&f.setDarkMode(j),nP.trigger("afterupdate",d,e)}},updateTransform:function(b){var c=this,d=this._model,e=this._api;if(d){d.setUpdatePayload(b);var f=[];d.eachComponent(function(a,g){if("series"!==a){var h=c.getViewOfComponentModel(g);if(h&&h.__alive)if(h.updateTransform){var i=h.updateTransform(g,d,e,b);i&&i.update&&f.push(h)}else f.push(h)}});var g=a7();d.eachSeries(function(a){var f=c._chartsMap[a.__viewId];if(f.updateTransform){var h=f.updateTransform(a,d,e,b);h&&h.update&&g.set(a.uid,1)}else g.set(a.uid,1)}),a(d),this._scheduler.performVisualTasks(d,b,{setDirty:!0,dirtyMap:g}),S(this,d,e,b,{},g),nP.trigger("afterupdate",d,e)}},updateView:function(b){var c=this._model;c&&(c.setUpdatePayload(b),ms.markUpdateMethod(b,"updateView"),a(c),this._scheduler.performVisualTasks(c,b,{setDirty:!0}),Q(this,c,this._api,b,{}),nP.trigger("afterupdate",c,this._api))},updateVisual:function(b){var c=this,d=this._model;d&&(d.setUpdatePayload(b),d.eachSeries(function(a){a.getData().clearAllVisual()}),ms.markUpdateMethod(b,"updateVisual"),a(d),this._scheduler.performVisualTasks(d,b,{visualType:"visual",setDirty:!0}),d.eachComponent(function(a,e){if("series"!==a){var f=c.getViewOfComponentModel(e);f&&f.__alive&&f.updateVisual(e,d,c._api,b)}}),d.eachSeries(function(a){c._chartsMap[a.__viewId].updateVisual(a,d,c._api,b)}),nP.trigger("afterupdate",d,this._api))},updateLayout:function(a){I.update.call(this,a)}},J=function(a,b,c,d){if(a._disposed)return void n0(a.id);for(var e,f=a._model,g=a._coordSysMgr.getCoordinateSystems(),h=e0(f,c),i=0;i<g.length;i++){var j=g[i];if(j[b]&&null!=(e=j[b](f,h,d)))return e}},K=function(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(a){d.updateStreamModes(a,c[a.__viewId])})},L=function(a,b){var c,d=this,e=this.getModel(),f=a.type,g=a.escapeConnect,h=n1[f],i=h.actionInfo,j=(i.update||"update").split(":"),k=j.pop(),l=null!=j[0]&&e9(j[0]);this[nR]=!0;var m=[a],n=!1;a.batch&&(n=!0,m=aI(a.batch,function(b){return(b=aD(aC({},b),a)).batch=null,b}));var o=[],p=ht(a),q=hu(a);if(q&&hg(this._api),aH(m,function(b){if((c=(c=h.action(b,d._model,d._api))||aC({},b)).type=i.event||c.type,o.push(c),q){var e=e1(a),f=e.queryOptionMap;H(d,k,b,e.mainTypeSpecified?f.keys()[0]:"series"),U(d)}else p?(H(d,k,b,"series"),U(d)):l&&H(d,k,b,l.main,l.sub)}),"none"!==k&&!q&&!p&&!l)try{this[nS]?(F(this),I.update.call(this,a),this[nS]=null):I[k].call(this,a)}catch(a){throw this[nR]=!1,a}if(c=n?{type:i.event||f,escapeConnect:g,batch:o}:o[0],this[nR]=!1,!b){var r=this._messageCenter;if(r.trigger(c.type,c),p){var s,t={type:"selectchanged",escapeConnect:g,selected:(s=[],e.eachSeries(function(a){aH(a.getAllData(),function(b){b.data;var c=b.type,d=a.getSelectedDataIndices();if(d.length>0){var e={dataIndex:d,seriesIndex:a.seriesIndex};null!=c&&(e.dataType=c),s.push(e)}})}),s),isFromClick:a.isFromClick||!1,fromAction:a.type,fromActionPayload:a};r.trigger(t.type,t)}}},M=function(a){for(var b=this._pendingActions;b.length;){var c=b.shift();L.call(this,c,a)}},N=function(a){a||this.trigger("updated")},O=function(a,b){a.on("rendered",function(c){b.trigger("rendered",c),!a.animation.isFinished()||b[nS]||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})},P=function(a,b){a.on("mouseover",function(a){var c,d,e,f,g,h=na(a.target,hs);h&&(c=b._api,f=(e=hj((d=gO(h)).componentMainType,d.componentIndex,d.componentHighDownName,c)).dispatchers,g=e.focusSelf,f?(g&&hi(d.componentMainType,d.componentIndex,c),aH(f,function(b){return hb(b,a)})):(hh(d.seriesIndex,d.focus,d.blurScope,c),"self"===d.focus&&hi(d.componentMainType,d.componentIndex,c),hb(h,a)),U(b))}).on("mouseout",function(a){var c,d,e,f=na(a.target,hs);f&&(hg(c=b._api),(e=hj((d=gO(f)).componentMainType,d.componentIndex,d.componentHighDownName,c).dispatchers)?aH(e,function(b){return hc(b,a)}):hc(f,a),U(b))}).on("click",function(a){var c=na(a.target,function(a){return null!=gO(a).dataIndex},!0);if(c){var d=c.selected?"unselect":"select",e=gO(c);b._api.dispatchAction({type:d,dataType:e.dataType,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex,isFromClick:!0})}})},Q=function(a,b,c,d,e){!function(a){var b=[],c=[],d=!1;if(a.eachComponent(function(a,e){var f=e.get("zlevel")||0,g=e.get("z")||0,h=e.getZLevelKey();d=d||!!h,("series"===a?c:b).push({zlevel:f,z:g,idx:e.componentIndex,type:a,key:h})}),d){var e,f,g=b.concat(c);co(g,function(a,b){return a.zlevel===b.zlevel?a.z-b.z:a.zlevel-b.zlevel}),aH(g,function(b){var c=a.getComponent(b.type,b.idx),d=b.zlevel,g=b.key;null!=e&&(d=Math.max(e,d)),g?(d===e&&g!==f&&d++,f=g):f&&(d===e&&d++,f=""),e=d,c.setZLevel(d)})}}(b),R(a,b,c,d,e),aH(a._chartsViews,function(a){a.__alive=!1}),S(a,b,c,d,e),aH(a._chartsViews,function(a){a.__alive||a.remove(b,c)})},R=function(a,b,f,g,h,i){aH(i||a._componentsViews,function(a){var h=a.__model;d(h,a),a.render(h,b,f,g),c(h,a),e(h,a)})},S=function(a,b,f,g,h,i){var j,k,l,m,n=a._scheduler;h=aC(h||{},{updatedSeries:b.getSeries()}),nP.trigger("series:beforeupdate",b,f,h);var o=!1;b.eachSeries(function(b){var c,e,f,h=a._chartsMap[b.__viewId];h.__alive=!0;var j=h.renderTask;n.updatePayload(j,g),d(b,h),i&&i.get(b.uid)&&j.dirty(),j.perform(n.getPerformArgs(j))&&(o=!0),h.group.silent=!!b.get("silent"),c=b,e=h,f=c.get("blendMode")||null,e.eachRendered(function(a){a.isGroup||(a.style.blend=f)}),hk(b)}),n.unfinished=o||n.unfinished,nP.trigger("series:layoutlabels",b,f,h),nP.trigger("series:transition",b,f,h),b.eachSeries(function(b){var d=a._chartsMap[b.__viewId];c(b,d),e(b,d)}),j=a,k=b,l=j._zr.storage,m=0,l.traverse(function(a){!a.isGroup&&m++}),!(m>k.get("hoverLayerThreshold"))||ah.node||ah.worker||k.eachSeries(function(a){if(!a.preventUsingHoverLayer){var b=j._chartsMap[a.__viewId];b.__alive&&b.eachRendered(function(a){a.states.emphasis&&(a.states.emphasis.hoverLayer=!0)})}}),nP.trigger("series:afterupdate",b,f,h)},U=function(a){a[nT]=!0,a.getZr().wakeUp()},V=function(a){a[nT]&&(a.getZr().storage.traverse(function(a){hA(a)||b(a)}),a[nT]=!1)},T=function(a){return new(function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return af(c,b),c.prototype.getCoordinateSystems=function(){return a._coordSysMgr.getCoordinateSystems()},c.prototype.getComponentByElement=function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}},c.prototype.enterEmphasis=function(b,c){hd(b,c),U(a)},c.prototype.leaveEmphasis=function(b,c){he(b,c),U(a)},c.prototype.enterBlur=function(b){g7(b,g3),U(a)},c.prototype.leaveBlur=function(b){g7(b,g4),U(a)},c.prototype.enterSelect=function(b){g7(b,g5),U(a)},c.prototype.leaveSelect=function(b){g7(b,g6),U(a)},c.prototype.getModel=function(){return a.getModel()},c.prototype.getViewOfComponentModel=function(b){return a.getViewOfComponentModel(b)},c.prototype.getViewOfSeriesModel=function(b){return a.getViewOfSeriesModel(b)},c}(jq))(a)}}(),b}(bx).prototype;n$.on=nV("on"),n$.off=nV("off"),n$.one=function(a,b,c){var d=this;ji("ECharts#one is deprecated."),this.on.call(this,a,function c(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];b&&b.apply&&b.apply(this,e),d.off(a,c)},c)};var n_=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function n0(a){}var n1={},n2={},n3=[],n4=[],n5=[],n6={},n7={},n8={},n9={},oa="_echarts_instance_";function ob(a){0>aE(n4,a)&&n4.push(a)}function oc(a,b){oh(n3,a,b,2e3)}function od(a,b){nP.on(a,b)}function oe(a,b,c){aP(b)&&(c=b,b="");var d=aT(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase(),n2[b=a.event]||(a1(nU.test(d)&&nU.test(b)),n1[d]||(n1[d]={action:c,actionInfo:a}),n2[b]=d)}function of(a,b){oh(n5,a,b,3e3,"visual")}var og=[];function oh(a,b,c,d,e){if((aP(b)||aT(b))&&(c=b,b=d),!(aE(og,c)>=0)){og.push(c);var f=mL.wrapStageHandler(c,e);f.__prio=b,f.__raw=c,a.push(f)}}of(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData(),d=a.visualStyleAccessPath||"itemStyle",e=a.getModel(d),f=mH(a,d)(e),g=e.getShallow("decal");g&&(c.setVisual("decal",g),g.dirty=!0);var h=mI(a,d),i=f[h],j=aP(i)?i:null,k="auto"===f.fill||"auto"===f.stroke;if(!f[h]||j||k){var l=a.getColorFromPalette(a.name,null,b.getSeriesCount());f[h]||(f[h]=l,c.setVisual("colorFromPalette",!0)),f.fill="auto"===f.fill||aP(f.fill)?l:f.fill,f.stroke="auto"===f.stroke||aP(f.stroke)?l:f.stroke}if(c.setVisual("style",f),c.setVisual("drawType",h),!b.isSeriesFiltered(a)&&j)return c.setVisual("colorFromPalette",!1),{dataEach:function(b,c){var d=a.getDataParams(c),e=aC({},f);e[h]=j(d),b.setItemVisual(c,"style",e)}}}}),of(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){if(!(a.ignoreStyleOnData||b.isSeriesFiltered(a))){var c=a.getData(),d=a.visualStyleAccessPath||"itemStyle",e=mH(a,d),f=c.getVisual("drawType");return{dataEach:c.hasItemOption?function(a,b){var c=a.getRawDataItem(b);if(c&&c[d]){mJ.option=c[d];var g=e(mJ);aC(a.ensureUniqueItemVisual(b,"style"),g),mJ.option.decal&&(a.setItemVisual(b,"decal",mJ.option.decal),mJ.option.decal.dirty=!0),f in g&&a.setItemVisual(b,"colorFromPalette",!1)}}:null}}}}),of(4500,{performRawSeries:!0,overallReset:function(a){var b=a7();a.eachSeries(function(a){var c=a.getColorBy();if(!a.isColorBySeries()){var d=a.type+"-"+c,e=b.get(d);e||(e={},b.set(d,e)),mE(a).scope=e}}),a.eachSeries(function(b){if(!(b.isColorBySeries()||a.isSeriesFiltered(b))){var c=b.getRawData(),d={},e=b.getData(),f=mE(b).scope,g=b.visualStyleAccessPath||"itemStyle",h=mI(b,g);e.each(function(a){d[e.getRawIndex(a)]=a}),c.each(function(a){var g=d[a];if(e.getItemVisual(g,"colorFromPalette")){var i=e.ensureUniqueItemVisual(g,"style"),j=c.getName(a)||a+"",k=c.count();i[h]=b.getColorFromPalette(j,f,k)}})}})}}),of(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData();if(a.legendIcon&&c.setVisual("legendIcon",a.legendIcon),a.hasSymbolVisual){for(var d={},e={},f=!1,g=0;g<m3.length;g++){var h=m3[g],i=a.get(h);aP(i)?(f=!0,e[h]=i):d[h]=i}if(d.symbol=d.symbol||a.defaultSymbol,c.setVisual(aC({legendIcon:a.legendIcon||d.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},d)),!b.isSeriesFiltered(a)){var j=aL(e);return{dataEach:f?function(b,c){for(var d=a.getRawValue(c),f=a.getDataParams(c),g=0;g<j.length;g++){var h=j[g];b.setItemVisual(c,h,e[h](d,f))}}:null}}}}}),of(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){if(a.hasSymbolVisual&&!b.isSeriesFiltered(a))return{dataEach:a.getData().hasItemOption?function(a,b){for(var c=a.getItemModel(b),d=0;d<m4.length;d++){var e=m4[d],f=c.getShallow(e,!0);null!=f&&a.setItemVisual(b,e,f)}}:null}}}),of(7e3,function(a,b){a.eachRawSeries(function(c){if(!a.isSeriesFiltered(c)){var d=c.getData();d.hasItemVisual()&&d.each(function(a){var c=d.getItemVisual(a,"decal");c&&(d.ensureUniqueItemVisual(a,"style").decal=nN(c,b))});var e=d.getVisual("decal");e&&(d.getVisual("style").decal=nN(e,b))}})}),ob(jL),oc(900,function(a){var b=a7();a.eachSeries(function(a){var c=a.get("stack");if(c){var d=b.get(c)||b.set(c,[]),e=a.getData(),f={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:a};if(!f.stackedDimension||!(f.isStackedByIndex||f.stackedByDimension))return;d.length&&e.setCalculationInfo("stackedOnSeries",d[d.length-1].seriesModel),d.push(f)}}),b.each(jM)}),n7.default=function(a,b){aD(b=b||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var c,d=new em,e=new gy({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4});d.add(e);var f=new gB({style:{text:b.text,fill:b.textColor,fontSize:b.fontSize,fontWeight:b.fontWeight,fontStyle:b.fontStyle,fontFamily:b.fontFamily},zlevel:b.zlevel,z:10001}),g=new gy({style:{fill:"none"},textContent:f,textConfig:{position:"right",distance:10},zlevel:b.zlevel,z:10001});return d.add(g),b.showSpinner&&((c=new lO({shape:{startAngle:-mK/2,endAngle:-mK/2+.1,r:b.spinnerRadius},style:{stroke:b.color,lineCap:"round",lineWidth:b.lineWidth},zlevel:b.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*mK/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:3*mK/2}).delay(300).start("circularInOut"),d.add(c)),d.resize=function(){var d=f.getBoundingRect().width,h=b.showSpinner?b.spinnerRadius:0,i=(a.getWidth()-2*h-(b.showSpinner&&d?10:0)-d)/2-(b.showSpinner&&d?0:5+d/2)+(b.showSpinner?0:d/2)+(d?0:h),j=a.getHeight()/2;b.showSpinner&&c.setShape({cx:i,cy:j}),g.setShape({x:i-h,y:j-h,width:2*h,height:2*h}),e.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},d.resize(),d},oe({type:gW,event:gW,update:gW},bc),oe({type:gX,event:gX,update:gX},bc),oe({type:gY,event:gY,update:gY},bc),oe({type:gZ,event:gZ,update:gZ},bc),oe({type:g$,event:g$,update:g$},bc),n6.light={color:mY,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],mY]},n6.dark=m1;var oi=[],oj={registerPreprocessor:ob,registerProcessor:oc,registerPostInit:function(a){od("afterinit",a)},registerPostUpdate:function(a){od("afterupdate",a)},registerUpdateLifecycle:od,registerAction:oe,registerCoordinateSystem:function(a,b){js.register(a,b)},registerLayout:function(a,b){oh(n5,a,b,1e3,"layout")},registerVisual:of,registerTransform:function(a){var b=(a=az(a)).type;b||jj("");var c=b.split(":");2!==c.length&&jj("");var d=!1;"echarts"===c[0]&&(b=c[1],d=!0),a.__isBuiltIn=d,kj.set(b,a)},registerLoading:function(a,b){n7[a]=b},registerMap:function(a,b,c){var d=nQ.registerMap;d&&d(a,b,c)},registerImpl:function(a,b){nQ[a]=b},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:iU,ComponentView:kZ,SeriesModel:kR,ChartView:ms,registerComponentModel:function(a){iU.registerClass(a)},registerComponentView:function(a){kZ.registerClass(a)},registerSeriesModel:function(a){kR.registerClass(a)},registerChartView:function(a){ms.registerClass(a)},registerSubTypeDefaulter:function(a,b){iU.registerSubTypeDefaulter(a,b)},registerPainter:function(a,b){en[a]=b}};function ok(a){aO(a)?aH(a,function(a){ok(a)}):aE(oi,a)>=0||(oi.push(a),aP(a)&&(a={install:a}),a.install(oj))}var ol=Math.sin,om=Math.cos,on=Math.PI,oo=2*Math.PI,op=180/on,oq=function(){function a(){}return a.prototype.reset=function(a){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,a||4)},a.prototype.moveTo=function(a,b){this._add("M",a,b)},a.prototype.lineTo=function(a,b){this._add("L",a,b)},a.prototype.bezierCurveTo=function(a,b,c,d,e,f){this._add("C",a,b,c,d,e,f)},a.prototype.quadraticCurveTo=function(a,b,c,d){this._add("Q",a,b,c,d)},a.prototype.arc=function(a,b,c,d,e,f){this.ellipse(a,b,c,c,0,d,e,f)},a.prototype.ellipse=function(a,b,c,d,e,f,g,h){var i=g-f,j=!h,k=Math.abs(i),l=df(k-oo)||(j?i>=oo:-i>=oo),m=i>0?i%oo:i%oo+oo,n=!1;n=!!l||!df(k)&&m>=on==!!j;var o=a+c*om(f),p=b+d*ol(f);this._start&&this._add("M",o,p);var q=Math.round(e*op);if(l){var r=1/this._p,s=(j?1:-1)*(oo-r);this._add("A",c,d,q,1,+j,a+c*om(f+s),b+d*ol(f+s)),r>.01&&this._add("A",c,d,q,0,+j,o,p)}else{var t=a+c*om(g),u=b+d*ol(g);this._add("A",c,d,q,+n,+j,t,u)}},a.prototype.rect=function(a,b,c,d){this._add("M",a,b),this._add("l",c,0),this._add("l",0,d),this._add("l",-c,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(a,b,c,d,e,f,g,h,i){for(var j=[],k=this._p,l=1;l<arguments.length;l++){var m=arguments[l];if(isNaN(m)){this._invalid=!0;return}j.push(Math.round(m*k)/k)}this._d.push(a+j.join(" ")),this._start="Z"===a},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),or="none",os=Math.round,ot=["lineCap","miterLimit","lineJoin"],ou=aI(ot,function(a){return"stroke-"+a.toLowerCase()}),ov="http://www.w3.org/2000/svg",ow="http://www.w3.org/1999/xlink",ox="ecmeta_";function oy(a){return document.createElementNS(ov,a)}function oz(a,b,c,d,e){return{tag:a,attrs:c||{},children:d,text:e,key:b}}function oA(a,b){var c=(b=b||{}).newline?"\n":"";return function a(b){var d=b.children,e=b.tag,f=b.attrs,g=b.text;return function(a,b){var c=[];if(b)for(var d in b){var e=b[d],f=d;!1!==e&&(!0!==e&&null!=e&&(f+='="'+e+'"'),c.push(f))}return"<"+a+" "+c.join(" ")+">"}(e,f)+("style"!==e?bH(g):g||"")+(d?""+c+aI(d,function(b){return a(b)}).join(c)+c:"")+"</"+e+">"}(a)}function oB(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function oC(a,b,c,d){return oz("svg","root",{width:a,height:b,xmlns:ov,"xmlns:xlink":ow,version:"1.1",baseProfile:"full",viewBox:!!d&&"0 0 "+a+" "+b},c)}var oD=0,oE={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},oF="transform-origin",oG={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function oH(a,b){var c=b.zrId+"-ani-"+b.cssAnimIdx++;return b.cssAnims[c]=a,c}function oI(a){return aQ(a)?oE[a]?"cubic-bezier("+oE[a]+")":cP(a)?a:"":""}function oJ(a,b,c,d){var e=a.animators,f=e.length,g=[];if(a instanceof lP){var h=function(a,b,c){var d,e,f=a.shape.paths,g={};if(aH(f,function(a){var b=oB(c.zrId);b.animation=!0,oJ(a,{},b,!0);var f=b.cssAnims,h=b.cssNodes,i=aL(f),j=i.length;if(j){var k=f[e=i[j-1]];for(var l in k){var m=k[l];g[l]=g[l]||{d:""},g[l].d+=m.d||""}for(var n in h){var o=h[n].animation;o.indexOf(e)>=0&&(d=o)}}}),d){b.d=!1;var h=oH(g,c);return d.replace(e,h)}}(a,b,c);if(h)g.push(h);else if(!f)return}else if(!f)return;for(var i={},j=0;j<f;j++){var k=e[j],l=[k.getMaxTime()/1e3+"s"],m=oI(k.getClip().easing),n=k.getDelay();m?l.push(m):l.push("linear"),n&&l.push(n/1e3+"s"),k.getLoop()&&l.push("infinite");var o=l.join(" ");i[o]=i[o]||[o,[]],i[o][1].push(k)}for(var p in i){var h=function(e){var f,g,h=e[1],i=h.length,j={},k={},l={},m="animation-timing-function";function n(a,b,c){for(var d=a.getTracks(),e=a.getMaxTime(),f=0;f<d.length;f++){var g=d[f];if(g.needsAnimate()){var h=g.keyframes,i=g.propName;if(c&&(i=c(i)),i)for(var j=0;j<h.length;j++){var k=h[j],l=Math.round(k.time/e*100)+"%",n=oI(k.easing),o=k.rawValue;(aQ(o)||aS(o))&&(b[l]=b[l]||{},b[l][i]=k.rawValue,n&&(b[l][m]=n))}}}}for(var o=0;o<i;o++){var p=h[o],q=p.targetName;q?"shape"===q&&n(p,k):d||n(p,j)}for(var r in j){var s={};d4(s,a),aC(s,j[r]);var t=dr(s),u=j[r][m];l[r]=t?{transform:t}:{},function(a,b){var c=b.originX,d=b.originY;(c||d)&&(a[oF]=c+"px "+d+"px")}(l[r],s),u&&(l[r][m]=u)}var v=!0;for(var r in k){l[r]=l[r]||{};var w=!f,u=k[r][m];w&&(f=new f7);var x=f.len();f.reset(),l[r].d=function(a,b,c){var d=aC({},a.shape);aC(d,b),a.buildPath(c,d);var e=new oq;return e.reset(dq(a)),c.rebuildPath(e,1),e.generateStr(),e.getStr()}(a,k[r],f);var y=f.len();if(!w&&x!==y){v=!1;break}u&&(l[r][m]=u)}if(!v)for(var r in l)delete l[r].d;if(!d)for(var o=0;o<i;o++){var p=h[o],q=p.targetName;"style"===q&&n(p,l,function(a){return oG[a]})}for(var z=aL(l),A=!0,o=1;o<z.length;o++){var B=z[o-1],C=z[o];if(l[B][oF]!==l[C][oF]){A=!1;break}g=l[B][oF]}if(A&&g){for(var r in l)l[r][oF]&&delete l[r][oF];b[oF]=g}if(aK(z,function(a){return aL(l[a]).length>0}).length)return oH(l,c)+" "+e[0]+" both"}(i[p]);h&&g.push(h)}if(g.length){var q=c.zrId+"-cls-"+oD++;c.cssNodes["."+q]={animation:g.join(",")},b.class=q}}function oK(a,b,c,d){var e=JSON.stringify(a),f=c.cssStyleCache[e];f||(f=c.zrId+"-cls-"+oD++,c.cssStyleCache[e]=f,c.cssNodes["."+f+(d?":hover":"")]=a),b.class=b.class?b.class+" "+f:f}var oL=Math.round;function oM(a){return a&&aP(a.toDataURL)}function oN(a,b,c,d){!function(a,b,c,d){var e,f,g=null==b.opacity?1:b.opacity;if(c instanceof gr)return a("opacity",g);if(null!=(e=b.fill)&&e!==or){var h=de(b.fill);a("fill",h.color);var i=null!=b.fillOpacity?b.fillOpacity*h.opacity*g:h.opacity*g;(d||i<1)&&a("fill-opacity",i)}else a("fill",or);if(null!=(f=b.stroke)&&f!==or){var j=de(b.stroke);a("stroke",j.color);var k=b.strokeNoScale?c.getLineScale():1,l=k?(b.lineWidth||0)/k:0,m=null!=b.strokeOpacity?b.strokeOpacity*j.opacity*g:j.opacity*g,n=b.strokeFirst;if((d||1!==l)&&a("stroke-width",l),(d||n)&&a("paint-order",n?"stroke":"fill"),(d||m<1)&&a("stroke-opacity",m),b.lineDash){var o=nt(c),p=o[0],q=o[1];p&&(q=os(q||0),a("stroke-dasharray",p.join(",")),(q||d)&&a("stroke-dashoffset",q))}else d&&a("stroke-dasharray",or);for(var r=0;r<ot.length;r++){var s=ot[r];if(d||b[s]!==gj[s]){var t=b[s]||gj[s];t&&a(ou[r],t)}}}else d&&a("stroke",or)}(function(e,f){var g="fill"===e||"stroke"===e;g&&dn(f)?oW(b,a,e,d):g&&dk(f)?oX(c,a,e,d):g&&"none"===f?a[e]="transparent":a[e]=f},b,c,!1),function(a,b,c){var d=a.style;if(d&&(d.shadowBlur||d.shadowOffsetX||d.shadowOffsetY)){var e,f,g=(e=a.style,f=a.getGlobalScale(),[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),f[0],f[1]].join(",")),h=c.shadowCache,i=h[g];if(!i){var j=a.getGlobalScale(),k=j[0],l=j[1];if(!k||!l)return;var m=d.shadowOffsetX||0,n=d.shadowOffsetY||0,o=d.shadowBlur,p=de(d.shadowColor),q=p.opacity,r=p.color;i=c.zrId+"-s"+c.shadowIdx++,c.defs[i]=oz("filter",i,{id:i,x:"-100%",y:"-100%",width:"300%",height:"300%"},[oz("feDropShadow","",{dx:m/k,dy:n/l,stdDeviation:o/2/k+" "+o/2/l,"flood-color":r,"flood-opacity":q})]),h[g]=i}b.filter=dp(i)}}(c,a,d)}function oO(a,b){var c=function(a){if("function"==typeof u)return u(a)}(b);c&&(c.each(function(b,c){null!=b&&(a[(ox+c).toLowerCase()]=b+"")}),b.isSilent()&&(a[ox+"silent"]="true"))}function oP(a){return df(a[0]-1)&&df(a[1])&&df(a[2])&&df(a[3]-1)}function oQ(a,b,c){if(b&&!(df(b[4])&&df(b[5])&&oP(b))){var d=c?10:1e4;a.transform=oP(b)?"translate("+oL(b[4]*d)/d+" "+oL(b[5]*d)/d+")":"matrix("+dg(b[0])+","+dg(b[1])+","+dg(b[2])+","+dg(b[3])+","+dh(b[4])+","+dh(b[5])+")"}}function oR(a,b,c){for(var d=a.points,e=[],f=0;f<d.length;f++)e.push(oL(d[f][0]*c)/c),e.push(oL(d[f][1]*c)/c);b.points=e.join(" ")}function oS(a){return!a.smooth}var oT={circle:[(q=aI(["cx","cy","r"],function(a){return"string"==typeof a?[a,a]:a}),function(a,b,c){for(var d=0;d<q.length;d++){var e=q[d],f=a[e[0]];null!=f&&(b[e[1]]=oL(f*c)/c)}})],polyline:[oR,oS],polygon:[oR,oS]};function oU(a,b){var c=a.style,d=a.shape,e=oT[a.type],f={},g=b.animation,h="path",i=a.style.strokePercent,j=b.compress&&dq(a)||4;if(!e||b.willUpdate||e[1]&&!e[1](d)||g&&function(a){for(var b=a.animators,c=0;c<b.length;c++)if("shape"===b[c].targetName)return!0;return!1}(a)||i<1){var k=!a.path||a.shapeChanged();a.path||a.createPathProxy();var l=a.path;k&&(l.beginPath(),a.buildPath(l,a.shape),a.pathUpdated());var m=l.getVersion(),n=a.__svgPathBuilder;a.__svgPathVersion===m&&n&&i===a.__svgPathStrokePercent||(n||(n=a.__svgPathBuilder=new oq),n.reset(j),l.rebuildPath(n,i),n.generateStr(),a.__svgPathVersion=m,a.__svgPathStrokePercent=i),f.d=n.getStr()}else{h=a.type;var o=Math.pow(10,j);e[0](d,f,o)}return oQ(f,a.transform),oN(f,c,a,b),oO(f,a),b.animation&&oJ(a,f,b),b.emphasis&&function(a,b,c){if(!a.ignore)if(a.isSilent()){var d={"pointer-events":"none"};oK(d,b,c,!0)}else{var e=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},f=e.fill;if(!f){var g=a.style&&a.style.fill,h=a.states.select&&a.states.select.style&&a.states.select.style.fill,i=a.currentStates.indexOf("select")>=0&&h||g;i&&(f=dc(i))}var j=e.lineWidth;j&&(j/=!e.strokeNoScale&&a.transform?a.transform[0]:1);var d={cursor:"pointer"};f&&(d.fill=f),e.stroke&&(d.stroke=e.stroke),j&&(d["stroke-width"]=j),oK(d,b,c,!0)}}(a,f,b),oz(h,a.id+"",f)}function oV(a,b){return a instanceof gm?oU(a,b):a instanceof gr?function(a,b){var c,d=a.style,e=d.image;if(e&&!aQ(e)&&((c=e)&&aQ(c.src)?e=e.src:oM(e)&&(e=e.toDataURL())),e){var f=d.x||0,g=d.y||0,h={href:e,width:d.width,height:d.height};return f&&(h.x=f),g&&(h.y=g),oQ(h,a.transform),oN(h,d,a,b),oO(h,a),b.animation&&oJ(a,h,b),oz("image",a.id+"",h)}}(a,b):a instanceof go?function(a,b){var c=a.style,d=c.text;if(null!=d&&(d+=""),!(!d||isNaN(c.x)||isNaN(c.y))){var e,f,g,h=c.font||aj,i=c.x||0,j=(e=c.y||0,f=eb(h),"top"===(g=c.textBaseline)?e+=f/2:"bottom"===g&&(e-=f/2),e),k={"dominant-baseline":"central","text-anchor":di[c.textAlign]||c.textAlign};if(gH(c)){var l="",m=c.fontStyle,n=gF(c.fontSize);if(!parseFloat(n))return;var o=c.fontFamily||ai,p=c.fontWeight;l+="font-size:"+n+";font-family:"+o+";",m&&"normal"!==m&&(l+="font-style:"+m+";"),p&&"normal"!==p&&(l+="font-weight:"+p+";"),k.style=l}else k.style="font: "+h;return d.match(/\s/)&&(k["xml:space"]="preserve"),i&&(k.x=i),j&&(k.y=j),oQ(k,a.transform),oN(k,c,a,b),oO(k,a),b.animation&&oJ(a,k,b),oz("text",a.id+"",k,void 0,d)}}(a,b):void 0}function oW(a,b,c,d){var e,f=a[c],g={gradientUnits:f.global?"userSpaceOnUse":"objectBoundingBox"};if(dl(f))e="linearGradient",g.x1=f.x,g.y1=f.y,g.x2=f.x2,g.y2=f.y2;else{if(!dm(f))return;e="radialGradient",g.cx=aZ(f.x,.5),g.cy=aZ(f.y,.5),g.r=aZ(f.r,.5)}for(var h=f.colorStops,i=[],j=0,k=h.length;j<k;++j){var l=100*dh(h[j].offset)+"%",m=de(h[j].color),n=m.color,o=m.opacity,p={offset:l};p["stop-color"]=n,o<1&&(p["stop-opacity"]=o),i.push(oz("stop",j+"",p))}var q=oA(oz(e,"",g,i)),r=d.gradientCache,s=r[q];s||(s=d.zrId+"-g"+d.gradientIdx++,r[q]=s,g.id=s,d.defs[s]=oz(e,s,g,i)),b[c]=dp(s)}function oX(a,b,c,d){var e,f,g,h=a.style[c],i=a.getBoundingRect(),j={},k=h.repeat,l="no-repeat"===k,m="repeat-x"===k,n="repeat-y"===k;if(dj(h)){var o=h.imageWidth,p=h.imageHeight,q=void 0,r=h.image;if(aQ(r)?q=r:r&&aQ(r.src)?q=r.src:oM(r)&&(q=r.toDataURL()),"undefined"==typeof Image){var s="Image width/height must been given explictly in svg-ssr renderer.";a1(o,s),a1(p,s)}else if(null==o||null==p){var t=function(a,b){if(a){var c=a.elm,d=o||b.width,e=p||b.height;"pattern"===a.tag&&(m?(e=1,d/=i.width):n&&(d=1,e/=i.height)),a.attrs.width=d,a.attrs.height=e,c&&(c.setAttribute("width",d),c.setAttribute("height",e))}},u=fk(q,null,a,function(a){l||t(w,a),t(e,a)});u&&u.width&&u.height&&(o=o||u.width,p=p||u.height)}e=oz("image","img",{href:q,width:o,height:p}),j.width=o,j.height=p}else h.svgElement&&(e=az(h.svgElement),j.width=h.svgWidth,j.height=h.svgHeight);if(e){l?f=g=1:m?(g=1,f=j.width/i.width):n?(f=1,g=j.height/i.height):j.patternUnits="userSpaceOnUse",null==f||isNaN(f)||(j.width=f),null==g||isNaN(g)||(j.height=g);var v=dr(h);v&&(j.patternTransform=v);var w=oz("pattern","",j,[e]),x=oA(w),y=d.patternCache,z=y[x];z||(z=d.zrId+"-p"+d.patternIdx++,y[x]=z,j.id=z,w=d.defs[z]=oz("pattern",z,j,[e])),b[c]=dp(z)}}function oY(a){return document.createTextNode(a)}function oZ(a,b,c){a.insertBefore(b,c)}function o$(a,b){a.removeChild(b)}function o_(a,b){a.appendChild(b)}function o0(a){return a.parentNode}function o1(a){return a.nextSibling}function o2(a,b){a.textContent=b}var o3=oz("","");function o4(a){return void 0===a}function o5(a){return void 0!==a}function o6(a,b){var c=a.key===b.key;return a.tag===b.tag&&c}function o7(a){var b,c=a.children,d=a.tag;if(o5(d)){var e=a.elm=oy(d);if(pa(o3,a),aO(c))for(b=0;b<c.length;++b){var f=c[b];null!=f&&o_(e,o7(f))}else o5(a.text)&&!aT(a.text)&&o_(e,oY(a.text))}else a.elm=oY(a.text);return a.elm}function o8(a,b,c,d,e){for(;d<=e;++d){var f=c[d];null!=f&&oZ(a,o7(f),b)}}function o9(a,b,c,d){for(;c<=d;++c){var e=b[c];null!=e&&(o5(e.tag)?o$(o0(e.elm),e.elm):o$(a,e.elm))}}function pa(a,b){var c,d=b.elm,e=a&&a.attrs||{},f=b.attrs||{};if(e!==f){for(c in f){var g=f[c];e[c]!==g&&(!0===g?d.setAttribute(c,""):!1===g?d.removeAttribute(c):"style"===c?d.style.cssText=g:120!==c.charCodeAt(0)?d.setAttribute(c,g):"xmlns:xlink"===c||"xmlns"===c?d.setAttributeNS("http://www.w3.org/2000/xmlns/",c,g):58===c.charCodeAt(3)?d.setAttributeNS("http://www.w3.org/XML/1998/namespace",c,g):58===c.charCodeAt(5)?d.setAttributeNS(ow,c,g):d.setAttribute(c,g))}for(c in e)c in f||d.removeAttribute(c)}}var pb=0,pc=function(){function a(a,b,c){if(this.type="svg",this.refreshHover=pd("refreshHover"),this.configLayer=pd("configLayer"),this.storage=b,this._opts=c=aC({},c),this.root=a,this._id="zr"+pb++,this._oldVNode=oC(c.width,c.height),a&&!c.ssr){var d=this._viewport=document.createElement("div");d.style.cssText="position:relative;overflow:hidden";var e=this._svgDom=this._oldVNode.elm=oy("svg");pa(null,this._oldVNode),d.appendChild(e),a.appendChild(d)}this.resize(c.width,c.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var a=this.renderToVNode({willUpdate:!0});a.attrs.style="position:absolute;left:0;top:0;user-select:none",function(a,b){if(o6(a,b))!function a(b,c){var d=c.elm=b.elm,e=b.children,f=c.children;b!==c&&(pa(b,c),o4(c.text)?o5(e)&&o5(f)?e!==f&&function(b,c,d){for(var e,f,g,h=0,i=0,j=c.length-1,k=c[0],l=c[j],m=d.length-1,n=d[0],o=d[m];h<=j&&i<=m;)null==k?k=c[++h]:null==l?l=c[--j]:null==n?n=d[++i]:null==o?o=d[--m]:o6(k,n)?(a(k,n),k=c[++h],n=d[++i]):o6(l,o)?(a(l,o),l=c[--j],o=d[--m]):o6(k,o)?(a(k,o),oZ(b,k.elm,o1(l.elm)),k=c[++h],o=d[--m]):(o6(l,n)?(a(l,n),oZ(b,l.elm,k.elm),l=c[--j]):(o4(e)&&(e=function(a,b,c){for(var d={},e=b;e<=c;++e){var f=a[e].key;void 0!==f&&(d[f]=e)}return d}(c,h,j)),o4(f=e[n.key])||(g=c[f]).tag!==n.tag?oZ(b,o7(n),k.elm):(a(g,n),c[f]=void 0,oZ(b,g.elm,k.elm))),n=d[++i]);(h<=j||i<=m)&&(h>j?o8(b,null==d[m+1]?null:d[m+1].elm,d,i,m):o9(b,c,h,j))}(d,e,f):o5(f)?(o5(b.text)&&o2(d,""),o8(d,null,f,0,f.length-1)):o5(e)?o9(d,e,0,e.length-1):o5(b.text)&&o2(d,""):b.text!==c.text&&(o5(e)&&o9(d,e,0,e.length-1),o2(d,c.text)))}(a,b);else{var c=a.elm,d=o0(c);o7(b),null!==d&&(oZ(d,b.elm,o1(c)),o9(d,[a],0,0))}}(this._oldVNode,a),this._oldVNode=a}},a.prototype.renderOneToVNode=function(a){return oV(a,oB(this._id))},a.prototype.renderToVNode=function(a){a=a||{};var b=this.storage.getDisplayList(!0),c=this._width,d=this._height,e=oB(this._id);e.animation=a.animation,e.willUpdate=a.willUpdate,e.compress=a.compress,e.emphasis=a.emphasis;var f=[],g=this._bgVNode=function(a,b,c,d){var e;if(c&&"none"!==c)if(e=oz("rect","bg",{width:a,height:b,x:"0",y:"0"}),dn(c))oW({fill:c},e.attrs,"fill",d);else if(dk(c))oX({style:{fill:c},dirty:bc,getBoundingRect:function(){return{width:a,height:b}}},e.attrs,"fill",d);else{var f=de(c),g=f.color,h=f.opacity;e.attrs.fill=g,h<1&&(e.attrs["fill-opacity"]=h)}return e}(c,d,this._backgroundColor,e);g&&f.push(g);var h=a.compress?null:this._mainVNode=oz("g","main",{},[]);this._paintList(b,e,h?h.children:f),h&&f.push(h);var i=aI(aL(e.defs),function(a){return e.defs[a]});if(i.length&&f.push(oz("defs","defs",{},i)),a.animation){var j,k,l,m,n,o,p,q,r=(j=e.cssNodes,k=e.cssAnims,n=" {"+(m=(l={newline:!0}).newline?"\n":""),o=m+"}",p=aI(aL(j),function(a){return a+n+aI(aL(j[a]),function(b){return b+":"+j[a][b]+";"}).join(m)+o}).join(m),q=aI(aL(k),function(a){return"@keyframes "+a+n+aI(aL(k[a]),function(b){return b+n+aI(aL(k[a][b]),function(c){var d=k[a][b][c];return"d"===c&&(d='path("'+d+'")'),c+":"+d+";"}).join(m)+o}).join(m)+o}).join(m),p||q?["<![CDATA[",p,q,"]]>"].join(m):"");if(r){var s=oz("style","stl",{},[],r);f.push(s)}}return oC(c,d,f,a.useViewBox)},a.prototype.renderToString=function(a){return a=a||{},oA(this.renderToVNode({animation:aZ(a.cssAnimation,!0),emphasis:aZ(a.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:aZ(a.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(a){this._backgroundColor=a},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(a,b,c){for(var d,e,f=a.length,g=[],h=0,i=0,j=0;j<f;j++){var k=a[j];if(!k.invisible){var l=k.__clipPaths,m=l&&l.length||0,n=e&&e.length||0,o=void 0;for(o=Math.max(m-1,n-1);o>=0&&(!l||!e||l[o]!==e[o]);o--);for(var p=n-1;p>o;p--)d=g[--h-1];for(var q=o+1;q<m;q++){var r={};!function(a,b,c){var d=c.clipPathCache,e=c.defs,f=d[a.id];if(!f){var g={id:f=c.zrId+"-c"+c.clipPathIdx++};d[a.id]=f,e[f]=oz("clipPath",f,g,[oU(a,c)])}b["clip-path"]=dp(f)}(l[q],r,b);var s=oz("g","clip-g-"+i++,r,[]);(d?d.children:c).push(s),g[h++]=s,d=s}e=l;var t=oV(k,b);t&&(d?d.children:c).push(t)}}},a.prototype.resize=function(a,b){var c=this._opts,d=this.root,e=this._viewport;if(null!=a&&(c.width=a),null!=b&&(c.height=b),d&&e&&(e.style.display="none",a=ns(d,0,c),b=ns(d,1,c),e.style.display=""),this._width!==a||this._height!==b){if(this._width=a,this._height=b,e){var f=e.style;f.width=a+"px",f.height=b+"px"}if(dk(this._backgroundColor))this.refresh();else{var g=this._svgDom;g&&(g.setAttribute("width",a),g.setAttribute("height",b));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",a),h.setAttribute("height",b))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(a){var b=this.renderToString(),c="data:image/svg+xml;";return a?(b=ds(b))&&c+"base64,"+b:c+"charset=UTF-8,"+encodeURIComponent(b)},a}();function pd(a){return function(){}}function pe(a,b,c){var d=al.createCanvas(),e=b.getWidth(),f=b.getHeight(),g=d.style;return g&&(g.position="absolute",g.left="0",g.top="0",g.width=e+"px",g.height=f+"px",d.setAttribute("data-zr-dom-id",a)),d.width=e*c,d.height=f*c,d}var pf=function(a){function b(b,c,d){var e,f=a.call(this)||this;f.motionBlur=!1,f.lastFrameAlpha=.7,f.dpr=1,f.virtual=!1,f.config={},f.incremental=!1,f.zlevel=0,f.maxRepaintRectCount=5,f.__dirty=!0,f.__firstTimePaint=!0,f.__used=!1,f.__drawIndex=0,f.__startIndex=0,f.__endIndex=0,f.__prevStartIndex=null,f.__prevEndIndex=null,d=d||dW,"string"==typeof b?e=pe(b,c,d):aT(b)&&(b=(e=b).id),f.id=b,f.dom=e;var g=e.style;return g&&(ba(e),e.onselectstart=function(){return!1},g.padding="0",g.margin="0",g.borderWidth="0"),f.painter=c,f.dpr=d,f}return bf(b,a),b.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},b.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},b.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},b.prototype.setUnpainted=function(){this.__firstTimePaint=!0},b.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=pe("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!==a&&this.ctxBack.scale(a,a)},b.prototype.createRepaintRects=function(a,b,c,d){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var e,f=[],g=this.maxRepaintRectCount,h=!1,i=new ca(0,0,0,0);function j(a){if(!(!a.isFinite()||a.isZero()))if(0===f.length){var b=new ca(0,0,0,0);b.copy(a),f.push(b)}else{for(var c=!1,d=1/0,e=0,j=0;j<f.length;++j){var k=f[j];if(k.intersect(a)){var l=new ca(0,0,0,0);l.copy(k),l.union(a),f[j]=l,c=!0;break}if(h){i.copy(a),i.union(k);var m=a.width*a.height,n=k.width*k.height,o=i.width*i.height-m-n;o<d&&(d=o,e=j)}}if(h&&(f[e].union(a),c=!0),!c){var b=new ca(0,0,0,0);b.copy(a),f.push(b)}h||(h=f.length>=g)}}for(var k=this.__startIndex;k<this.__endIndex;++k){var l=a[k];if(l){var m=l.shouldBePainted(c,d,!0,!0),n=l.__isRendered&&(1&l.__dirty||!m)?l.getPrevPaintRect():null;n&&j(n);var o=m&&(1&l.__dirty||!l.__isRendered)?l.getPaintRect():null;o&&j(o)}}for(var k=this.__prevStartIndex;k<this.__prevEndIndex;++k){var l=b[k],m=l&&l.shouldBePainted(c,d,!0,!0);if(l&&(!m||!l.__zr)&&l.__isRendered){var n=l.getPrevPaintRect();n&&j(n)}}do{e=!1;for(var k=0;k<f.length;){if(f[k].isZero()){f.splice(k,1);continue}for(var p=k+1;p<f.length;)f[k].intersect(f[p])?(e=!0,f[k].union(f[p]),f.splice(p,1)):p++;k++}}while(e)return this._paintRects=f,f},b.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},b.prototype.resize=function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=a+"px",e.height=b+"px"),d.width=a*c,d.height=b*c,f&&(f.width=a*c,f.height=b*c,1!==c&&this.ctxBack.scale(c,c))},b.prototype.clear=function(a,b,c){var d=this.dom,e=this.ctx,f=d.width,g=d.height;b=b||this.clearColor;var h=this.motionBlur&&!a,i=this.lastFrameAlpha,j=this.dpr,k=this;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(d,0,0,f/j,g/j));var l=this.domBack;function m(a,c,d,f){if(e.clearRect(a,c,d,f),b&&"transparent"!==b){var g=void 0;aX(b)?(g=(b.global||b.__width===d&&b.__height===f)&&b.__canvasGradient||nq(e,b,{x:0,y:0,width:d,height:f}),b.__canvasGradient=g,b.__width=d,b.__height=f):null!=b.image&&(b.scaleX=b.scaleX||j,b.scaleY=b.scaleY||j,g=nA(e,b,{dirty:function(){k.setUnpainted(),k.painter.refresh()}})),e.save(),e.fillStyle=g||b,e.fillRect(a,c,d,f),e.restore()}h&&(e.save(),e.globalAlpha=i,e.drawImage(l,a,c,d,f),e.restore())}!c||h?m(0,0,f,g):c.length&&aH(c,function(a){m(a.x*j,a.y*j,a.width*j,a.height*j)})},b}(bx),pg=function(){function a(a,b,c,d){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var e=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=aC({},c||{}),this.dpr=c.devicePixelRatio||dW,this._singleCanvas=e,this.root=a,a.style&&(ba(a),a.innerHTML=""),this.storage=b;var f=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(e){var h=a.width,i=a.height;null!=c.width&&(h=c.width),null!=c.height&&(i=c.height),this.dpr=c.devicePixelRatio||1,a.width=h*this.dpr,a.height=i*this.dpr,this._width=h,this._height=i;var j=new pf(a,this,this.dpr);j.__builtin__=!0,j.initContext(),g[314159]=j,j.zlevel=314159,f.push(314159),this._domRoot=a}else{this._width=ns(a,0,c),this._height=ns(a,1,c);var k,l,m,n=this._domRoot=(k=this._width,l=this._height,(m=document.createElement("div")).style.cssText=["position:relative","width:"+k+"px","height:"+l+"px","padding:0;margin:0;border-width:0"].join(";")+";",m);a.appendChild(n)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},a.prototype.refresh=function(a){var b=this.storage.getDisplayList(!0),c=this._prevDisplayList,d=this._zlevelList;this._redrawId=Math.random(),this._paintList(b,c,a,this._redrawId);for(var e=0;e<d.length;e++){var f=d[e],g=this._layers[f];if(!g.__builtin__&&g.refresh){var h=0===e?this._backgroundColor:null;g.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=b.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(a){var b,c=a.length,d=this._hoverlayer;if(d&&d.clear(),c){for(var e={inHover:!0,viewWidth:this._width,viewHeight:this._height},f=0;f<c;f++){var g=a[f];g.__inHover&&(d||(d=this._hoverlayer=this.getLayer(1e5)),b||(b=d.ctx).save(),nJ(b,g,e,f===c-1))}b&&b.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(1e5)},a.prototype.paintOne=function(a,b){nI(a,b)},a.prototype._paintList=function(a,b,c,d){if(this._redrawId===d){c=c||!1,this._updateLayerStatus(a);var e=this._doPaintList(a,b,c),f=e.finished,g=e.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),g&&this._paintHoverList(a),f)this.eachLayer(function(a){a.afterBrush&&a.afterBrush()});else{var h=this;t(function(){h._paintList(a,b,c,d)})}}},a.prototype._compositeManually=function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c),this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},a.prototype._doPaintList=function(a,b,c){for(var d=this,e=[],f=this._opts.useDirtyRect,g=0;g<this._zlevelList.length;g++){var h=this._zlevelList[g],i=this._layers[h];i.__builtin__&&i!==this._hoverlayer&&(i.__dirty||c)&&e.push(i)}for(var j=!0,k=!1,l=this,m=0;m<e.length;m++)!function(g){var h,i=e[g],m=i.ctx,n=f&&i.createRepaintRects(a,b,l._width,l._height),o=c?i.__startIndex:i.__drawIndex,p=!c&&i.incremental&&Date.now,q=p&&Date.now(),r=i.zlevel===l._zlevelList[0]?l._backgroundColor:null;if(i.__startIndex===i.__endIndex)i.clear(!1,r,n);else if(o===i.__startIndex){var s=a[o];s.incremental&&s.notClear&&!c||i.clear(!1,r,n)}-1===o&&(console.error("For some unknown reason. drawIndex is -1"),o=i.__startIndex);var t=function(b){var c={inHover:!1,allClipped:!1,prevEl:null,viewWidth:d._width,viewHeight:d._height};for(h=o;h<i.__endIndex;h++){var e=a[h];if(e.__inHover&&(k=!0),d._doPaintEl(e,i,f,b,c,h===i.__endIndex-1),p&&Date.now()-q>15)break}c.prevElClipPaths&&m.restore()};if(n)if(0===n.length)h=i.__endIndex;else for(var u=l.dpr,v=0;v<n.length;++v){var w=n[v];m.save(),m.beginPath(),m.rect(w.x*u,w.y*u,w.width*u,w.height*u),m.clip(),t(w),m.restore()}else m.save(),t(),m.restore();i.__drawIndex=h,i.__drawIndex<i.__endIndex&&(j=!1)}(m);return ah.wxa&&aH(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),{finished:j,needsRefreshHover:k}},a.prototype._doPaintEl=function(a,b,c,d,e,f){var g=b.ctx;if(c){var h=a.getPaintRect();(!d||h&&h.intersect(d))&&(nJ(g,a,e,f),a.setPrevPaintRect(h))}else nJ(g,a,e,f)},a.prototype.getLayer=function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];return c||((c=new pf("zr_"+a,this,this.dpr)).zlevel=a,c.__builtin__=!0,this._layerConfig[a]?aA(c,this._layerConfig[a],!0):this._layerConfig[a-.01]&&aA(c,this._layerConfig[a-.01],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext()),c},a.prototype.insertLayer=function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=this._domRoot,g=null,h=-1;if(!c[a]){if(b&&(b.__builtin__||"function"==typeof b.resize&&"function"==typeof b.refresh&&1)){if(e>0&&a>d[0]){for(h=0;h<e-1&&(!(d[h]<a)||!(d[h+1]>a));h++);g=c[d[h]]}if(d.splice(h+1,0,a),c[a]=b,!b.virtual)if(g){var i=g.dom;i.nextSibling?f.insertBefore(b.dom,i.nextSibling):f.appendChild(b.dom)}else f.firstChild?f.insertBefore(b.dom,f.firstChild):f.appendChild(b.dom);b.painter||(b.painter=this)}}},a.prototype.eachLayer=function(a,b){for(var c=this._zlevelList,d=0;d<c.length;d++){var e=c[d];a.call(b,this._layers[e],e)}},a.prototype.eachBuiltinLayer=function(a,b){for(var c=this._zlevelList,d=0;d<c.length;d++){var e=c[d],f=this._layers[e];f.__builtin__&&a.call(b,f,e)}},a.prototype.eachOtherLayer=function(a,b){for(var c=this._zlevelList,d=0;d<c.length;d++){var e=c[d],f=this._layers[e];f.__builtin__||a.call(b,f,e)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(a){function b(a){g&&(g.__endIndex!==a&&(g.__dirty=!0),g.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas)for(var c,d,e=1;e<a.length;e++){var f=a[e];if(f.zlevel!==a[e-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}}var g=null,h=0;for(d=0;d<a.length;d++){var f=a[d],i=f.zlevel,j=void 0;c!==i&&(c=i,h=0),f.incremental?((j=this.getLayer(i+.001,this._needsManuallyCompositing)).incremental=!0,h=1):j=this.getLayer(i+.01*(h>0),this._needsManuallyCompositing),j.__builtin__||ay("ZLevel "+i+" has been used by unkown layer "+j.id),j!==g&&(j.__used=!0,j.__startIndex!==d&&(j.__dirty=!0),j.__startIndex=d,j.incremental?j.__drawIndex=-1:j.__drawIndex=d,b(d),g=j),1&f.__dirty&&!f.__inHover&&(j.__dirty=!0,j.incremental&&j.__drawIndex<0&&(j.__drawIndex=d))}b(d),this.eachBuiltinLayer(function(a,b){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(a){a.clear()},a.prototype.setBackgroundColor=function(a){this._backgroundColor=a,aH(this._layers,function(a){a.setUnpainted()})},a.prototype.configLayer=function(a,b){if(b){var c=this._layerConfig;c[a]?aA(c[a],b,!0):c[a]=b;for(var d=0;d<this._zlevelList.length;d++){var e=this._zlevelList[d];(e===a||e===a+.01)&&aA(this._layers[e],c[a],!0)}}},a.prototype.delLayer=function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(aE(c,a),1))},a.prototype.resize=function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts,e=this.root;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=ns(e,0,d),b=ns(e,1,d),c.style.display="",this._width!==a||b!==this._height){for(var f in c.style.width=a+"px",c.style.height=b+"px",this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(a,b);this.refresh(!0)}this._width=a,this._height=b}else{if(null==a||null==b)return;this._width=a,this._height=b,this.getLayer(314159).resize(a,b)}return this},a.prototype.clearLayer=function(a){var b=this._layers[a];b&&b.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(a){if(a=a||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var b=new pf("image",this,a.pixelRatio||this.dpr);b.initContext(),b.clear(!1,a.backgroundColor||this._backgroundColor);var c=b.ctx;if(a.pixelRatio<=this.dpr){this.refresh();var d=b.dom.width,e=b.dom.height;this.eachLayer(function(a){a.__builtin__?c.drawImage(a.dom,0,0,d,e):a.renderToCanvas&&(c.save(),a.renderToCanvas(c),c.restore())})}else for(var f={inHover:!1,viewWidth:this._width,viewHeight:this._height},g=this.storage.getDisplayList(!0),h=0,i=g.length;h<i;h++)nJ(c,g[h],f,h===i-1);return b.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}();function ph(a){return null==a?0:a.length||1}function pi(a){return a}var pj=function(){function a(a,b,c,d,e,f){this._old=a,this._new=b,this._oldKeyGetter=c||pi,this._newKeyGetter=d||pi,this.context=e,this._diffModeMultiple="multiple"===f}return a.prototype.add=function(a){return this._add=a,this},a.prototype.update=function(a){return this._update=a,this},a.prototype.updateManyToOne=function(a){return this._updateManyToOne=a,this},a.prototype.updateOneToMany=function(a){return this._updateOneToMany=a,this},a.prototype.updateManyToMany=function(a){return this._updateManyToMany=a,this},a.prototype.remove=function(a){return this._remove=a,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var a=this._old,b=this._new,c={},d=Array(a.length),e=Array(b.length);this._initIndexMap(a,null,d,"_oldKeyGetter"),this._initIndexMap(b,c,e,"_newKeyGetter");for(var f=0;f<a.length;f++){var g=d[f],h=c[g],i=ph(h);if(i>1){var j=h.shift();1===h.length&&(c[g]=h[0]),this._update&&this._update(j,f)}else 1===i?(c[g]=null,this._update&&this._update(h,f)):this._remove&&this._remove(f)}this._performRestAdd(e,c)},a.prototype._executeMultiple=function(){var a=this._old,b=this._new,c={},d={},e=[],f=[];this._initIndexMap(a,c,e,"_oldKeyGetter"),this._initIndexMap(b,d,f,"_newKeyGetter");for(var g=0;g<e.length;g++){var h=e[g],i=c[h],j=d[h],k=ph(i),l=ph(j);if(k>1&&1===l)this._updateManyToOne&&this._updateManyToOne(j,i),d[h]=null;else if(1===k&&l>1)this._updateOneToMany&&this._updateOneToMany(j,i),d[h]=null;else if(1===k&&1===l)this._update&&this._update(j,i),d[h]=null;else if(k>1&&l>1)this._updateManyToMany&&this._updateManyToMany(j,i),d[h]=null;else if(k>1)for(var m=0;m<k;m++)this._remove&&this._remove(i[m]);else this._remove&&this._remove(i)}this._performRestAdd(f,d)},a.prototype._performRestAdd=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[d],f=ph(e);if(f>1)for(var g=0;g<f;g++)this._add&&this._add(e[g]);else 1===f&&this._add&&this._add(e);b[d]=null}},a.prototype._initIndexMap=function(a,b,c,d){for(var e=this._diffModeMultiple,f=0;f<a.length;f++){var g="_ec_"+this[d](a[f],f);if(e||(c[f]=g),b){var h=b[g],i=ph(h);0===i?(b[g]=f,e&&c.push(g)):1===i?b[g]=[h,f]:h.push(f)}}},a}(),pk=function(){function a(a,b){this._encode=a,this._schema=b}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function pl(a,b){return a.hasOwnProperty(b)||(a[b]=[]),a[b]}function pm(a){return"category"===a?"ordinal":"time"===a?"time":"float"}let pn=function(a){this.otherDims={},null!=a&&aC(this,a)};var po=e$(),pp={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},pq=function(){function a(a){this.dimensions=a.dimensions,this._dimOmitted=a.dimensionOmitted,this.source=a.source,this._fullDimCount=a.fullDimensionCount,this._updateDimOmitted(a.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(a){this._dimOmitted=a,a&&(this._dimNameMap||(this._dimNameMap=pt(this.source)))},a.prototype.getSourceDimensionIndex=function(a){return aZ(this._dimNameMap.get(a),-1)},a.prototype.getSourceDimension=function(a){var b=this.source.dimensionsDefine;if(b)return b[a]},a.prototype.makeStoreSchema=function(){for(var a=this._fullDimCount,b=jU(this.source),c=!(a>30),d="",e=[],f=0,g=0;f<a;f++){var h=void 0,i=void 0,j=void 0,k=this.dimensions[g];if(k&&k.storeDimIndex===f)h=b?k.name:null,i=k.type,j=k.ordinalMeta,g++;else{var l=this.getSourceDimension(f);l&&(h=b?l.name:null,i=l.type)}e.push({property:h,type:i,ordinalMeta:j}),!b||null==h||k&&k.isCalculationCoord||(d+=c?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),d+="$",d+=pp[i]||"f",j&&(d+=j.uid),d+="$"}var m=this.source;return{dimensions:e,hash:[m.seriesLayoutBy,m.startIndex,d].join("$$")}},a.prototype.makeOutputDimensionNames=function(){for(var a=[],b=0,c=0;b<this._fullDimCount;b++){var d=void 0,e=this.dimensions[c];if(e&&e.storeDimIndex===b)e.isCalculationCoord||(d=e.name),c++;else{var f=this.getSourceDimension(b);f&&(d=f.name)}a.push(d)}return a},a.prototype.appendCalculationDimension=function(a){this.dimensions.push(a),a.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function pr(a){return a instanceof pq}function ps(a){for(var b=a7(),c=0;c<(a||[]).length;c++){var d=a[c],e=aT(d)?d.name:d;null!=e&&null==b.get(e)&&b.set(e,c)}return b}function pt(a){var b=po(a);return b.dimNameMap||(b.dimNameMap=ps(a.dimensionsDefine))}var pu=aT,pv="undefined"==typeof Int32Array?Array:Int32Array,pw=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],px=["_approximateExtent"],py=function(){function a(a,b){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var c,d=!1;pr(a)?(c=a.dimensions,this._dimOmitted=a.isDimensionOmitted(),this._schema=a):(d=!0,c=a),c=c||["x","y"];for(var e={},f=[],g={},h=!1,i={},j=0;j<c.length;j++){var k=c[j],l=aQ(k)?new pn({name:k}):k instanceof pn?k:new pn(k),m=l.name;l.type=l.type||"float",l.coordDim||(l.coordDim=m,l.coordDimIndex=0);var n=l.otherDims=l.otherDims||{};f.push(m),e[m]=l,null!=i[m]&&(h=!0),l.createInvertedIndices&&(g[m]=[]),0===n.itemName&&(this._nameDimIdx=j),0===n.itemId&&(this._idDimIdx=j),d&&(l.storeDimIndex=j)}if(this.dimensions=f,this._dimInfos=e,this._initGetDimensionInfo(h),this.hostModel=b,this._invertedIndicesMap=g,this._dimOmitted){var o=this._dimIdxToName=a7();aH(f,function(a){o.set(e[a].storeDimIndex,a)})}}return a.prototype.getDimension=function(a){var b=this._recognizeDimIndex(a);if(null==b)return a;if(b=a,!this._dimOmitted)return this.dimensions[b];var c=this._dimIdxToName.get(b);if(null!=c)return c;var d=this._schema.getSourceDimension(b);if(d)return d.name},a.prototype.getDimensionIndex=function(a){var b=this._recognizeDimIndex(a);if(null!=b)return b;if(null==a)return -1;var c=this._getDimInfo(a);return c?c.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(a):-1},a.prototype._recognizeDimIndex=function(a){if(aS(a)||null!=a&&!isNaN(a)&&!this._getDimInfo(a)&&(!this._dimOmitted||0>this._schema.getSourceDimensionIndex(a)))return+a},a.prototype._getStoreDimIndex=function(a){return this.getDimensionIndex(a)},a.prototype.getDimensionInfo=function(a){return this._getDimInfo(this.getDimension(a))},a.prototype._initGetDimensionInfo=function(a){var b=this._dimInfos;this._getDimInfo=a?function(a){return b.hasOwnProperty(a)?b[a]:void 0}:function(a){return b[a]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(a,b){var c=this._dimSummary;if(null==b)return c.encodeFirstDimNotExtra[a];var d=c.encode[a];return d?d[b]:null},a.prototype.mapDimensionsAll=function(a){return(this._dimSummary.encode[a]||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=this;if(a instanceof ku&&(p=a),!p){var r=this.dimensions,s=jO(a)||aG(a)?new jV(a,r.length):a;p=new ku;var t=aI(r,function(a){return{type:q._dimInfos[a].type,property:a}});p.initData(s,t,c)}this._store=p,this._nameList=(b||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,p.count()),this._dimSummary=(d=this,e=this._schema,g=(f={}).encode={},h=a7(),i=[],j=[],k={},aH(d.dimensions,function(a){var b=d.getDimensionInfo(a),c=b.coordDim;if(c){var e,f=b.coordDimIndex;pl(g,c)[f]=a,b.isExtraCoord||(h.set(c,1),"ordinal"!==(e=b.type)&&"time"!==e&&(i[0]=a),pl(k,c)[f]=d.getDimensionIndex(b.name)),b.defaultTooltip&&j.push(a)}i$.each(function(a,c){var d=pl(g,c),e=b.otherDims[c];null!=e&&!1!==e&&(d[e]=b.name)})}),l=[],m={},h.each(function(a,b){var c=g[b];m[b]=c[0],l=l.concat(c)}),f.dataDimsOnCoord=l,f.dataDimIndicesOnCoord=aI(l,function(a){return d.getDimensionInfo(a).storeDimIndex}),f.encodeFirstDimNotExtra=m,(n=g.label)&&n.length&&(i=n.slice()),(o=g.tooltip)&&o.length?j=o.slice():j.length||(j=i.slice()),g.defaultedLabel=i,g.defaultedTooltip=j,f.userOutput=new pk(k,e),f),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(a){var b=this._store.appendData(a);this._doInit(b[0],b[1])},a.prototype.appendValues=function(a,b){var c=this._store.appendValues(a,b.length),d=c.start,e=c.end,f=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),b)for(var g=d;g<e;g++){var h=g-d;this._nameList[g]=b[h],f&&aa(this,g)}},a.prototype._updateOrdinalMeta=function(){for(var a=this._store,b=this.dimensions,c=0;c<b.length;c++){var d=this._dimInfos[b[c]];d.ordinalMeta&&a.collectOrdinalMeta(d.storeDimIndex,d.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var a=this._store.getProvider();return null==this._idDimIdx&&a.getSource().sourceFormat!==i3&&!a.fillStorage},a.prototype._doInit=function(a,b){if(!(a>=b)){var c=this._store.getProvider();this._updateOrdinalMeta();var d=this._nameList,e=this._idList;if(c.getSource().sourceFormat===i_&&!c.pure)for(var f=[],g=a;g<b;g++){var h,i=c.getItem(g,f);if(!(!this.hasItemOption&&aT(h=i))||h instanceof Array||(this.hasItemOption=!0),i){var j=i.name;null==d[g]&&null!=j&&(d[g]=eW(j,null));var k=i.id;null==e[g]&&null!=k&&(e[g]=eW(k,null))}}if(this._shouldMakeIdFromName())for(var g=a;g<b;g++)aa(this,g);W(this)}},a.prototype.getApproximateExtent=function(a){return this._approximateExtent[a]||this._store.getDataExtent(this._getStoreDimIndex(a))},a.prototype.setApproximateExtent=function(a,b){b=this.getDimension(b),this._approximateExtent[b]=a.slice()},a.prototype.getCalculationInfo=function(a){return this._calculationInfo[a]},a.prototype.setCalculationInfo=function(a,b){pu(a)?aC(this._calculationInfo,a):this._calculationInfo[a]=b},a.prototype.getName=function(a){var b=this.getRawIndex(a),c=this._nameList[b];return null==c&&null!=this._nameDimIdx&&(c=Y(this,this._nameDimIdx,b)),null==c&&(c=""),c},a.prototype._getCategory=function(a,b){var c=this._store.get(a,b),d=this._store.getOrdinalMeta(a);return d?d.categories[c]:c},a.prototype.getId=function(a){return X(this,this.getRawIndex(a))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(a,b){var c=this._store,d=this._dimInfos[a];if(d)return c.get(d.storeDimIndex,b)},a.prototype.getByRawIndex=function(a,b){var c=this._store,d=this._dimInfos[a];if(d)return c.getByRawIndex(d.storeDimIndex,b)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(a){return this._store.getDataExtent(this._getStoreDimIndex(a))},a.prototype.getSum=function(a){return this._store.getSum(this._getStoreDimIndex(a))},a.prototype.getMedian=function(a){return this._store.getMedian(this._getStoreDimIndex(a))},a.prototype.getValues=function(a,b){var c=this,d=this._store;return aO(a)?d.getValues(aI(a,function(a){return c._getStoreDimIndex(a)}),b):d.getValues(a)},a.prototype.hasValue=function(a){for(var b=this._dimSummary.dataDimIndicesOnCoord,c=0,d=b.length;c<d;c++)if(isNaN(this._store.get(b[c],a)))return!1;return!0},a.prototype.indexOfName=function(a){for(var b=0,c=this._store.count();b<c;b++)if(this.getName(b)===a)return b;return -1},a.prototype.getRawIndex=function(a){return this._store.getRawIndex(a)},a.prototype.indexOfRawIndex=function(a){return this._store.indexOfRawIndex(a)},a.prototype.rawIndexOf=function(a,b){var c=(a&&this._invertedIndicesMap[a])[b];return null==c||isNaN(c)?-1:c},a.prototype.indicesOfNearest=function(a,b,c){return this._store.indicesOfNearest(this._getStoreDimIndex(a),b,c)},a.prototype.each=function(a,b,c){aP(a)&&(c=b,b=a,a=[]);var d=c||this,e=aI(Z(a),this._getStoreDimIndex,this);this._store.each(e,d?aM(b,d):b)},a.prototype.filterSelf=function(a,b,c){aP(a)&&(c=b,b=a,a=[]);var d=c||this,e=aI(Z(a),this._getStoreDimIndex,this);return this._store=this._store.filter(e,d?aM(b,d):b),this},a.prototype.selectRange=function(a){var b=this,c={},d=aL(a),e=[];return aH(d,function(d){var f=b._getStoreDimIndex(d);c[f]=a[d],e.push(f)}),this._store=this._store.selectRange(c),this},a.prototype.mapArray=function(a,b,c){aP(a)&&(c=b,b=a,a=[]),c=c||this;var d=[];return this.each(a,function(){d.push(b&&b.apply(this,arguments))},c),d},a.prototype.map=function(a,b,c,d){var e=c||d||this,f=aI(Z(a),this._getStoreDimIndex,this),g=_(this);return g._store=this._store.map(f,e?aM(b,e):b),g},a.prototype.modify=function(a,b,c,d){var e=c||d||this,f=aI(Z(a),this._getStoreDimIndex,this);this._store.modify(f,e?aM(b,e):b)},a.prototype.downSample=function(a,b,c,d){var e=_(this);return e._store=this._store.downSample(this._getStoreDimIndex(a),b,c,d),e},a.prototype.lttbDownSample=function(a,b){var c=_(this);return c._store=this._store.lttbDownSample(this._getStoreDimIndex(a),b),c},a.prototype.getRawDataItem=function(a){return this._store.getRawDataItem(a)},a.prototype.getItemModel=function(a){var b=this.hostModel;return new h2(this.getRawDataItem(a),b,b&&b.ecModel)},a.prototype.diff=function(a){var b=this;return new pj(a?a.getStore().getIndices():[],this.getStore().getIndices(),function(b){return X(a,b)},function(a){return X(b,a)})},a.prototype.getVisual=function(a){var b=this._visual;return b&&b[a]},a.prototype.setVisual=function(a,b){this._visual=this._visual||{},pu(a)?aC(this._visual,a):this._visual[a]=b},a.prototype.getItemVisual=function(a,b){var c=this._itemVisuals[a],d=c&&c[b];return null==d?this.getVisual(b):d},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(a,b){var c=this._itemVisuals,d=c[a];d||(d=c[a]={});var e=d[b];return null==e&&(aO(e=this.getVisual(b))?e=e.slice():pu(e)&&(e=aC({},e)),d[b]=e),e},a.prototype.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{};this._itemVisuals[a]=d,pu(b)?aC(d,b):d[b]=c},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(a,b){pu(a)?aC(this._layout,a):this._layout[a]=b},a.prototype.getLayout=function(a){return this._layout[a]},a.prototype.getItemLayout=function(a){return this._itemLayouts[a]},a.prototype.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?aC(this._itemLayouts[a]||{},b):b},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(a,b){gP(this.hostModel&&this.hostModel.seriesIndex,this.dataType,a,b),this._graphicEls[a]=b},a.prototype.getItemGraphicEl=function(a){return this._graphicEls[a]},a.prototype.eachItemGraphicEl=function(a,b){aH(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},a.prototype.cloneShallow=function(b){return b||(b=new a(this._schema?this._schema:aI(this.dimensions,this._getDimInfo,this),this.hostModel)),$(b,this),b._store=this._store,b},a.prototype.wrapMethod=function(a,b){var c=this[a];aP(c)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(a_(arguments)))})},a.internalField=void(W=function(a){var b=a._invertedIndicesMap;aH(b,function(c,d){var e=a._dimInfos[d],f=e.ordinalMeta,g=a._store;if(f){c=b[d]=new pv(f.categories.length);for(var h=0;h<c.length;h++)c[h]=-1;for(var h=0;h<g.count();h++)c[g.get(e.storeDimIndex,h)]=h}})},Y=function(a,b,c){return eW(a._getCategory(b,c),null)},X=function(a,b){var c=a._idList[b];return null==c&&null!=a._idDimIdx&&(c=Y(a,a._idDimIdx,b)),null==c&&(c="e\0\0"+b),c},Z=function(a){return aO(a)||(a=null!=a?[a]:[]),a},_=function(b){var c=new a(b._schema?b._schema:aI(b.dimensions,b._getDimInfo,b),b.hostModel);return $(c,b),c},$=function(a,b){aH(pw.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods,aH(px,function(c){a[c]=az(b[c])}),a._calculationInfo=aC({},b._calculationInfo)},aa=function(a,b){var c=a._nameList,d=a._idList,e=a._nameDimIdx,f=a._idDimIdx,g=c[b],h=d[b];if(null==g&&null!=e&&(c[b]=g=Y(a,e,b)),null==h&&null!=f&&(d[b]=h=Y(a,f,b)),null==h&&null!=g){var i=a._nameRepeatCount,j=i[g]=(i[g]||0)+1;h=g,j>1&&(h+="__ec__"+j),d[b]=h}}),a}();function pz(a,b){jO(a)||(a=jQ(a));var c,d,e,f,g,h=(b=b||{}).coordDimensions||[],i=b.dimensionsDefine||a.dimensionsDefine||[],j=a7(),k=[],l=(c=a,d=h,e=i,f=b.dimensionsCount,g=Math.max(c.dimensionsDetectedCount||1,d.length,e.length,f||0),aH(d,function(a){var b;aT(a)&&(b=a.dimsDef)&&(g=Math.max(g,b.length))}),g),m=b.canOmitUnusedDimensions&&l>30,n=i===a.dimensionsDefine,o=n?pt(a):ps(i),p=b.encodeDefine;!p&&b.encodeDefaulter&&(p=b.encodeDefaulter(a,l));for(var q=a7(p),r=new ko(l),s=0;s<r.length;s++)r[s]=-1;function t(a){var b=r[a];if(b<0){var c=i[a],d=aT(c)?c:{name:c},e=new pn,f=d.name;null!=f&&null!=o.get(f)&&(e.name=e.displayName=f),null!=d.type&&(e.type=d.type),null!=d.displayName&&(e.displayName=d.displayName);var g=k.length;return r[a]=g,e.storeDimIndex=a,k.push(e),e}return k[b]}if(!m)for(var s=0;s<l;s++)t(s);q.each(function(a,b){var c=eP(a).slice();if(1===c.length&&!aQ(c[0])&&c[0]<0)return void q.set(b,!1);var d=q.set(b,[]);aH(c,function(a,c){var e=aQ(a)?o.get(a):a;null!=e&&e<l&&(d[c]=e,v(t(e),b,c))})});var u=0;function v(a,b,c){null!=i$.get(b)?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,j.set(b,!0))}aH(h,function(a){if(aQ(a))e=a,d={};else{var b,c,d,e=(d=a).name,f=d.ordinalMeta;d.ordinalMeta=null,(d=aC({},d)).ordinalMeta=f,b=d.dimsDef,c=d.otherDims,d.name=d.coordDim=d.coordDimIndex=d.dimsDef=d.otherDims=null}var g=q.get(e);if(!1!==g){if(!(g=eP(g)).length)for(var h=0;h<(b&&b.length||1);h++){for(;u<l&&null!=t(u).coordDim;)u++;u<l&&g.push(u++)}aH(g,function(a,f){var g=t(a);if(n&&null!=d.type&&(g.type=d.type),v(aD(g,d),e,f),null==g.name&&b){var h=b[f];aT(h)||(h={name:h}),g.name=g.displayName=h.name,g.defaultTooltip=h.defaultTooltip}c&&aD(g.otherDims,c)})}});var w=b.generateCoord,x=b.generateCoordCount,y=null!=x;x=w?x||1:0;var z=w||"value";function A(a){null==a.name&&(a.name=a.coordDim)}if(m)aH(k,function(a){A(a)}),k.sort(function(a,b){return a.storeDimIndex-b.storeDimIndex});else for(var B=0;B<l;B++){var C=t(B);null==C.coordDim&&(C.coordDim=function(a,b,c){if(c||b.hasKey(a)){for(var d=0;b.hasKey(a+d);)d++;a+=d}return b.set(a,!0),a}(z,j,y),C.coordDimIndex=0,(!w||x<=0)&&(C.isExtraCoord=!0),x--),A(C),null==C.type&&(1===ja(a,B)||C.isExtraCoord&&(null!=C.otherDims.itemName||null!=C.otherDims.seriesName))&&(C.type="ordinal")}return function(a){for(var b=a7(),c=0;c<a.length;c++){var d=a[c],e=d.name,f=b.get(e)||0;f>0&&(d.name=e+(f-1)),f++,b.set(e,f)}}(k),new pq({source:a,dimensions:k,fullDimensionCount:l,dimensionOmitted:m})}var pA=function(a){this.coordSysDims=[],this.axisMap=a7(),this.categoryAxisMap=a7(),this.coordSysName=a},pB={cartesian2d:function(a,b,c,d){var e=a.getReferringComponents("xAxis",e2).models[0],f=a.getReferringComponents("yAxis",e2).models[0];b.coordSysDims=["x","y"],c.set("x",e),c.set("y",f),pC(e)&&(d.set("x",e),b.firstCategoryDimIndex=0),pC(f)&&(d.set("y",f),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=1))},singleAxis:function(a,b,c,d){var e=a.getReferringComponents("singleAxis",e2).models[0];b.coordSysDims=["single"],c.set("single",e),pC(e)&&(d.set("single",e),b.firstCategoryDimIndex=0)},polar:function(a,b,c,d){var e=a.getReferringComponents("polar",e2).models[0],f=e.findAxisModel("radiusAxis"),g=e.findAxisModel("angleAxis");b.coordSysDims=["radius","angle"],c.set("radius",f),c.set("angle",g),pC(f)&&(d.set("radius",f),b.firstCategoryDimIndex=0),pC(g)&&(d.set("angle",g),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=1))},geo:function(a,b,c,d){b.coordSysDims=["lng","lat"]},parallel:function(a,b,c,d){var e=a.ecModel,f=e.getComponent("parallel",a.get("parallelIndex")),g=b.coordSysDims=f.dimensions.slice();aH(f.parallelAxisIndex,function(a,f){var h=e.getComponent("parallelAxis",a),i=g[f];c.set(i,h),pC(h)&&(d.set(i,h),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=f))})}};function pC(a){return"category"===a.get("type")}function pD(a,b){return!!b&&b===a.getCalculationInfo("stackedDimension")}function pE(a,b){return pD(a,b)?a.getCalculationInfo("stackResultDimension"):b}let pF=function(a,b,c){c=c||{};var d,e,f,g,h,i,j,k,l=b.getSourceManager(),m=!1;a?(m=!0,k=jQ(a)):m=(k=l.getSource()).sourceFormat===i_;var n=function(a){var b=a.get("coordinateSystem"),c=new pA(b),d=pB[b];if(d)return d(a,c,c.axisMap,c.categoryAxisMap),c}(b),o=(e=b.get("coordinateSystem"),f=js.get(e),n&&n.coordSysDims&&(d=aI(n.coordSysDims,function(a){var b={name:a},c=n.axisMap.get(a);return c&&(b.type=pm(c.get("type"))),b})),d||(d=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"]),d),p=c.useEncodeDefaulter,q=aP(p)?p:p?aN(i7,o,b):null,r=pz(k,{coordDimensions:o,generateCoord:c.generateCoord,encodeDefine:b.getEncode(),encodeDefaulter:q,canOmitUnusedDimensions:!m}),s=(g=r.dimensions,h=c.createInvertedIndices,n&&aH(g,function(a,b){var c=a.coordDim,d=n.categoryAxisMap.get(c);d&&(null==i&&(i=b),a.ordinalMeta=d.getOrdinalMeta(),h&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(j=!0)}),j||null==i||(g[i].otherDims.itemName=0),i),t=m?null:l.getSharedDataStore(r),u=function(a,b,c){var d,e,f,g,h,i,j,k=(c=c||{}).byIndex,l=c.stackedCoordDimension;pr(b.schema)?(d=(e=b.schema).dimensions,f=b.store):d=b;var m=!!(a&&a.get("stack"));if(aH(d,function(a,b){aQ(a)&&(d[b]=a={name:a}),m&&!a.isExtraCoord&&(k||g||!a.ordinalMeta||(g=a),h||"ordinal"===a.type||"time"===a.type||l&&l!==a.coordDim||(h=a))}),!h||k||g||(k=!0),h){i="__\0ecstackresult_"+a.id,j="__\0ecstackedover_"+a.id,g&&(g.createInvertedIndices=!0);var n=h.coordDim,o=h.type,p=0;aH(d,function(a){a.coordDim===n&&p++});var q={name:i,coordDim:n,coordDimIndex:p,type:o,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:d.length},r={name:j,coordDim:j,coordDimIndex:p+1,type:o,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:d.length+1};e?(f&&(q.storeDimIndex=f.ensureCalculationDimension(j,o),r.storeDimIndex=f.ensureCalculationDimension(i,o)),e.appendCalculationDimension(q),e.appendCalculationDimension(r)):(d.push(q),d.push(r))}return{stackedDimension:h&&h.name,stackedByDimension:g&&g.name,isStackedByIndex:k,stackedOverDimension:j,stackResultDimension:i}}(b,{schema:r,store:t}),v=new py(r,b);v.setCalculationInfo(u);var w=null!=s&&function(a){if(a.sourceFormat===i_)return!aO(eS(function(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}(a.data||[])))}(k)?function(a,b,c,d){return d===s?c:this.defaultDimValueGetter(a,b,c,d)}:null;return v.hasItemOption=!1,v.initData(m?k:t,null,w),v};var pG=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return af(b,a),b.prototype.getInitialData=function(a){return pF(null,this,{useEncodeDefaulter:!0})},b.prototype.getLegendIcon=function(a){var b=new em,c=nm("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);b.add(c),c.setStyle(a.lineStyle);var d=this.getData().getVisual("symbol"),e=this.getData().getVisual("symbolRotate"),f="none"===d?"circle":d,g=.8*a.itemHeight,h=nm(f,(a.itemWidth-g)/2,(a.itemHeight-g)/2,g,g,a.itemStyle.fill);return b.add(h),h.setStyle(a.itemStyle),h.rotation=("inherit"===a.iconRotate?e:a.iconRotate||0)*Math.PI/180,h.setOrigin([a.itemWidth/2,a.itemHeight/2]),f.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),b},b.type="series.line",b.dependencies=["grid","polar"],b.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},b}(kR);function pH(a,b){var c=a.mapDimensionsAll("defaultedLabel"),d=c.length;if(1===d){var e=j1(a,b,c[0]);return null!=e?e+"":null}if(d){for(var f=[],g=0;g<c.length;g++)f.push(j1(a,b,c[g]));return f.join(" ")}}function pI(a,b){var c=a.mapDimensionsAll("defaultedLabel");if(!aO(b))return b+"";for(var d=[],e=0;e<c.length;e++){var f=a.getDimensionIndex(c[e]);f>=0&&d.push(b[f])}return d.join(" ")}var pJ=function(a){function b(b,c,d,e){var f=a.call(this)||this;return f.updateData(b,c,d,e),f}return af(b,a),b.prototype._createSymbol=function(a,b,c,d,e){this.removeAll();var f=nm(a,-1,-1,2,2,null,e);f.attr({z2:100,culling:!0,scaleX:d[0]/2,scaleY:d[1]/2}),f.drift=pK,this._symbolType=a,this.add(f)},b.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},b.prototype.getSymbolType=function(){return this._symbolType},b.prototype.getSymbolPath=function(){return this.childAt(0)},b.prototype.highlight=function(){hd(this.childAt(0))},b.prototype.downplay=function(){he(this.childAt(0))},b.prototype.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},b.prototype.setDraggable=function(a,b){var c=this.childAt(0);c.draggable=a,c.cursor=!b&&a?"move":c.cursor},b.prototype.updateData=function(a,c,d,e){this.silent=!1;var f=a.getItemVisual(c,"symbol")||"circle",g=a.hostModel,h=b.getSymbolSize(a,c),i=f!==this._symbolType,j=e&&e.disableAnimation;if(i){var k=a.getItemVisual(c,"symbolKeepAspect");this._createSymbol(f,a,c,h,k)}else{var l=this.childAt(0);l.silent=!1;var m={scaleX:h[0]/2,scaleY:h[1]/2};j?l.attr(m):hy(l,m,g,c),hE(l)}if(this._updateCommon(a,c,h,d,e),i){var l=this.childAt(0);if(!j){var m={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:l.style.opacity}};l.scaleX=l.scaleY=0,l.style.opacity=0,hz(l,m,g,c)}}j&&this.childAt(0).stopAnimation("leave")},b.prototype._updateCommon=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o=this.childAt(0),p=a.hostModel;if(d&&(f=d.emphasisItemStyle,g=d.blurItemStyle,h=d.selectItemStyle,i=d.focus,j=d.blurScope,l=d.labelStatesModels,m=d.hoverScale,n=d.cursorStyle,k=d.emphasisDisabled),!d||a.hasItemOption){var q=d&&d.itemModel?d.itemModel:a.getItemModel(b),r=q.getModel("emphasis");f=r.getModel("itemStyle").getItemStyle(),h=q.getModel(["select","itemStyle"]).getItemStyle(),g=q.getModel(["blur","itemStyle"]).getItemStyle(),i=r.get("focus"),j=r.get("blurScope"),k=r.get("disabled"),l=hJ(q),m=r.getShallow("scale"),n=q.getShallow("cursor")}var s=a.getItemVisual(b,"symbolRotate");o.attr("rotation",(s||0)*Math.PI/180||0);var t=no(a.getItemVisual(b,"symbolOffset"),c);t&&(o.x=t[0],o.y=t[1]),n&&o.attr("cursor",n);var u=a.getItemVisual(b,"style"),v=u.fill;if(o instanceof gr){var w=o.style;o.useStyle(aC({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},u))}else o.__isEmptyBrush?o.useStyle(aC({},u)):o.useStyle(u),o.style.decal=null,o.setColor(v,e&&e.symbolInnerColor),o.style.strokeNoScale=!0;var x=a.getItemVisual(b,"liftZ"),y=this._z2;null!=x?null==y&&(this._z2=o.z2,o.z2+=x):null!=y&&(o.z2=y,this._z2=null);var z=e&&e.useNameLabel;hI(o,l,{labelFetcher:p,labelDataIndex:b,defaultText:function(b){return z?a.getName(b):pH(a,b)},inheritColor:v,defaultOpacity:u.opacity}),this._sizeX=c[0]/2,this._sizeY=c[1]/2;var A=o.ensureState("emphasis");A.style=f,o.ensureState("select").style=h,o.ensureState("blur").style=g;var B=null==m||!0===m?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;A.scaleX=this._sizeX*B,A.scaleY=this._sizeY*B,this.setSymbolScale(1),hm(this,i,j,k)},b.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},b.prototype.fadeOut=function(a,b,c){var d=this.childAt(0),e=gO(this).dataIndex,f=c&&c.animation;if(this.silent=d.silent=!0,c&&c.fadeLabel){var g=d.getTextContent();g&&hB(g,{style:{opacity:0}},b,{dataIndex:e,removeOpt:f,cb:function(){d.removeTextContent()}})}else d.removeTextContent();hB(d,{style:{opacity:0},scaleX:0,scaleY:0},b,{dataIndex:e,cb:a,removeOpt:f})},b.getSymbolSize=function(a,b){return nn(a.getItemVisual(b,"symbolSize"))},b}(em);function pK(a,b){this.parent.drift(a,b)}function pL(a,b,c,d){return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d.isIgnore&&d.isIgnore(c))&&!(d.clipShape&&!d.clipShape.contain(b[0],b[1]))&&"none"!==a.getItemVisual(c,"symbol")}function pM(a){return null==a||aT(a)||(a={isIgnore:a}),a||{}}function pN(a){var b=a.hostModel,c=b.getModel("emphasis");return{emphasisItemStyle:c.getModel("itemStyle").getItemStyle(),blurItemStyle:b.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:b.getModel(["select","itemStyle"]).getItemStyle(),focus:c.get("focus"),blurScope:c.get("blurScope"),emphasisDisabled:c.get("disabled"),hoverScale:c.get("scale"),labelStatesModels:hJ(b),cursorStyle:b.get("cursor")}}var pO=function(){function a(a){this.group=new em,this._SymbolCtor=a||pJ}return a.prototype.updateData=function(a,b){this._progressiveEls=null,b=pM(b);var c=this.group,d=a.hostModel,e=this._data,f=this._SymbolCtor,g=b.disableAnimation,h=pN(a),i={disableAnimation:g},j=b.getSymbolPoint||function(b){return a.getItemLayout(b)};e||c.removeAll(),a.diff(e).add(function(d){var e=j(d);if(pL(a,e,d,b)){var g=new f(a,d,h,i);g.setPosition(e),a.setItemGraphicEl(d,g),c.add(g)}}).update(function(k,l){var m=e.getItemGraphicEl(l),n=j(k);if(!pL(a,n,k,b))return void c.remove(m);var o=a.getItemVisual(k,"symbol")||"circle",p=m&&m.getSymbolType&&m.getSymbolType();if(!m||p&&p!==o)c.remove(m),(m=new f(a,k,h,i)).setPosition(n);else{m.updateData(a,k,h,i);var q={x:n[0],y:n[1]};g?m.attr(q):hy(m,q,d)}c.add(m),a.setItemGraphicEl(k,m)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)},d)}).execute(),this._getSymbolPoint=j,this._data=a},a.prototype.updateLayout=function(){var a=this,b=this._data;b&&b.eachItemGraphicEl(function(b,c){var d=a._getSymbolPoint(c);b.setPosition(d),b.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=pN(a),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(a,b,c){function d(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],c=pM(c);for(var e=a.start;e<a.end;e++){var f=b.getItemLayout(e);if(pL(b,f,e,c)){var g=new this._SymbolCtor(b,e,this._seriesScope);g.traverse(d),g.setPosition(f),this.group.add(g),b.setItemGraphicEl(e,g),this._progressiveEls.push(g)}}},a.prototype.eachRendered=function(a){mp(this._progressiveEls||this.group,a)},a.prototype.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)},c.hostModel)}):b.removeAll()},a}();function pP(a,b,c){var d,e,f,g,h=a.getBaseAxis(),i=a.getOtherAxis(h),j=(d=i,e=c,f=0,g=d.scale.getExtent(),"start"===e?f=g[0]:"end"===e?f=g[1]:aS(e)&&!isNaN(e)?f=e:g[0]>0?f=g[0]:g[1]<0&&(f=g[1]),f),k=h.dim,l=i.dim,m=b.mapDimension(l),n=b.mapDimension(k),o=+("x"===l||"radius"===l),p=aI(a.dimensions,function(a){return b.mapDimension(a)}),q=!1,r=b.getCalculationInfo("stackResultDimension");return pD(b,p[0])&&(q=!0,p[0]=r),pD(b,p[1])&&(q=!0,p[1]=r),{dataDimsForPoint:p,valueStart:j,valueAxisDim:l,baseAxisDim:k,stacked:!!q,valueDim:m,baseDim:n,baseDataOffset:o,stackedOverDimension:b.getCalculationInfo("stackedOverDimension")}}function pQ(a,b,c,d){var e=NaN;a.stacked&&(e=c.get(c.getCalculationInfo("stackedOverDimension"),d)),isNaN(e)&&(e=a.valueStart);var f=a.baseDataOffset,g=[];return g[f]=c.get(a.baseDim,d),g[1-f]=e,b.dataToPoint(g)}var pR="undefined"!=typeof Float32Array,pS=pR?Float32Array:Array;function pT(a){return aO(a)?pR?new Float32Array(a):a:new pS(a)}var pU=Math.min,pV=Math.max;function pW(a,b){return isNaN(a)||isNaN(b)}function pX(a,b,c,d,e,f,g,h,i){for(var j,k,l,m,n,o,p=c,q=0;q<d;q++){var r=b[2*p],s=b[2*p+1];if(p>=e||p<0)break;if(pW(r,s)){if(i){p+=f;continue}break}if(p===c)a[f>0?"moveTo":"lineTo"](r,s),l=r,m=s;else{var t=r-j,u=s-k;if(t*t+u*u<.5){p+=f;continue}if(g>0){for(var v=p+f,w=b[2*v],x=b[2*v+1];w===r&&x===s&&q<d;)q++,v+=f,p+=f,w=b[2*v],x=b[2*v+1],r=b[2*p],s=b[2*p+1],t=r-j,u=s-k;var y=q+1;if(i)for(;pW(w,x)&&y<d;)y++,v+=f,w=b[2*v],x=b[2*v+1];var z=.5,A=0,B=0,C=void 0,D=void 0;if(y>=d||pW(w,x))n=r,o=s;else{A=w-j,B=x-k;var E=r-j,F=w-r,G=s-k,H=x-s,I=void 0,J=void 0;if("x"===h){I=Math.abs(E),J=Math.abs(F);var K=A>0?1:-1;n=r-K*I*g,o=s,C=r+K*J*g,D=s}else if("y"===h){I=Math.abs(G),J=Math.abs(H);var L=B>0?1:-1;n=r,o=s-L*I*g,C=r,D=s+L*J*g}else I=Math.sqrt(E*E+G*G),n=r-A*g*(1-(z=(J=Math.sqrt(F*F+H*H))/(J+I))),o=s-B*g*(1-z),C=r+A*g*z,D=s+B*g*z,C=pU(C,pV(w,r)),D=pU(D,pV(x,s)),C=pV(C,pU(w,r)),D=pV(D,pU(x,s)),A=C-r,B=D-s,n=r-A*I/J,o=s-B*I/J,n=pU(n,pV(j,r)),o=pU(o,pV(k,s)),n=pV(n,pU(j,r)),o=pV(o,pU(k,s)),A=r-n,B=s-o,C=r+A*J/I,D=s+B*J/I}a.bezierCurveTo(l,m,n,o,r,s),l=C,m=D}else a.lineTo(r,s)}j=r,k=s,p+=f}return q}var pY=function(){this.smooth=0,this.smoothConstraint=!0},pZ=function(a){function b(b){var c=a.call(this,b)||this;return c.type="ec-polyline",c}return af(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new pY},b.prototype.buildPath=function(a,b){var c=b.points,d=0,e=c.length/2;if(b.connectNulls){for(;e>0&&pW(c[2*e-2],c[2*e-1]);e--);for(;d<e&&pW(c[2*d],c[2*d+1]);d++);}for(;d<e;)d+=pX(a,c,d,e,e,1,b.smooth,b.smoothMonotone,b.connectNulls)+1},b.prototype.getPointOn=function(a,b){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var c,d,e=this.path.data,f=f7.CMD,g="x"===b,h=[],i=0;i<e.length;){var j=e[i++],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;switch(j){case f.M:c=e[i++],d=e[i++];break;case f.L:if(k=e[i++],l=e[i++],(q=g?(a-c)/(k-c):(a-d)/(l-d))<=1&&q>=0){var r=g?(l-d)*q+d:(k-c)*q+c;return g?[a,r]:[r,a]}c=k,d=l;break;case f.C:k=e[i++],l=e[i++],m=e[i++],n=e[i++],o=e[i++],p=e[i++];var s=g?cF(c,k,m,o,a,h):cF(d,l,n,p,a,h);if(s>0)for(var t=0;t<s;t++){var u=h[t];if(u<=1&&u>=0){var r=g?cD(d,l,n,p,u):cD(c,k,m,o,u);return g?[a,r]:[r,a]}}c=o,d=p}}},b}(gm),p$=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b}(pY),p_=function(a){function b(b){var c=a.call(this,b)||this;return c.type="ec-polygon",c}return af(b,a),b.prototype.getDefaultShape=function(){return new p$},b.prototype.buildPath=function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length/2,g=b.smoothMonotone;if(b.connectNulls){for(;f>0&&pW(c[2*f-2],c[2*f-1]);f--);for(;e<f&&pW(c[2*e],c[2*e+1]);e++);}for(;e<f;){var h=pX(a,c,e,f,f,1,b.smooth,g,b.connectNulls);pX(a,d,e+h-1,h,f,-1,b.stackedOnSmooth,g,b.connectNulls),e+=h+1,a.closePath()}},b}(gm);function p0(a,b,c,d,e){var f=a.getArea(),g=f.x,h=f.y,i=f.width,j=f.height,k=c.get(["lineStyle","width"])||2;g-=k/2,h-=k/2,i+=k,j+=k,i=Math.ceil(i),g!==Math.floor(g)&&(g=Math.floor(g),i++);var l=new gy({shape:{x:g,y:h,width:i,height:j}});if(b){var m=a.getBaseAxis(),n=m.isHorizontal(),o=m.inverse;n?(o&&(l.shape.x+=i),l.shape.width=0):(o||(l.shape.y+=j),l.shape.height=0);var p=aP(e)?function(a){e(a,l)}:null;hz(l,{shape:{width:i,height:j,x:g,y:h}},c,null,d,p)}return l}function p1(a,b,c){var d=a.getArea(),e=et(d.r0,1),f=et(d.r,1),g=new ly({shape:{cx:et(a.cx,1),cy:et(a.cy,1),r0:e,r:f,startAngle:d.startAngle,endAngle:d.endAngle,clockwise:d.clockwise}});return b&&("angle"===a.getBaseAxis().dim?g.shape.endAngle=d.startAngle:g.shape.r=e,hz(g,{shape:{endAngle:d.endAngle,r:f}},c)),g}function p2(a,b,c,d,e){if(a){if("polar"===a.type)return p1(a,b,c);else if("cartesian2d"===a.type)return p0(a,b,c,d,e)}return null}function p3(a,b){return a.type===b}function p4(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return;return!0}}function p5(a){for(var b=1/0,c=1/0,d=-1/0,e=-1/0,f=0;f<a.length;){var g=a[f++],h=a[f++];isNaN(g)||(b=Math.min(g,b),d=Math.max(g,d)),isNaN(h)||(c=Math.min(h,c),e=Math.max(h,e))}return[[b,c],[d,e]]}function p6(a,b){var c=p5(a),d=c[0],e=c[1],f=p5(b),g=f[0],h=f[1];return Math.max(Math.abs(d[0]-g[0]),Math.abs(d[1]-g[1]),Math.abs(e[0]-h[0]),Math.abs(e[1]-h[1]))}function p7(a){return aS(a)?a:.5*!!a}function p8(a,b,c,d){var e=b.getBaseAxis(),f=+("x"!==e.dim&&"radius"!==e.dim),g=[],h=0,i=[],j=[],k=[],l=[];if(d){for(h=0;h<a.length;h+=2)isNaN(a[h])||isNaN(a[h+1])||l.push(a[h],a[h+1]);a=l}for(h=0;h<a.length-2;h+=2)switch(k[0]=a[h+2],k[1]=a[h+3],j[0]=a[h],j[1]=a[h+1],g.push(j[0],j[1]),c){case"end":i[f]=k[f],i[1-f]=j[1-f],g.push(i[0],i[1]);break;case"middle":var m=(j[f]+k[f])/2,n=[];i[f]=n[f]=m,i[1-f]=j[1-f],n[1-f]=k[1-f],g.push(i[0],i[1]),g.push(n[0],n[1]);break;default:i[f]=j[f],i[1-f]=k[1-f],g.push(i[0],i[1])}return g.push(a[h++],a[h++]),g}function p9(a,b){return[a[2*b],a[2*b+1]]}function qa(a){if(a.get(["endLabel","show"]))return!0;for(var b=0;b<gU.length;b++)if(a.get([gU[b],"endLabel","show"]))return!0;return!1}function qb(a,b,c,d){if(!p3(b,"cartesian2d"))return p1(b,c,d);var e=d.getModel("endLabel"),f=e.get("valueAnimation"),g=d.getData(),h={lastFrameIndex:0},i=qa(d)?function(c,d){a._endLabelOnDuring(c,d,g,h,f,e,b)}:null,j=b.getBaseAxis().isHorizontal(),k=p0(b,c,d,function(){var b=a._endLabel;b&&c&&null!=h.originalX&&b.attr({x:h.originalX,y:h.originalY})},i);if(!d.get("clip",!0)){var l=k.shape,m=Math.max(l.width,l.height);j?(l.y-=m,l.height+=2*m):(l.x-=m,l.width+=2*m)}return i&&i(1,k),k}var qc=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.init=function(){var a=new em,b=new pO;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},b.prototype.render=function(a,b,c){var d,e=this,f=a.coordinateSystem,g=this.group,h=a.getData(),i=a.getModel("lineStyle"),j=a.getModel("areaStyle"),k=h.getLayout("points")||[],l="polar"===f.type,m=this._coordSys,n=this._symbolDraw,o=this._polyline,p=this._polygon,q=this._lineGroup,r=!b.ssr&&a.get("animation"),s=!j.isEmpty(),t=j.get("origin"),u=pP(f,h,t),v=s&&function(a,b,c){if(!c.valueDim)return[];for(var d=b.count(),e=pT(2*d),f=0;f<d;f++){var g=pQ(c,a,b,f);e[2*f]=g[0],e[2*f+1]=g[1]}return e}(f,h,u),w=a.get("showSymbol"),x=a.get("connectNulls"),y=w&&!l&&function(a,b,c){var d=a.get("showAllSymbol"),e="auto"===d;if(!d||e){var f=c.getAxesByScale("ordinal")[0];if(f&&!(e&&function(a,b){var c=a.getExtent(),d=Math.abs(c[1]-c[0])/a.scale.count();isNaN(d)&&(d=0);for(var e=b.count(),f=Math.max(1,Math.round(e/5)),g=0;g<e;g+=f)if(1.5*pJ.getSymbolSize(b,g)[+!!a.isHorizontal()]>d)return!1;return!0}(f,b))){var g=b.mapDimension(f.dim),h={};return aH(f.getViewLabels(),function(a){h[f.scale.getRawOrdinalNumber(a.tickValue)]=1}),function(a){return!h.hasOwnProperty(b.get(g,a))}}}}(a,h,f),z=this._data;z&&z.eachItemGraphicEl(function(a,b){a.__temp&&(g.remove(a),z.setItemGraphicEl(b,null))}),w||n.remove(),g.add(q);var A=!l&&a.get("step");f&&f.getArea&&a.get("clip",!0)&&(null!=(d=f.getArea()).width?(d.x-=.1,d.y-=.1,d.width+=.2,d.height+=.2):d.r0&&(d.r0-=.5,d.r+=.5)),this._clipShapeForSymbol=d;var B=function(a,b,c){var d,e,f=a.getVisual("visualMeta");if(f&&f.length&&a.count()){if("cartesian2d"!==b.type)return;for(var g=f.length-1;g>=0;g--){var h=a.getDimensionInfo(f[g].dimension);if("x"===(d=h&&h.coordDim)||"y"===d){e=f[g];break}}if(!e)return;var i=b.getAxis(d),j=aI(e.stops,function(a){return{coord:i.toGlobalCoord(i.dataToCoord(a.value)),color:a.color}}),k=j.length,l=e.outerColors.slice();k&&j[0].coord>j[k-1].coord&&(j.reverse(),l.reverse());var m=function(a,b){var c,d,e=[],f=a.length;function g(a,b,c){var d=a.coord,e=function(a,b,c){if(b&&b.length&&a>=0&&a<=1){var d,e,f,g,h=a*(b.length-1),i=Math.floor(h),j=Math.ceil(h),k=c3(b[i]),l=c3(b[j]),m=h-i;return c9([cV((d=k[0],d+(l[0]-d)*m)),cV((e=k[1],e+(l[1]-e)*m)),cV((f=k[2],f+(l[2]-f)*m)),cW((g=k[3],g+(l[3]-g)*m))],"rgba")}}((c-d)/(b.coord-d),[a.color,b.color]);return{coord:c,color:e}}for(var h=0;h<f;h++){var i=a[h],j=i.coord;if(j<0)c=i;else if(j>b){d?e.push(g(d,i,b)):c&&e.push(g(c,i,0),g(c,i,b));break}else c&&(e.push(g(c,i,0)),c=null),e.push(i),d=i}return e}(j,"x"===d?c.getWidth():c.getHeight()),n=m.length;if(!n&&k)return j[0].coord<0?l[1]?l[1]:j[k-1].color:l[0]?l[0]:j[0].color;var o=m[0].coord-10,p=m[n-1].coord+10,q=p-o;if(q<.001)return"transparent";aH(m,function(a){a.offset=(a.coord-o)/q}),m.push({offset:n?m[n-1].offset:.5,color:l[1]||"transparent"}),m.unshift({offset:n?m[0].offset:.5,color:l[0]||"transparent"});var r=new lR(0,0,0,0,m,!0);return r[d]=o,r[d+"2"]=p,r}}(h,f,c)||h.getVisual("style")[h.getVisual("drawType")];if(o&&m.type===f.type&&A===this._step){s&&!p?p=this._newPolygon(k,v):p&&!s&&(q.remove(p),p=this._polygon=null),l||this._initOrUpdateEndLabel(a,f,iI(B));var C=q.getClipPath();C?hz(C,{shape:qb(this,f,!1,a).shape},a):q.setClipPath(qb(this,f,!0,a)),w&&n.updateData(h,{isIgnore:y,clipShape:d,disableAnimation:!0,getSymbolPoint:function(a){return[k[2*a],k[2*a+1]]}}),p4(this._stackedOnPoints,v)&&p4(this._points,k)||(r?this._doUpdateAnimation(h,v,f,c,A,t,x):(A&&(k=p8(k,f,A,x),v&&(v=p8(v,f,A,x))),o.setShape({points:k}),p&&p.setShape({points:k,stackedOnPoints:v})))}else w&&n.updateData(h,{isIgnore:y,clipShape:d,disableAnimation:!0,getSymbolPoint:function(a){return[k[2*a],k[2*a+1]]}}),r&&this._initSymbolLabelAnimation(h,f,d),A&&(k=p8(k,f,A,x),v&&(v=p8(v,f,A,x))),o=this._newPolyline(k),s?p=this._newPolygon(k,v):p&&(q.remove(p),p=this._polygon=null),l||this._initOrUpdateEndLabel(a,f,iI(B)),q.setClipPath(qb(this,f,!0,a));var D=a.getModel("emphasis"),E=D.get("focus"),F=D.get("blurScope"),G=D.get("disabled");o.useStyle(aD(i.getLineStyle(),{fill:"none",stroke:B,lineJoin:"bevel"})),hq(o,a,"lineStyle"),o.style.lineWidth>0&&"bolder"===a.get(["emphasis","lineStyle","width"])&&(o.getState("emphasis").style.lineWidth=+o.style.lineWidth+1),gO(o).seriesIndex=a.seriesIndex,hm(o,E,F,G);var H=p7(a.get("smooth")),I=a.get("smoothMonotone");if(o.setShape({smooth:H,smoothMonotone:I,connectNulls:x}),p){var J=h.getCalculationInfo("stackedOnSeries"),K=0;p.useStyle(aD(j.getAreaStyle(),{fill:B,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),J&&(K=p7(J.get("smooth"))),p.setShape({smooth:H,stackedOnSmooth:K,smoothMonotone:I,connectNulls:x}),hq(p,a,"areaStyle"),gO(p).seriesIndex=a.seriesIndex,hm(p,E,F,G)}var L=function(a){e._changePolyState(a)};h.eachItemGraphicEl(function(a){a&&(a.onHoverStateChange=L)}),this._polyline.onHoverStateChange=L,this._data=h,this._coordSys=f,this._stackedOnPoints=v,this._points=k,this._step=A,this._valueOrigin=t,a.get("triggerLineEvent")&&(this.packEventData(a,o),p&&this.packEventData(a,p))},b.prototype.packEventData=function(a,b){gO(b).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},b.prototype.highlight=function(a,b,c,d){var e=a.getData(),f=eZ(e,d);if(this._changePolyState("emphasis"),f instanceof Array||null==f||!(f>=0))ms.prototype.highlight.call(this,a,b,c,d);else{var g=e.getLayout("points"),h=e.getItemGraphicEl(f);if(!h){var i=g[2*f],j=g[2*f+1];if(isNaN(i)||isNaN(j)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(i,j))return;var k=a.get("zlevel")||0,l=a.get("z")||0;(h=new pJ(e,f)).x=i,h.y=j,h.setZ(k,l);var m=h.getSymbolPath().getTextContent();m&&(m.zlevel=k,m.z=l,m.z2=this._polyline.z2+1),h.__temp=!0,e.setItemGraphicEl(f,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}},b.prototype.downplay=function(a,b,c,d){var e=a.getData(),f=eZ(e,d);if(this._changePolyState("normal"),null!=f&&f>=0){var g=e.getItemGraphicEl(f);g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())}else ms.prototype.downplay.call(this,a,b,c,d)},b.prototype._changePolyState=function(a){var b=this._polygon;g8(this._polyline,a),b&&g8(b,a)},b.prototype._newPolyline=function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new pZ({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(b),this._polyline=b,b},b.prototype._newPolygon=function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new p_({shape:{points:a,stackedOnPoints:b},segmentIgnoreThreshold:2}),this._lineGroup.add(c),this._polygon=c,c},b.prototype._initSymbolLabelAnimation=function(a,b,c){var d,e,f=b.getBaseAxis(),g=f.inverse;"cartesian2d"===b.type?(d=f.isHorizontal(),e=!1):"polar"===b.type&&(d="angle"===f.dim,e=!0);var h=a.hostModel,i=h.get("animationDuration");aP(i)&&(i=i(null));var j=h.get("animationDelay")||0,k=aP(j)?j(null):j;a.eachItemGraphicEl(function(a,f){if(a){var h=[a.x,a.y],l=void 0,m=void 0,n=void 0;if(c)if(e){var o=b.pointToCoord(h);d?(l=c.startAngle,m=c.endAngle,n=-o[1]/180*Math.PI):(l=c.r0,m=c.r,n=o[0])}else d?(l=c.x,m=c.x+c.width,n=a.x):(l=c.y+c.height,m=c.y,n=a.y);var p=m===l?0:(n-l)/(m-l);g&&(p=1-p);var q=aP(j)?j(f):i*p+k,r=a.getSymbolPath(),s=r.getTextContent();a.attr({scaleX:0,scaleY:0}),a.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:q}),s&&s.animateFrom({style:{opacity:0}},{duration:300,delay:q}),r.disableLabelAnimation=!0}})},b.prototype._initOrUpdateEndLabel=function(a,b,c){var d=a.getModel("endLabel");if(qa(a)){var e,f,g,h=a.getData(),i=this._polyline,j=h.getLayout("points");if(!j){i.removeTextContent(),this._endLabel=null;return}var k=this._endLabel;k||((k=this._endLabel=new gB({z2:200})).ignoreClip=!0,i.setTextContent(this._endLabel),i.disableLabelAnimation=!0);var l=function(a){for(var b,c,d=a.length/2;d>0&&(b=a[2*d-2],c=a[2*d-1],isNaN(b)||isNaN(c));d--);return d-1}(j);l>=0&&(hI(i,hJ(a,"endLabel"),{inheritColor:c,labelFetcher:a,labelDataIndex:l,defaultText:function(a,b,c){return null!=c?pI(h,c):pH(h,a)},enableTextSetter:!0},(f=(e=b.getBaseAxis()).isHorizontal(),g=e.inverse,{normal:{align:d.get("align")||(f?g?"right":"left":"center"),verticalAlign:d.get("verticalAlign")||(f?"middle":g?"top":"bottom")}})),i.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},b.prototype._endLabelOnDuring=function(a,b,c,d,e,f,g){var h=this._endLabel,i=this._polyline;if(h){a<1&&null==d.originalX&&(d.originalX=h.x,d.originalY=h.y);var j=c.getLayout("points"),k=c.hostModel,l=k.get("connectNulls"),m=f.get("precision"),n=f.get("distance")||0,o=g.getBaseAxis(),p=o.isHorizontal(),q=o.inverse,r=b.shape,s=q?p?r.x:r.y+r.height:p?r.x+r.width:r.y,t=(p?n:0)*(q?-1:1),u=(p?0:-n)*(q?-1:1),v=p?"x":"y",w=function(a,b,c){for(var d,e,f=a.length/2,g=+("x"!==c),h=0,i=-1,j=0;j<f;j++)if(!(isNaN(e=a[2*j+g])||isNaN(a[2*j+1-g]))){if(0===j){d=e;continue}if(d<=b&&e>=b||d>=b&&e<=b){i=j;break}h=j,d=e}return{range:[h,i],t:(b-d)/(e-d)}}(j,s,v),x=w.range,y=x[1]-x[0],z=void 0;if(y>=1){if(y>1&&!l){var A=p9(j,x[0]);h.attr({x:A[0]+t,y:A[1]+u}),e&&(z=k.getRawValue(x[0]))}else{var A=i.getPointOn(s,v);A&&h.attr({x:A[0]+t,y:A[1]+u});var B=k.getRawValue(x[0]),C=k.getRawValue(x[1]);e&&(z=e6(c,m,B,C,w.t))}d.lastFrameIndex=x[0]}else{var D=1===a||d.lastFrameIndex>0?x[0]:0,A=p9(j,D);e&&(z=k.getRawValue(D)),h.attr({x:A[0]+t,y:A[1]+u})}if(e){var E=hR(h);"function"==typeof E.setLabelText&&E.setLabelText(z)}}},b.prototype._doUpdateAnimation=function(a,b,c,d,e,f,g){var h=this._polyline,i=this._polygon,j=a.hostModel,k=function(a,b,c,d,e,f,g,h){for(var i,j=(i=[],b.diff(a).add(function(a){i.push({cmd:"+",idx:a})}).update(function(a,b){i.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){i.push({cmd:"-",idx:a})}).execute(),i),k=[],l=[],m=[],n=[],o=[],p=[],q=[],r=pP(e,b,g),s=a.getLayout("points")||[],t=b.getLayout("points")||[],u=0;u<j.length;u++){var v=j[u],w=!0,x=void 0,y=void 0;switch(v.cmd){case"=":x=2*v.idx,y=2*v.idx1;var z=s[x],A=s[x+1],B=t[y],C=t[y+1];(isNaN(z)||isNaN(A))&&(z=B,A=C),k.push(z,A),l.push(B,C),m.push(c[x],c[x+1]),n.push(d[y],d[y+1]),q.push(b.getRawIndex(v.idx1));break;case"+":var D=v.idx,E=r.dataDimsForPoint,F=e.dataToPoint([b.get(E[0],D),b.get(E[1],D)]);y=2*D,k.push(F[0],F[1]),l.push(t[y],t[y+1]);var G=pQ(r,e,b,D);m.push(G[0],G[1]),n.push(d[y],d[y+1]),q.push(b.getRawIndex(D));break;case"-":w=!1}w&&(o.push(v),p.push(p.length))}p.sort(function(a,b){return q[a]-q[b]});for(var H=k.length,I=pT(H),J=pT(H),K=pT(H),L=pT(H),M=[],u=0;u<p.length;u++){var N=p[u],O=2*u,P=2*N;I[O]=k[P],I[O+1]=k[P+1],J[O]=l[P],J[O+1]=l[P+1],K[O]=m[P],K[O+1]=m[P+1],L[O]=n[P],L[O+1]=n[P+1],M[u]=o[N]}return{current:I,next:J,stackedOnCurrent:K,stackedOnNext:L,status:M}}(this._data,a,this._stackedOnPoints,b,this._coordSys,0,this._valueOrigin,0),l=k.current,m=k.stackedOnCurrent,n=k.next,o=k.stackedOnNext;if(e&&(l=p8(k.current,c,e,g),m=p8(k.stackedOnCurrent,c,e,g),n=p8(k.next,c,e,g),o=p8(k.stackedOnNext,c,e,g)),p6(l,n)>3e3||i&&p6(m,o)>3e3){h.stopAnimation(),h.setShape({points:n}),i&&(i.stopAnimation(),i.setShape({points:n,stackedOnPoints:o}));return}h.shape.__points=k.current,h.shape.points=l;var p={shape:{points:n}};k.current!==l&&(p.shape.__points=k.next),h.stopAnimation(),hy(h,p,j),i&&(i.setShape({points:l,stackedOnPoints:m}),i.stopAnimation(),hy(i,{shape:{stackedOnPoints:o}},j),h.shape.points!==i.shape.points&&(i.shape.points=h.shape.points));for(var q=[],r=k.status,s=0;s<r.length;s++)if("="===r[s].cmd){var t=a.getItemGraphicEl(r[s].idx1);t&&q.push({el:t,ptIdx:s})}h.animators&&h.animators.length&&h.animators[0].during(function(){i&&i.dirtyShape();for(var a=h.shape.__points,b=0;b<q.length;b++){var c=q[b].el,d=2*q[b].ptIdx;c.x=a[d],c.y=a[d+1],c.markRedraw()}})},b.prototype.remove=function(a){var b=this.group,c=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},b.type="line",b}(ms);function qd(a,b){return{seriesType:a,plan:k$(),reset:function(a){var c=a.getData(),d=a.coordinateSystem,e=a.pipelineContext,f=b||e.large;if(d){var g=aI(d.dimensions,function(a){return c.mapDimension(a)}).slice(0,2),h=g.length,i=c.getCalculationInfo("stackResultDimension");pD(c,g[0])&&(g[0]=i),pD(c,g[1])&&(g[1]=i);var j=c.getStore(),k=c.getDimensionIndex(g[0]),l=c.getDimensionIndex(g[1]);return h&&{progress:function(a,b){for(var c=a.end-a.start,e=f&&pT(c*h),g=[],i=[],m=a.start,n=0;m<a.end;m++){var o=void 0;if(1===h){var p=j.get(k,m);o=d.dataToPoint(p,null,i)}else g[0]=j.get(k,m),g[1]=j.get(l,m),o=d.dataToPoint(g,null,i);f?(e[n++]=o[0],e[n++]=o[1]):b.setItemLayout(m,o.slice())}f&&b.setLayout("points",e)}}}}}}var qe={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)!isNaN(a[d])&&(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return isFinite(b)?b:NaN},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return isFinite(b)?b:NaN},minmax:function(a){for(var b=-1/0,c=-1/0,d=0;d<a.length;d++){var e=a[d],f=Math.abs(e);f>b&&(b=f,c=e)}return isFinite(c)?c:NaN},nearest:function(a){return a[0]}},qf=function(a){return Math.round(a.length/2)};function qg(a){return{seriesType:a,reset:function(a,b,c){var d=a.getData(),e=a.get("sampling"),f=a.coordinateSystem,g=d.count();if(g>10&&"cartesian2d"===f.type&&e){var h=f.getBaseAxis(),i=f.getOtherAxis(h),j=h.getExtent(),k=c.getDevicePixelRatio(),l=Math.round(g/(Math.abs(j[1]-j[0])*(k||1)));if(isFinite(l)&&l>1){"lttb"===e&&a.setData(d.lttbDownSample(d.mapDimension(i.dim),1/l));var m=void 0;aQ(e)?m=qe[e]:aP(e)&&(m=e),m&&a.setData(d.downSample(d.mapDimension(i.dim),1/l,m,qf))}}}}}var qh="__ec_stack_";function qi(a){return a.get("stack")||qh+a.seriesIndex}function qj(a){return a.dim+a.index}function qk(a,b){var c=[];return b.eachSeriesByType(a,function(a){qp(a)&&c.push(a)}),c}function ql(a){var b=function(a){var b={};aH(a,function(a){var c=a.coordinateSystem.getBaseAxis();if("time"===c.type||"value"===c.type)for(var d=a.getData(),e=c.dim+"_"+c.index,f=d.getDimensionIndex(d.mapDimension(c.dim)),g=d.getStore(),h=0,i=g.count();h<i;++h){var j=g.get(f,h);b[e]?b[e].push(j):b[e]=[j]}});var c={};for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(e){e.sort(function(a,b){return a-b});for(var f=null,g=1;g<e.length;++g){var h=e[g]-e[g-1];h>0&&(f=null===f?h:Math.min(f,h))}c[d]=f}}return c}(a),c=[];return aH(a,function(a){var d,e=a.coordinateSystem.getBaseAxis(),f=e.getExtent();if("category"===e.type)d=e.getBandWidth();else if("value"===e.type||"time"===e.type){var g=b[e.dim+"_"+e.index],h=Math.abs(f[1]-f[0]),i=e.scale.getExtent(),j=Math.abs(i[1]-i[0]);d=g?h/j*g:h}else{var k=a.getData();d=Math.abs(f[1]-f[0])/k.count()}var l=es(a.get("barWidth"),d),m=es(a.get("barMaxWidth"),d),n=es(a.get("barMinWidth")||(qq(a)?.5:1),d),o=a.get("barGap"),p=a.get("barCategoryGap");c.push({bandWidth:d,barWidth:l,barMaxWidth:m,barMinWidth:n,barGap:o,barCategoryGap:p,axisKey:qj(e),stackId:qi(a)})}),qm(c)}function qm(a){var b={};aH(a,function(a,c){var d=a.axisKey,e=a.bandWidth,f=b[d]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},g=f.stacks;b[d]=f;var h=a.stackId;!g[h]&&f.autoWidthCount++,g[h]=g[h]||{width:0,maxWidth:0};var i=a.barWidth;i&&!g[h].width&&(g[h].width=i,i=Math.min(f.remainedWidth,i),f.remainedWidth-=i);var j=a.barMaxWidth;j&&(g[h].maxWidth=j);var k=a.barMinWidth;k&&(g[h].minWidth=k);var l=a.barGap;null!=l&&(f.gap=l);var m=a.barCategoryGap;null!=m&&(f.categoryGap=m)});var c={};return aH(b,function(a,b){c[b]={};var d,e=a.stacks,f=a.bandWidth,g=a.categoryGap;null==g&&(g=Math.max(35-4*aL(e).length,15)+"%");var h=es(g,f),i=es(a.gap,1),j=a.remainedWidth,k=a.autoWidthCount,l=(j-h)/(k+(k-1)*i);l=Math.max(l,0),aH(e,function(a){var b=a.maxWidth,c=a.minWidth;if(a.width){var d=a.width;b&&(d=Math.min(d,b)),c&&(d=Math.max(d,c)),a.width=d,j-=d+i*d,k--}else{var d=l;b&&b<d&&(d=Math.min(b,j)),c&&c>d&&(d=c),d!==l&&(a.width=d,j-=d+i*d,k--)}}),l=Math.max(l=(j-h)/(k+(k-1)*i),0);var m=0;aH(e,function(a,b){a.width||(a.width=l),d=a,m+=a.width*(1+i)}),d&&(m-=d.width*i);var n=-m/2;aH(e,function(a,d){c[b][d]=c[b][d]||{bandWidth:f,offset:n,width:a.width},n+=a.width*(1+i)})}),c}function qn(a,b){var c=qk(a,b),d=ql(c);aH(c,function(a){var b=a.getData(),c=a.coordinateSystem.getBaseAxis(),e=qi(a),f=d[qj(c)][e],g=f.offset,h=f.width;b.setLayout({bandWidth:f.bandWidth,offset:g,size:h})})}function qo(a){return{seriesType:a,plan:k$(),reset:function(a){if(qp(a)){var b,c=a.getData(),d=a.coordinateSystem,e=d.getBaseAxis(),f=d.getOtherAxis(e),g=c.getDimensionIndex(c.mapDimension(f.dim)),h=c.getDimensionIndex(c.mapDimension(e.dim)),i=a.get("showBackground",!0),j=c.mapDimension(f.dim),k=c.getCalculationInfo("stackResultDimension"),l=pD(c,j)&&!!c.getCalculationInfo("stackedOnSeries"),m=f.isHorizontal(),n=(b=f).toGlobalCoord(b.dataToCoord(+("log"===b.type))),o=qq(a),p=a.get("barMinHeight")||0,q=k&&c.getDimensionIndex(k),r=c.getLayout("size"),s=c.getLayout("offset");return{progress:function(a,b){for(var c,e=a.count,f=o&&pT(3*e),j=o&&i&&pT(3*e),k=o&&pT(e),t=d.master.getRect(),u=m?t.width:t.height,v=b.getStore(),w=0;null!=(c=a.next());){var x=v.get(l?q:g,c),y=v.get(h,c),z=n,A=void 0;l&&(A=x-v.get(g,c));var B=void 0,C=void 0,D=void 0,E=void 0;if(m){var F=d.dataToPoint([x,y]);if(l){var G=d.dataToPoint([A,y]);z=G[0]}B=z,C=F[1]+s,D=F[0]-z,E=r,Math.abs(D)<p&&(D=(D<0?-1:1)*p)}else{var F=d.dataToPoint([y,x]);if(l){var G=d.dataToPoint([y,A]);z=G[1]}B=F[0]+s,C=z,D=r,Math.abs(E=F[1]-z)<p&&(E=(E<=0?-1:1)*p)}o?(f[w]=B,f[w+1]=C,f[w+2]=m?D:E,j&&(j[w]=m?t.x:B,j[w+1]=m?C:t.y,j[w+2]=u),k[c]=c):b.setItemLayout(c,{x:B,y:C,width:D,height:E}),w+=3}o&&b.setLayout({largePoints:f,largeDataIndices:k,largeBackgroundPoints:j,valueAxisHorizontal:m})}}}}}}function qp(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function qq(a){return a.pipelineContext&&a.pipelineContext.large}var qr=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.getInitialData=function(a,b){return pF(null,this,{useEncodeDefaulter:!0})},b.prototype.getMarkerPosition=function(a,b,c){var d=this.coordinateSystem;if(d&&d.clampData){var e=d.clampData(a),f=d.dataToPoint(e);if(c)aH(d.getAxes(),function(a,c){if("category"===a.type&&null!=b){var d=a.getTicksCoords(),g=a.getTickModel().get("alignWithLabel"),h=e[c],i="x1"===b[c]||"y1"===b[c];if(i&&!g&&(h+=1),!(d.length<2)){if(2===d.length){f[c]=a.toGlobalCoord(a.getExtent()[+!!i]);return}for(var j=void 0,k=void 0,l=1,m=0;m<d.length;m++){var n=d[m].coord,o=m===d.length-1?d[m-1].tickValue+l:d[m].tickValue;if(o===h){k=n;break}if(o<h)j=n;else if(null!=j&&o>h){k=(n+j)/2;break}1===m&&(l=o-d[0].tickValue)}null==k&&(j?j&&(k=d[d.length-1].coord):k=d[0].coord),f[c]=a.toGlobalCoord(k)}}});else{var g=this.getData(),h=g.getLayout("offset"),i=g.getLayout("size"),j=+!d.getBaseAxis().isHorizontal();f[j]+=h+i/2}return f}return[NaN,NaN]},b.type="series.__base_bar__",b.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},b}(kR);kR.registerClass(qr);var qs=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.getInitialData=function(){return pF(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},b.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},b.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a},b.prototype.brushSelector=function(a,b,c){return c.rect(b.getItemLayout(a))},b.type="series.bar",b.dependencies=["grid","polar"],b.defaultOption=h5(qr.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),b}(qr),qt=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},qu=function(a){function b(b){var c=a.call(this,b)||this;return c.type="sausage",c}return af(b,a),b.prototype.getDefaultShape=function(){return new qt},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=(f-e)*.5,h=e+g,i=b.startAngle,j=b.endAngle,k=b.clockwise,l=2*Math.PI,m=k?j-i<l:i-j<l;m||(i=j-(k?l:-l));var n=Math.cos(i),o=Math.sin(i),p=Math.cos(j),q=Math.sin(j);m?(a.moveTo(n*e+c,o*e+d),a.arc(n*h+c,o*h+d,g,-Math.PI+i,i,!k)):a.moveTo(n*f+c,o*f+d),a.arc(c,d,f,i,j,!k),a.arc(p*h+c,q*h+d,g,j-2*Math.PI,j-Math.PI,!k),0!==e&&a.arc(c,d,e,j,i,k)},b}(gm);function qv(a,b,c){return b*Math.sin(a)*(c?-1:1)}function qw(a,b,c){return b*Math.cos(a)*(c?1:-1)}function qx(a,b,c){var d=a.get("borderRadius");if(null==d)return c?{cornerRadius:0}:null;aO(d)||(d=[d,d,d,d]);var e=Math.abs(b.r||0-b.r0||0);return{cornerRadius:aI(d,function(a){return ec(a,e)})}}var qy=Math.max,qz=Math.min,qA=function(a){function b(){var c=a.call(this)||this;return c.type=b.type,c._isFirstFrame=!0,c}return af(b,a),b.prototype.render=function(a,b,c,d){this._model=a,this._removeOnRenderedListener(c),this._updateDrawMode(a);var e=a.get("coordinateSystem");("cartesian2d"===e||"polar"===e)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c,d))},b.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},b.prototype.incrementalRender=function(a,b){this._progressiveEls=[],this._incrementalRenderLarge(a,b)},b.prototype.eachRendered=function(a){mp(this._progressiveEls||this.group,a)},b.prototype._updateDrawMode=function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b!==this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},b.prototype._renderNormal=function(a,b,c,d){var e,f=this.group,g=a.getData(),h=this._data,i=a.coordinateSystem,j=i.getBaseAxis();"cartesian2d"===i.type?e=j.isHorizontal():"polar"===i.type&&(e="angle"===j.dim);var k=a.isAnimationEnabled()?a:null,l=function(a,b){var c=a.get("realtimeSort",!0),d=b.getBaseAxis();if(c&&"category"===d.type&&"cartesian2d"===b.type)return{baseAxis:d,otherAxis:b.getOtherAxis(d)}}(a,i);l&&this._enableRealtimeSort(l,g,c);var m=a.get("clip",!0)||l,n=function(a,b){var c=a.getArea&&a.getArea();if(p3(a,"cartesian2d")){var d=a.getBaseAxis();if("category"!==d.type||!d.onBand){var e=b.getLayout("bandWidth");d.isHorizontal()?(c.x-=e,c.width+=2*e):(c.y-=e,c.height+=2*e)}}return c}(i,g);f.removeClipPath();var o=a.get("roundCap",!0),p=a.get("showBackground",!0),q=a.getModel("backgroundStyle"),r=q.get("borderRadius")||0,s=[],t=this._backgroundEls,u=d&&d.isInitSort,v=d&&"changeAxisOrder"===d.type;function w(a){var b,c,d,f=qI[i.type](g,a),h=(b=i,c=e,d=f,new("polar"===b.type?ly:gy)({shape:qP(c,d,b),silent:!0,z2:0}));return h.useStyle(q.getItemStyle()),"cartesian2d"===i.type?h.setShape("r",r):h.setShape("cornerRadius",r),s[a]=h,h}g.diff(h).add(function(b){var c=g.getItemModel(b),d=qI[i.type](g,b,c);if(p&&w(b),g.hasValue(b)&&qH[i.type](d)){var h=!1;m&&(h=qB[i.type](n,d));var q=qC[i.type](a,g,b,d,e,k,j.model,!1,o);l&&(q.forceLabelAnimation=!0),qK(q,g,b,c,d,a,e,"polar"===i.type),u?q.attr({shape:d}):l?qD(l,k,q,d,b,e,!1,!1):hz(q,{shape:d},a,b),g.setItemGraphicEl(b,q),f.add(q),q.ignore=h}}).update(function(b,c){var d=g.getItemModel(b),x=qI[i.type](g,b,d);if(p){var y=void 0;0===t.length?y=w(c):((y=t[c]).useStyle(q.getItemStyle()),"cartesian2d"===i.type?y.setShape("r",r):y.setShape("cornerRadius",r),s[b]=y);var z=qI[i.type](g,b);hy(y,{shape:qP(e,z,i)},k,b)}var A=h.getItemGraphicEl(c);if(!g.hasValue(b)||!qH[i.type](x))return void f.remove(A);var B=!1;if(m&&(B=qB[i.type](n,x))&&f.remove(A),A?hE(A):A=qC[i.type](a,g,b,x,e,k,j.model,!!A,o),l&&(A.forceLabelAnimation=!0),v){var C=A.getTextContent();if(C){var D=hR(C);null!=D.prevValue&&(D.prevValue=D.value)}}else qK(A,g,b,d,x,a,e,"polar"===i.type);u?A.attr({shape:x}):l?qD(l,k,A,x,b,e,!0,v):hy(A,{shape:x},a,b,null),g.setItemGraphicEl(b,A),A.ignore=B,f.add(A)}).remove(function(b){var c=h.getItemGraphicEl(b);c&&hD(c,a,b)}).execute();var x=this._backgroundGroup||(this._backgroundGroup=new em);x.removeAll();for(var y=0;y<s.length;++y)x.add(s[y]);f.add(x),this._backgroundEls=s,this._data=g},b.prototype._renderLarge=function(a,b,c){this._clear(),qN(a,this.group),this._updateLargeClip(a)},b.prototype._incrementalRenderLarge=function(a,b){this._removeBackground(),qN(b,this.group,this._progressiveEls,!0)},b.prototype._updateLargeClip=function(a){var b=a.get("clip",!0)&&p2(a.coordinateSystem,!1,a),c=this.group;b?c.setClipPath(b):c.removeClipPath()},b.prototype._enableRealtimeSort=function(a,b,c){var d=this;if(b.count()){var e=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(b,a,c),this._isFirstFrame=!1;else{var f=function(a){var c=b.getItemGraphicEl(a),d=c&&c.shape;return d&&Math.abs(e.isHorizontal()?d.height:d.width)||0};this._onRendered=function(){d._updateSortWithinSameData(b,f,e,c)},c.getZr().on("rendered",this._onRendered)}}},b.prototype._dataSort=function(a,b,c){var d=[];return a.each(a.mapDimension(b.dim),function(a,b){var e=c(b);e=null==e?NaN:e,d.push({dataIndex:b,mappedValue:e,ordinalNumber:a})}),d.sort(function(a,b){return b.mappedValue-a.mappedValue}),{ordinalNumbers:aI(d,function(a){return a.ordinalNumber})}},b.prototype._isOrderChangedWithinSameData=function(a,b,c){for(var d=c.scale,e=a.mapDimension(c.dim),f=Number.MAX_VALUE,g=0,h=d.getOrdinalMeta().categories.length;g<h;++g){var i=a.rawIndexOf(e,d.getRawOrdinalNumber(g)),j=i<0?5e-324:b(a.indexOfRawIndex(i));if(j>f)return!0;f=j}return!1},b.prototype._isOrderDifferentInView=function(a,b){for(var c=b.scale,d=c.getExtent(),e=Math.max(0,d[0]),f=Math.min(d[1],c.getOrdinalMeta().categories.length-1);e<=f;++e)if(a.ordinalNumbers[e]!==c.getRawOrdinalNumber(e))return!0},b.prototype._updateSortWithinSameData=function(a,b,c,d){if(this._isOrderChangedWithinSameData(a,b,c)){var e=this._dataSort(a,c,b);this._isOrderDifferentInView(e,c)&&(this._removeOnRenderedListener(d),d.dispatchAction({type:"changeAxisOrder",componentType:c.dim+"Axis",axisId:c.index,sortInfo:e}))}},b.prototype._dispatchInitSort=function(a,b,c){var d=b.baseAxis,e=this._dataSort(a,d,function(c){return a.get(a.mapDimension(b.otherAxis.dim),c)});c.dispatchAction({type:"changeAxisOrder",componentType:d.dim+"Axis",isInitSort:!0,axisId:d.index,sortInfo:e})},b.prototype.remove=function(a,b){this._clear(this._model),this._removeOnRenderedListener(b)},b.prototype.dispose=function(a,b){this._removeOnRenderedListener(b)},b.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},b.prototype._clear=function(a){var b=this.group,c=this._data;a&&a.isAnimationEnabled()&&c&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],c.eachItemGraphicEl(function(b){hD(b,a,gO(b).dataIndex)})):b.removeAll(),this._data=null,this._isFirstFrame=!0},b.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},b.type="bar",b}(ms),qB={cartesian2d:function(a,b){var c=b.width<0?-1:1,d=b.height<0?-1:1;c<0&&(b.x+=b.width,b.width=-b.width),d<0&&(b.y+=b.height,b.height=-b.height);var e=a.x+a.width,f=a.y+a.height,g=qy(b.x,a.x),h=qz(b.x+b.width,e),i=qy(b.y,a.y),j=qz(b.y+b.height,f),k=h<g,l=j<i;return b.x=k&&g>e?h:g,b.y=l&&i>f?j:i,b.width=k?0:h-g,b.height=l?0:j-i,c<0&&(b.x+=b.width,b.width=-b.width),d<0&&(b.y+=b.height,b.height=-b.height),k||l},polar:function(a,b){var c=b.r0<=b.r?1:-1;if(c<0){var d=b.r;b.r=b.r0,b.r0=d}var e=qz(b.r,a.r),f=qy(b.r0,a.r0);b.r=e,b.r0=f;var g=e-f<0;if(c<0){var d=b.r;b.r=b.r0,b.r0=d}return g}},qC={cartesian2d:function(a,b,c,d,e,f,g,h,i){var j=new gy({shape:aC({},d),z2:1});return j.__dataIndex=c,j.name="item",f&&(j.shape[e?"height":"width"]=0),j},polar:function(a,b,c,d,e,f,g,h,i){var j,k,l=!e&&i?qu:ly,m=new l({shape:d,z2:1});if(m.name="item",j=qJ(e),k=l===qu,m.calculateTextPosition=function(a,b,c){var d=b.position;if(!d||d instanceof Array)return ed(a,b,c);var e=j(d),f=null!=b.distance?b.distance:5,g=this.shape,h=g.cx,i=g.cy,l=g.r,m=g.r0,n=(l+m)/2,o=g.startAngle,p=g.endAngle,q=(o+p)/2,r=k?Math.abs(l-m)/2:0,s=Math.cos,t=Math.sin,u=h+l*s(o),v=i+l*t(o),w="left",x="top";switch(e){case"startArc":u=h+(m-f)*s(q),v=i+(m-f)*t(q),w="center",x="top";break;case"insideStartArc":u=h+(m+f)*s(q),v=i+(m+f)*t(q),w="center",x="bottom";break;case"startAngle":u=h+n*s(o)+qv(o,f+r,!1),v=i+n*t(o)+qw(o,f+r,!1),w="right",x="middle";break;case"insideStartAngle":u=h+n*s(o)+qv(o,-f+r,!1),v=i+n*t(o)+qw(o,-f+r,!1),w="left",x="middle";break;case"middle":u=h+n*s(q),v=i+n*t(q),w="center",x="middle";break;case"endArc":u=h+(l+f)*s(q),v=i+(l+f)*t(q),w="center",x="bottom";break;case"insideEndArc":u=h+(l-f)*s(q),v=i+(l-f)*t(q),w="center",x="top";break;case"endAngle":u=h+n*s(p)+qv(p,f+r,!0),v=i+n*t(p)+qw(p,f+r,!0),w="left",x="middle";break;case"insideEndAngle":u=h+n*s(p)+qv(p,-f+r,!0),v=i+n*t(p)+qw(p,-f+r,!0),w="right",x="middle";break;default:return ed(a,b,c)}return(a=a||{}).x=u,a.y=v,a.align=w,a.verticalAlign=x,a},f){var n=m.shape,o=e?"r":"endAngle",p={};n[o]=e?d.r0:d.startAngle,p[o]=d[o],(h?hy:hz)(m,{shape:p},f)}return m}};function qD(a,b,c,d,e,f,g,h){var i,j;f?(j={x:d.x,width:d.width},i={y:d.y,height:d.height}):(j={y:d.y,height:d.height},i={x:d.x,width:d.width}),h||(g?hy:hz)(c,{shape:i},b,e,null),(g?hy:hz)(c,{shape:j},b?a.baseAxis.model:null,e)}function qE(a,b){for(var c=0;c<b.length;c++)if(!isFinite(a[b[c]]))return!0;return!1}var qF=["x","y","width","height"],qG=["cx","cy","r","startAngle","endAngle"],qH={cartesian2d:function(a){return!qE(a,qF)},polar:function(a){return!qE(a,qG)}},qI={cartesian2d:function(a,b,c){var d,e,f,g=a.getItemLayout(b),h=c?(d=c,e=g,(f=d.get(["itemStyle","borderColor"]))&&"none"!==f?Math.min(d.get(["itemStyle","borderWidth"])||0,isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height)):0):0,i=g.width>0?1:-1,j=g.height>0?1:-1;return{x:g.x+i*h/2,y:g.y+j*h/2,width:g.width-i*h,height:g.height-j*h}},polar:function(a,b,c){var d=a.getItemLayout(b);return{cx:d.cx,cy:d.cy,r0:d.r0,r:d.r,startAngle:d.startAngle,endAngle:d.endAngle,clockwise:d.clockwise}}};function qJ(a){var b;return b=a?"Arc":"Angle",function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+b;default:return a}}}function qK(a,b,c,d,e,f,g,h){var i=b.getItemVisual(c,"style");if(h){if(!f.get("roundCap")){var j=a.shape,k=qx(d.getModel("itemStyle"),j,!0);aC(j,k),a.setShape(j)}}else{var l=d.get(["itemStyle","borderRadius"])||0;a.setShape("r",l)}a.useStyle(i);var m=d.getShallow("cursor");m&&a.attr("cursor",m);var n=h?g?e.r>=e.r0?"endArc":"startArc":e.endAngle>=e.startAngle?"endAngle":"startAngle":g?e.height>=0?"bottom":"top":e.width>=0?"right":"left",o=hJ(d);hI(a,o,{labelFetcher:f,labelDataIndex:c,defaultText:pH(f.getData(),c),inheritColor:i.fill,defaultOpacity:i.opacity,defaultOutsidePosition:n});var p=a.getTextContent();if(h&&p){var q=d.get(["label","position"]);a.textConfig.inside="middle"===q||null,function(a,b,c,d){if(aS(d))return a.setTextConfig({rotation:d});if(aO(b))return a.setTextConfig({rotation:0});var e,f=a.shape,g=f.clockwise?f.startAngle:f.endAngle,h=f.clockwise?f.endAngle:f.startAngle,i=c(b);switch(i){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":e=(g+h)/2;break;case"startAngle":case"insideStartAngle":e=g;break;case"endAngle":case"insideEndAngle":e=h;break;default:a.setTextConfig({rotation:0});return}var j=1.5*Math.PI-e;"middle"===i&&j>Math.PI/2&&j<1.5*Math.PI&&(j-=Math.PI),a.setTextConfig({rotation:j})}(a,"outside"===q?n:q,qJ(g),d.get(["label","rotate"]))}hS(p,o,f.getRawValue(c),function(a){return pI(b,a)});var r=d.getModel(["emphasis"]);hm(a,r.get("focus"),r.get("blurScope"),r.get("disabled")),hq(a,d),null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle&&(a.style.fill="none",a.style.stroke="none",aH(a.states,function(a){a.style&&(a.style.fill=a.style.stroke="none")}))}var qL=function(){},qM=function(a){function b(b){var c=a.call(this,b)||this;return c.type="largeBar",c}return af(b,a),b.prototype.getDefaultShape=function(){return new qL},b.prototype.buildPath=function(a,b){for(var c=b.points,d=this.baseDimIdx,e=1-this.baseDimIdx,f=[],g=[],h=this.barWidth,i=0;i<c.length;i+=3)g[d]=h,g[e]=c[i+2],f[d]=c[i+d],f[e]=c[i+e],a.rect(f[0],f[1],g[0],g[1])},b}(gm);function qN(a,b,c,d){var e=a.getData(),f=+!!e.getLayout("valueAxisHorizontal"),g=e.getLayout("largeDataIndices"),h=e.getLayout("size"),i=a.getModel("backgroundStyle"),j=e.getLayout("largeBackgroundPoints");if(j){var k=new qM({shape:{points:j},incremental:!!d,silent:!0,z2:0});k.baseDimIdx=f,k.largeDataIndices=g,k.barWidth=h,k.useStyle(i.getItemStyle()),b.add(k),c&&c.push(k)}var l=new qM({shape:{points:e.getLayout("largePoints")},incremental:!!d,ignoreCoarsePointer:!0,z2:1});l.baseDimIdx=f,l.largeDataIndices=g,l.barWidth=h,b.add(l),l.useStyle(e.getVisual("style")),gO(l).seriesIndex=a.seriesIndex,a.get("silent")||(l.on("mousedown",qO),l.on("mousemove",qO)),c&&c.push(l)}var qO=mB(function(a){var b=function(a,b,c){for(var d=a.baseDimIdx,e=1-d,f=a.shape.points,g=a.largeDataIndices,h=[],i=[],j=a.barWidth,k=0,l=f.length/3;k<l;k++){var m=3*k;if(i[d]=j,i[e]=f[m+2],h[d]=f[m+d],h[e]=f[m+e],i[e]<0&&(h[e]+=i[e],i[e]=-i[e]),b>=h[0]&&b<=h[0]+i[0]&&c>=h[1]&&c<=h[1]+i[1])return g[k]}return -1}(this,a.offsetX,a.offsetY);gO(this).dataIndex=b>=0?b:null},30,!1);function qP(a,b,c){if(p3(c,"cartesian2d")){var d=c.getArea();return{x:a?b.x:d.x,y:a?d.y:b.y,width:a?b.width:d.width,height:a?d.height:b.height}}var d=c.getArea();return{cx:d.cx,cy:d.cy,r0:a?d.r0:b.r0,r:a?d.r:b.r,startAngle:a?b.startAngle:0,endAngle:a?b.endAngle:2*Math.PI}}var qQ=2*Math.PI,qR=Math.PI/180;function qS(a,b){return iN(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function qT(a,b){var c,d,e=qS(a,b),f=a.get("center"),g=a.get("radius");aO(g)||(g=[0,g]);var h=es(e.width,b.getWidth()),i=es(e.height,b.getHeight()),j=Math.min(h,i),k=es(g[0],j/2),l=es(g[1],j/2),m=a.coordinateSystem;if(m){var n=m.dataToPoint(f);c=n[0]||0,d=n[1]||0}else aO(f)||(f=[f,f]),c=es(f[0],h)+e.x,d=es(f[1],i)+e.y;return{cx:c,cy:d,r0:k,r:l}}function qU(a,b,c){b.eachSeriesByType(a,function(a){var b=a.getData(),d=b.mapDimension("value"),e=qS(a,c),f=qT(a,c),g=f.cx,h=f.cy,i=f.r,j=f.r0,k=-a.get("startAngle")*qR,l=a.get("endAngle"),m=a.get("padAngle")*qR;l="auto"===l?k-qQ:-l*qR;var n=a.get("minAngle")*qR+m,o=0;b.each(d,function(a){!isNaN(a)&&o++});var p=b.getSum(d),q=Math.PI/(p||o)*2,r=a.get("clockwise"),s=a.get("roseType"),t=a.get("stillShowZeroSum"),u=b.getDataExtent(d);u[0]=0;var v=r?1:-1,w=[k,l],x=v*m/2;f6(w,!r),k=w[0];var y=Math.abs((l=w[1])-k),z=y,A=0,B=k;if(b.setLayout({viewRect:e,r:i}),b.each(d,function(a,c){if(isNaN(a))return void b.setItemLayout(c,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:r,cx:g,cy:h,r0:j,r:s?NaN:i});(d="area"!==s?0===p&&t?q:a*q:y/o)<n?(d=n,z-=n):A+=a;var d,e=B+v*d,f=0,k=0;m>d?k=f=B+v*d/2:(f=B+x,k=e-x),b.setItemLayout(c,{angle:d,startAngle:f,endAngle:k,clockwise:r,cx:g,cy:h,r0:j,r:s?er(a,u,[j,i]):i}),B=e}),z<qQ&&o)if(z<=.001){var C=y/o;b.each(d,function(a,c){if(!isNaN(a)){var d=b.getItemLayout(c);d.angle=C;var e=0,f=0;C<m?f=e=k+v*(c+.5)*C:(e=k+v*c*C+x,f=k+v*(c+1)*C-x),d.startAngle=e,d.endAngle=f}})}else q=z/A,B=k,b.each(d,function(a,c){if(!isNaN(a)){var d=b.getItemLayout(c),e=d.angle===n?n:a*q,f=0,g=0;e<m?g=f=B+v*e/2:(f=B+x,g=B+v*e-x),d.startAngle=f,d.endAngle=g,B+=v*e}})})}function qV(a){return{seriesType:a,reset:function(a,b){var c=b.findComponents({mainType:"legend"});if(c&&c.length){var d=a.getData();d.filterSelf(function(a){for(var b=d.getName(a),e=0;e<c.length;e++)if(!c[e].isSelected(b))return!1;return!0})}}}}var qW=2*Math.PI,qX=f7.CMD,qY=["top","right","bottom","left"];function qZ(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=Math.sqrt(i*i+j*j),l=((e-a)*(i/=k)+(f-b)*(j/=k))/k;h&&(l=Math.min(Math.max(l,0),1)),l*=k;var m=g[0]=a+l*i,n=g[1]=b+l*j;return Math.sqrt((m-e)*(m-e)+(n-f)*(n-f))}function q$(a,b,c,d,e,f,g){c<0&&(a+=c,c=-c),d<0&&(b+=d,d=-d);var h=a+c,i=b+d,j=g[0]=Math.min(Math.max(e,a),h),k=g[1]=Math.min(Math.max(f,b),i);return Math.sqrt((j-e)*(j-e)+(k-f)*(k-f))}var q_=[],q0=new b1,q1=new b1,q2=new b1,q3=new b1,q4=new b1;function q5(a,b){if(a){var c=a.getTextGuideLine(),d=a.getTextContent();if(d&&c){var e=a.textGuideLineConfig||{},f=[[0,0],[0,0],[0,0]],g=e.candidates||qY,h=d.getBoundingRect().clone();h.applyTransform(d.getComputedTransform());var i=1/0,j=e.anchor,k=a.getComputedTransform(),l=k&&b0([],k),m=b.get("length2")||0;j&&q2.copy(j);for(var n=0;n<g.length;n++){!function(a,b,c,d,e){var f=c.width,g=c.height;switch(a){case"top":d.set(c.x+f/2,c.y-0),e.set(0,-1);break;case"bottom":d.set(c.x+f/2,c.y+g+0),e.set(0,1);break;case"left":d.set(c.x-0,c.y+g/2),e.set(-1,0);break;case"right":d.set(c.x+f+0,c.y+g/2),e.set(1,0)}}(g[n],0,h,q0,q3),b1.scaleAndAdd(q1,q0,q3,m),q1.transform(l);var o=a.getBoundingRect(),p=j?j.distance(q1):a instanceof gm?function(a,b,c){for(var d,e,f=0,g=0,h=0,i=0,j=1/0,k=b.data,l=a.x,m=a.y,n=0;n<k.length;){var o=k[n++];1===n&&(f=k[n],g=k[n+1],h=f,i=g);var p=j;switch(o){case qX.M:h=k[n++],i=k[n++],f=h,g=i;break;case qX.L:p=qZ(f,g,k[n],k[n+1],l,m,q_,!0),f=k[n++],g=k[n++];break;case qX.C:p=cI(f,g,k[n++],k[n++],k[n++],k[n++],k[n],k[n+1],l,m,q_),f=k[n++],g=k[n++];break;case qX.Q:p=cN(f,g,k[n++],k[n++],k[n],k[n+1],l,m,q_),f=k[n++],g=k[n++];break;case qX.A:var q=k[n++],r=k[n++],s=k[n++],t=k[n++],u=k[n++],v=k[n++];n+=1;var w=!!(1-k[n++]);d=Math.cos(u)*s+q,e=Math.sin(u)*t+r,n<=1&&(h=d,i=e);var x=(l-q)*t/s+q;p=function(a,b,c,d,e,f,g,h,i){var j=Math.sqrt((g-=a)*g+(h-=b)*h),k=(g/=j)*c+a,l=(h/=j)*c+b;if(Math.abs(d-e)%qW<1e-4)return i[0]=k,i[1]=l,j-c;if(f){var m=d;d=gb(e),e=gb(m)}else d=gb(d),e=gb(e);d>e&&(e+=qW);var n=Math.atan2(h,g);if(n<0&&(n+=qW),n>=d&&n<=e||n+qW>=d&&n+qW<=e)return i[0]=k,i[1]=l,j-c;var o=c*Math.cos(d)+a,p=c*Math.sin(d)+b,q=c*Math.cos(e)+a,r=c*Math.sin(e)+b,s=(o-g)*(o-g)+(p-h)*(p-h),t=(q-g)*(q-g)+(r-h)*(r-h);return s<t?(i[0]=o,i[1]=p,Math.sqrt(s)):(i[0]=q,i[1]=r,Math.sqrt(t))}(q,r,t,u,u+v,w,x,m,q_),f=Math.cos(u+v)*s+q,g=Math.sin(u+v)*t+r;break;case qX.R:p=q$(h=f=k[n++],i=g=k[n++],k[n++],k[n++],l,m,q_);break;case qX.Z:p=qZ(f,g,h,i,l,m,q_,!0),f=h,g=i}p<j&&(j=p,c.set(q_[0],q_[1]))}return j}(q1,a.path,q2):function(a,b,c){var d=q$(b.x,b.y,b.width,b.height,a.x,a.y,q_);return c.set(q_[0],q_[1]),d}(q1,o,q2);p<i&&(i=p,q1.transform(k),q2.transform(k),q2.toArray(f[0]),q1.toArray(f[1]),q0.toArray(f[2]))}q8(f,b.get("minTurnAngle")),c.setShape({points:f})}}}var q6=[],q7=new b1;function q8(a,b){if(b<=180&&b>0){b=b/180*Math.PI,q0.fromArray(a[0]),q1.fromArray(a[1]),q2.fromArray(a[2]),b1.sub(q3,q0,q1),b1.sub(q4,q2,q1);var c=q3.len(),d=q4.len();if(!(c<.001)&&!(d<.001)&&(q3.scale(1/c),q4.scale(1/d),Math.cos(b)<q3.dot(q4))){var e=qZ(q1.x,q1.y,q2.x,q2.y,q0.x,q0.y,q6,!1);q7.fromArray(q6),q7.scaleAndAdd(q4,e/Math.tan(Math.PI-b));var f=q2.x!==q1.x?(q7.x-q1.x)/(q2.x-q1.x):(q7.y-q1.y)/(q2.y-q1.y);if(isNaN(f))return;f<0?b1.copy(q7,q1):f>1&&b1.copy(q7,q2),q7.toArray(a[1])}}}function q9(a,b,c,d){var e="normal"===c,f=e?a:a.ensureState(c);f.ignore=b;var g=d.get("smooth");g&&!0===g&&(g=.3),f.shape=f.shape||{},g>0&&(f.shape.smooth=g);var h=d.getModel("lineStyle").getLineStyle();e?a.useStyle(h):f.style=h}function ra(a,b){var c=b.smooth,d=b.points;if(d)if(a.moveTo(d[0][0],d[0][1]),c>0&&d.length>=3){var e=bp(d[0],d[1]),f=bp(d[1],d[2]);if(!e||!f){a.lineTo(d[1][0],d[1][1]),a.lineTo(d[2][0],d[2][1]);return}var g=Math.min(e,f)*c,h=br([],d[1],d[0],g/e),i=br([],d[1],d[2],g/f),j=br([],h,i,.5);a.bezierCurveTo(h[0],h[1],h[0],h[1],j[0],j[1]),a.bezierCurveTo(i[0],i[1],i[0],i[1],d[2][0],d[2][1])}else for(var k=1;k<d.length;k++)a.lineTo(d[k][0],d[k][1])}function rb(a,b,c){var d=a.getTextGuideLine(),e=a.getTextContent();if(!e){d&&a.removeTextGuideLine();return}for(var f=b.normal,g=f.get("show"),h=e.ignore,i=0;i<gV.length;i++){var j=gV[i],k=b[j],l="normal"===j;if(k){var m=k.get("show");if((l?h:aZ(e.states[j]&&e.states[j].ignore,h))||!aZ(m,g)){var n=l?d:d&&d.states[j];n&&(n.ignore=!0),d&&q9(d,!0,j,k);continue}!d&&(d=new lF,a.setTextGuideLine(d),l||!h&&g||q9(d,!0,"normal",b.normal),a.stateProxy&&(d.stateProxy=a.stateProxy)),q9(d,!1,j,k)}}if(d){aD(d.style,c),d.style.fill=null;var o=f.get("showAbove");(a.textGuideLineConfig=a.textGuideLineConfig||{}).showAbove=o||!1,d.buildPath=ra}}function rc(a,b){b=b||"labelLine";for(var c={normal:a.getModel(b)},d=0;d<gU.length;d++){var e=gU[d];c[e]=a.getModel([e,b])}return c}function rd(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];if(!d.defaultAttr.ignore){var e=d.label,f=e.getComputedTransform(),g=e.getBoundingRect(),h=!f||f[1]<1e-5&&f[2]<1e-5,i=e.style.margin||0,j=g.clone();j.applyTransform(f),j.x-=i/2,j.y-=i/2,j.width+=i,j.height+=i;var k=h?new lX(g,f):null;b.push({label:e,labelLine:d.labelLine,rect:j,localRect:g,obb:k,priority:d.priority,defaultAttr:d.defaultAttr,layoutOption:d.computedLayoutOption,axisAligned:h,transform:f})}}return b}function re(a,b,c,d,e,f){var g,h,i,j=a.length;if(!(j<2)){a.sort(function(a,c){return a.rect[b]-c.rect[b]});for(var k=0,l=!1,m=[],n=0,o=0;o<j;o++){var p=a[o],q=p.rect;(g=q[b]-k)<0&&(q[b]-=g,p.label[b]-=g,l=!0);var r=Math.max(-g,0);m.push(r),n+=r,k=q[b]+q[c]}n>0&&f&&w(-n/j,0,j);var s=a[0],t=a[j-1];return u(),h<0&&x(-h,.8),i<0&&x(i,.8),u(),v(h,i,1),v(i,h,-1),u(),h<0&&y(-h),i<0&&y(i),l}function u(){h=s.rect[b]-d,i=e-t.rect[b]-t.rect[c]}function v(a,b,c){if(a<0){var d=Math.min(b,-a);if(d>0){w(d*c,0,j);var e=d+a;e<0&&x(-e*c,1)}else x(-a*c,1)}}function w(c,d,e){0!==c&&(l=!0);for(var f=d;f<e;f++){var g=a[f],h=g.rect;h[b]+=c,g.label[b]+=c}}function x(d,e){for(var f=[],g=0,h=1;h<j;h++){var i=a[h-1].rect,k=Math.max(a[h].rect[b]-i[b]-i[c],0);f.push(k),g+=k}if(g){var l=Math.min(Math.abs(d)/g,e);if(d>0)for(var h=0;h<j-1;h++){var m=f[h]*l;w(m,0,h+1)}else for(var h=j-1;h>0;h--){var m=f[h-1]*l;w(-m,h,j)}}}function y(a){for(var b=a<0?-1:1,c=Math.ceil((a=Math.abs(a))/(j-1)),d=0;d<j-1;d++)if(b>0?w(c,0,d+1):w(-c,j-d-1,j),(a-=c)<=0)return}}function rf(a,b,c,d){return re(a,"y","height",b,c,d)}function rg(a){var b=[];a.sort(function(a,b){return b.priority-a.priority});var c=new ca(0,0,0,0);function d(a){if(!a.ignore){var b=a.ensureState("emphasis");null==b.ignore&&(b.ignore=!1)}a.ignore=!0}for(var e=0;e<a.length;e++){var f=a[e],g=f.axisAligned,h=f.localRect,i=f.transform,j=f.label,k=f.labelLine;c.copy(f.rect),c.width-=.1,c.height-=.1,c.x+=.05,c.y+=.05;for(var l=f.obb,m=!1,n=0;n<b.length;n++){var o=b[n];if(c.intersect(o.rect)&&(g&&o.axisAligned||(o.obb||(o.obb=new lX(o.localRect,o.transform)),l||(l=new lX(h,i)),l.intersect(o.obb)))){m=!0;break}}m?(d(j),k&&d(k)):(j.attr("ignore",f.defaultAttr.ignore),k&&k.attr("ignore",f.defaultAttr.labelGuideIgnore),b.push(f))}}var rh=Math.PI/180;function ri(a,b,c,d,e,f,g,h,i,j){if(!(a.length<2)){for(var k=a.length,l=0;l<k;l++)if("outer"===a[l].position&&"labelLine"===a[l].labelAlignTo){var m=a[l].label.x-j;a[l].linePoints[1][0]+=m,a[l].label.x=j}rf(a,i,i+g)&&function(a){for(var f={list:[],maxY:0},g={list:[],maxY:0},h=0;h<a.length;h++)if("none"===a[h].labelAlignTo){var i=a[h],j=i.label.y>c?g:f,k=Math.abs(i.label.y-c);if(k>=j.maxY){var l=i.label.x-b-i.len2*e,m=d+i.len;j.rB=Math.abs(l)<m?Math.sqrt(k*k/(1-l*l/m/m)):m,j.maxY=k}j.list.push(i)}n(f),n(g)}(a)}function n(a){for(var f=a.rB,g=f*f,h=0;h<a.list.length;h++){var i=a.list[h],j=Math.abs(i.label.y-c),k=d+i.len,l=b+(Math.sqrt(k*k*(1-Math.abs(j*j/g)))+i.len2)*e,m=l-i.label.x,n=i.targetTextWidth-m*e;rj(i,n,!0),i.label.x=l}}}function rj(a,b,c){if(void 0===c&&(c=!1),null==a.labelStyleWidth){var d=a.label,e=d.style,f=a.rect,g=e.backgroundColor,h=e.padding,i=h?h[1]+h[3]:0,j=e.overflow,k=f.width+(g?0:i);if(b<k||c){var l=f.height;if(j&&j.match("break")){d.setStyle("backgroundColor",null),d.setStyle("width",b-i);var m=d.getBoundingRect();d.setStyle("width",Math.ceil(m.width)),d.setStyle("backgroundColor",g)}else{var n=b-i,o=b<k?n:c?n>a.unconstrainedWidth?null:n:null;d.setStyle("width",o)}var p=d.getBoundingRect();f.width=p.width;var q=(d.style.margin||0)+2.1;f.height=p.height+q,f.y-=(f.height-l)/2}}}function rk(a){return"center"===a.position}var rl=function(a){function b(b,c,d){var e=a.call(this)||this;e.z2=2;var f=new gB;return e.setTextContent(f),e.updateData(b,c,d,!0),e}return af(b,a),b.prototype.updateData=function(a,b,c,d){var e=a.hostModel,f=a.getItemModel(b),g=f.getModel("emphasis"),h=a.getItemLayout(b),i=aC(qx(f.getModel("itemStyle"),h,!0),h);if(isNaN(i.startAngle))return void this.setShape(i);if(d){this.setShape(i);var j=e.getShallow("animationType");e.ecModel.ssr?(hz(this,{scaleX:0,scaleY:0},e,{dataIndex:b,isFrom:!0}),this.originX=i.cx,this.originY=i.cy):"scale"===j?(this.shape.r=h.r0,hz(this,{shape:{r:h.r}},e,b)):null!=c?(this.setShape({startAngle:c,endAngle:c}),hz(this,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},e,b)):(this.shape.endAngle=h.startAngle,hy(this,{shape:{endAngle:h.endAngle}},e,b))}else hE(this),hy(this,{shape:i},e,b);this.useStyle(a.getItemVisual(b,"style")),hq(this,f);var k=(h.startAngle+h.endAngle)/2,l=e.get("selectedOffset"),m=Math.cos(k)*l,n=Math.sin(k)*l,o=f.getShallow("cursor");o&&this.attr("cursor",o),this._updateLabel(e,a,b),this.ensureState("emphasis").shape=aC({r:h.r+(g.get("scale")&&g.get("scaleSize")||0)},qx(g.getModel("itemStyle"),h)),aC(this.ensureState("select"),{x:m,y:n,shape:qx(f.getModel(["select","itemStyle"]),h)}),aC(this.ensureState("blur"),{shape:qx(f.getModel(["blur","itemStyle"]),h)});var p=this.getTextGuideLine(),q=this.getTextContent();p&&aC(p.ensureState("select"),{x:m,y:n}),aC(q.ensureState("select"),{x:m,y:n}),hm(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},b.prototype._updateLabel=function(a,b,c){var d=b.getItemModel(c),e=d.getModel("labelLine"),f=b.getItemVisual(c,"style"),g=f&&f.fill,h=f&&f.opacity;hI(this,hJ(d),{labelFetcher:b.hostModel,labelDataIndex:c,inheritColor:g,defaultOpacity:h,defaultText:a.getFormattedLabel(c,"normal")||b.getName(c)});var i=this.getTextContent();this.setTextConfig({position:null,rotation:null}),i.attr({z2:10});var j=a.get(["label","position"]);if("outside"!==j&&"outer"!==j)this.removeTextGuideLine();else{var k=this.getTextGuideLine();k||(k=new lF,this.setTextGuideLine(k)),rb(this,rc(d),{stroke:g,opacity:a$(e.get(["lineStyle","opacity"]),h,1)})}},b}(ly),rm=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.ignoreLabelLineUpdate=!0,b}return af(b,a),b.prototype.render=function(a,b,c,d){var e,f=a.getData(),g=this._data,h=this.group;if(!g&&f.count()>0){for(var i=f.getItemLayout(0),j=1;isNaN(i&&i.startAngle)&&j<f.count();++j)i=f.getItemLayout(j);i&&(e=i.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),0===f.count()&&a.get("showEmptyCircle")){var k=new ly({shape:qT(a,c)});k.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=k,h.add(k)}f.diff(g).add(function(a){var b=new rl(f,a,e);f.setItemGraphicEl(a,b),h.add(b)}).update(function(a,b){var c=g.getItemGraphicEl(b);c.updateData(f,a,e),c.off("click"),h.add(c),f.setItemGraphicEl(a,c)}).remove(function(b){hD(g.getItemGraphicEl(b),a,b)}).execute(),function(a){var b,c,d=a.getData(),e=[],f=!1,g=(a.get("minShowLabelAngle")||0)*rh,h=d.getLayout("viewRect"),i=d.getLayout("r"),j=h.width,k=h.x,l=h.y,m=h.height;function n(a){a.ignore=!0}d.each(function(a){var h,l,m,o,p=d.getItemGraphicEl(a),q=p.shape,r=p.getTextContent(),s=p.getTextGuideLine(),t=d.getItemModel(a),u=t.getModel("label"),v=u.get("position")||t.get(["emphasis","label","position"]),w=u.get("distanceToLabelLine"),x=u.get("alignTo"),y=es(u.get("edgeDistance"),j),z=u.get("bleedMargin"),A=t.getModel("labelLine"),B=A.get("length");B=es(B,j);var C=A.get("length2");if(C=es(C,j),Math.abs(q.endAngle-q.startAngle)<g){aH(r.states,n),r.ignore=!0,s&&(aH(s.states,n),s.ignore=!0);return}if(function(a){if(!a.ignore)return!0;for(var b in a.states)if(!1===a.states[b].ignore)return!0;return!1}(r)){var D=(q.startAngle+q.endAngle)/2,E=Math.cos(D),F=Math.sin(D);b=q.cx,c=q.cy;var G="inside"===v||"inner"===v;if("center"===v)h=q.cx,l=q.cy,o="center";else{var H=(G?(q.r+q.r0)/2*E:q.r*E)+b,I=(G?(q.r+q.r0)/2*F:q.r*F)+c;if(h=H+3*E,l=I+3*F,!G){var J=H+E*(B+i-q.r),K=I+F*(B+i-q.r),L=J+(E<0?-1:1)*C;h="edge"===x?E<0?k+y:k+j-y:L+(E<0?-w:w),l=K,m=[[H,I],[J,K],[L,K]]}o=G?"center":"edge"===x?E>0?"right":"left":E>0?"left":"right"}var M=Math.PI,N=0,O=u.get("rotate");if(aS(O))N=M/180*O;else if("center"===v)N=0;else if("radial"===O||!0===O)N=E<0?-D+M:-D;else if("tangential"===O&&"outside"!==v&&"outer"!==v){var P=Math.atan2(E,F);P<0&&(P=2*M+P),F>0&&(P=M+P),N=P-M}if(f=!!N,r.x=h,r.y=l,r.rotation=N,r.setStyle({verticalAlign:"middle"}),G){r.setStyle({align:o});var Q=r.states.select;Q&&(Q.x+=r.x,Q.y+=r.y)}else{var R=r.getBoundingRect().clone();R.applyTransform(r.getComputedTransform());var S=(r.style.margin||0)+2.1;R.y-=S/2,R.height+=S,e.push({label:r,labelLine:s,position:v,len:B,len2:C,minTurnAngle:A.get("minTurnAngle"),maxSurfaceAngle:A.get("maxSurfaceAngle"),surfaceNormal:new b1(E,F),linePoints:m,textAlign:o,labelDistance:w,labelAlignTo:x,edgeDistance:y,bleedMargin:z,rect:R,unconstrainedWidth:R.width,labelStyleWidth:r.style.width})}p.setTextConfig({inside:G})}}),!f&&a.get("avoidLabelOverlap")&&function(a,b,c,d,e,f,g,h){for(var i=[],j=[],k=Number.MAX_VALUE,l=-Number.MAX_VALUE,m=0;m<a.length;m++){var n=a[m].label;rk(a[m])||(n.x<b?(k=Math.min(k,n.x),i.push(a[m])):(l=Math.max(l,n.x),j.push(a[m])))}for(var m=0;m<a.length;m++){var o=a[m];if(!rk(o)&&o.linePoints){if(null!=o.labelStyleWidth)continue;var n=o.label,p=o.linePoints,q=void 0;q="edge"===o.labelAlignTo?n.x<b?p[2][0]-o.labelDistance-g-o.edgeDistance:g+e-o.edgeDistance-p[2][0]-o.labelDistance:"labelLine"===o.labelAlignTo?n.x<b?k-g-o.bleedMargin:g+e-l-o.bleedMargin:n.x<b?n.x-g-o.bleedMargin:g+e-n.x-o.bleedMargin,o.targetTextWidth=q,rj(o,q)}}ri(j,b,c,d,1,e,f,g,h,l),ri(i,b,c,d,-1,e,f,g,h,k);for(var m=0;m<a.length;m++){var o=a[m];if(!rk(o)&&o.linePoints){var n=o.label,p=o.linePoints,r="edge"===o.labelAlignTo,s=n.style.padding,t=s?s[1]+s[3]:0,u=n.style.backgroundColor?0:t,v=o.rect.width+u,w=p[1][0]-p[2][0];r?n.x<b?p[2][0]=g+o.edgeDistance+v+o.labelDistance:p[2][0]=g+e-o.edgeDistance-v-o.labelDistance:(n.x<b?p[2][0]=n.x+o.labelDistance:p[2][0]=n.x-o.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=n.y}}}(e,b,c,i,j,m,k,l);for(var o=0;o<e.length;o++){var p=e[o],q=p.label,r=p.labelLine,s=isNaN(q.x)||isNaN(q.y);if(q){q.setStyle({align:p.textAlign}),s&&(aH(q.states,n),q.ignore=!0);var t=q.states.select;t&&(t.x+=q.x,t.y+=q.y)}if(r){var u=p.linePoints;s||!u?(aH(r.states,n),r.ignore=!0):(q8(u,p.minTurnAngle),function(a,b,c){if(c<=180&&c>0){c=c/180*Math.PI,q0.fromArray(a[0]),q1.fromArray(a[1]),q2.fromArray(a[2]),b1.sub(q3,q1,q0),b1.sub(q4,q2,q1);var d=q3.len(),e=q4.len();if(!(d<.001)&&!(e<.001)&&(q3.scale(1/d),q4.scale(1/e),q3.dot(b)<Math.cos(c))){var f=qZ(q1.x,q1.y,q2.x,q2.y,q0.x,q0.y,q6,!1);q7.fromArray(q6);var g=Math.PI/2,h=g+Math.acos(q4.dot(b))-c;if(h>=g)b1.copy(q7,q2);else{q7.scaleAndAdd(q4,f/Math.tan(Math.PI/2-h));var i=q2.x!==q1.x?(q7.x-q1.x)/(q2.x-q1.x):(q7.y-q1.y)/(q2.y-q1.y);if(isNaN(i))return;i<0?b1.copy(q7,q1):i>1&&b1.copy(q7,q2)}q7.toArray(a[1])}}}(u,p.surfaceNormal,p.maxSurfaceAngle),r.setShape({points:u}),q.__hostTarget.textGuideLineConfig={anchor:new b1(u[0][0],u[0][1])})}}}(a),"expansion"!==a.get("animationTypeUpdate")&&(this._data=f)},b.prototype.dispose=function(){},b.prototype.containPoint=function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,f=Math.sqrt(d*d+e*e);return f<=c.r&&f>=c.r0}},b.type="pie",b}(ms);function rn(a,b,c){b=aO(b)&&{coordDimensions:b}||aC({encodeDefine:a.getEncode()},b);var d=a.getSource(),e=new py(pz(d,b).dimensions,a);return e.initData(d,c),e}var ro=function(){function a(a,b){this._getDataWithEncodedVisual=a,this._getRawData=b}return a.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},a.prototype.containName=function(a){return this._getRawData().indexOfName(a)>=0},a.prototype.indexOfName=function(a){return this._getDataWithEncodedVisual().indexOfName(a)},a.prototype.getItemVisual=function(a,b){return this._getDataWithEncodedVisual().getItemVisual(a,b)},a}(),rp=e$(),rq=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new ro(aM(this.getData,this),aM(this.getRawData,this)),this._defaultLabelLine(b)},b.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},b.prototype.getInitialData=function(){return rn(this,{coordDimensions:["value"],encodeDefaulter:aN(i8,this)})},b.prototype.getDataParams=function(b){var c=this.getData(),d=rp(c),e=d.seats;if(!e){var f=[];c.each(c.mapDimension("value"),function(a){f.push(a)}),e=d.seats=ez(f,c.hostModel.get("percentPrecision"))}var g=a.prototype.getDataParams.call(this,b);return g.percent=e[b]||0,g.$vars.push("percent"),g},b.prototype._defaultLabelLine=function(a){eQ(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},b.type="series.pie",b.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},b}(kR),rr=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return af(b,a),b.prototype.getInitialData=function(a,b){return pF(null,this,{useEncodeDefaulter:!0})},b.prototype.getProgressive=function(){var a=this.option.progressive;return null==a?this.option.large?5e3:this.get("progressive"):a},b.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?1e4:this.get("progressiveThreshold"):a},b.prototype.brushSelector=function(a,b,c){return c.point(b.getItemLayout(a))},b.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},b.type="series.scatter",b.dependencies=["grid","polar","geo","singleAxis","calendar"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},b}(kR),rs=function(){},rt=function(a){function b(b){var c=a.call(this,b)||this;return c._off=0,c.hoverDataIdx=-1,c}return af(b,a),b.prototype.getDefaultShape=function(){return new rs},b.prototype.reset=function(){this.notClear=!1,this._off=0},b.prototype.buildPath=function(a,b){var c,d=b.points,e=b.size,f=this.symbolProxy,g=f.shape,h=a.getContext?a.getContext():a,i=h&&e[0]<4,j=this.softClipShape;if(i){this._ctx=h;return}for(this._ctx=null,c=this._off;c<d.length;){var k=d[c++],l=d[c++];!(isNaN(k)||isNaN(l))&&(!j||j.contain(k,l))&&(g.x=k-e[0]/2,g.y=l-e[1]/2,g.width=e[0],g.height=e[1],f.buildPath(a,g,!0))}this.incremental&&(this._off=c,this.notClear=!0)},b.prototype.afterBrush=function(){var a,b=this.shape,c=b.points,d=b.size,e=this._ctx,f=this.softClipShape;if(e){for(a=this._off;a<c.length;){var g=c[a++],h=c[a++];!(isNaN(g)||isNaN(h))&&(!f||f.contain(g,h))&&e.fillRect(g-d[0]/2,h-d[1]/2,d[0],d[1])}this.incremental&&(this._off=a,this.notClear=!0)}},b.prototype.findDataIndex=function(a,b){for(var c=this.shape,d=c.points,e=c.size,f=Math.max(e[0],4),g=Math.max(e[1],4),h=d.length/2-1;h>=0;h--){var i=2*h,j=d[i]-f/2,k=d[i+1]-g/2;if(a>=j&&b>=k&&a<=j+f&&b<=k+g)return h}return -1},b.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return(a=c[0],b=c[1],d.contain(a,b))?(this.hoverDataIdx=this.findDataIndex(a,b))>=0:(this.hoverDataIdx=-1,!1)},b.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var b=this.shape,c=b.points,d=b.size,e=d[0],f=d[1],g=1/0,h=1/0,i=-1/0,j=-1/0,k=0;k<c.length;){var l=c[k++],m=c[k++];g=Math.min(l,g),i=Math.max(l,i),h=Math.min(m,h),j=Math.max(m,j)}a=this._rect=new ca(g-e/2,h-f/2,i-g+e,j-h+f)}return a},b}(gm),ru=function(){function a(){this.group=new em}return a.prototype.updateData=function(a,b){this._clear();var c=this._create();c.setShape({points:a.getLayout("points")}),this._setCommon(c,a,b)},a.prototype.updateLayout=function(a){var b=a.getLayout("points");this.group.eachChild(function(a){if(null!=a.startIndex){var c=(a.endIndex-a.startIndex)*2,d=4*a.startIndex*2;b=new Float32Array(b.buffer,d,c)}a.setShape("points",b),a.reset()})},a.prototype.incrementalPrepareUpdate=function(a){this._clear()},a.prototype.incrementalUpdate=function(a,b,c){var d=this._newAdded[0],e=b.getLayout("points"),f=d&&d.shape.points;if(f&&f.length<2e4){var g=f.length,h=new Float32Array(g+e.length);h.set(f),h.set(e,g),d.endIndex=a.end,d.setShape({points:h})}else{this._newAdded=[];var i=this._create();i.startIndex=a.start,i.endIndex=a.end,i.incremental=!0,i.setShape({points:e}),this._setCommon(i,b,c)}},a.prototype.eachRendered=function(a){this._newAdded[0]&&a(this._newAdded[0])},a.prototype._create=function(){var a=new rt({cursor:"default"});return a.ignoreCoarsePointer=!0,this.group.add(a),this._newAdded.push(a),a},a.prototype._setCommon=function(a,b,c){var d=b.hostModel;c=c||{};var e=b.getVisual("symbolSize");a.setShape("size",e instanceof Array?e:[e,e]),a.softClipShape=c.clipShape||null,a.symbolProxy=nm(b.getVisual("symbol"),0,0,0,0),a.setColor=a.symbolProxy.setColor;var f=a.shape.size[0]<4;a.useStyle(d.getModel("itemStyle").getItemStyle(f?["color","shadowBlur","shadowColor"]:["color"]));var g=b.getVisual("style"),h=g&&g.fill;h&&a.setColor(h);var i=gO(a);i.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){i.dataIndex=null;var c=a.hoverDataIdx;c>=0&&(i.dataIndex=c+(a.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),rv=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=a.getData();this._updateSymbolDraw(d,a).updateData(d,{clipShape:this._getClipShape(a)}),this._finished=!0},b.prototype.incrementalPrepareRender=function(a,b,c){var d=a.getData();this._updateSymbolDraw(d,a).incrementalPrepareUpdate(d),this._finished=!1},b.prototype.incrementalRender=function(a,b,c){this._symbolDraw.incrementalUpdate(a,b.getData(),{clipShape:this._getClipShape(b)}),this._finished=a.end===b.getData().count()},b.prototype.updateTransform=function(a,b,c){var d=a.getData();if(this.group.dirty(),!this._finished||d.count()>1e4)return{update:!0};var e=qd("").reset(a,b,c);e.progress&&e.progress({start:0,end:d.count(),count:d.count()},d),this._symbolDraw.updateLayout(d)},b.prototype.eachRendered=function(a){this._symbolDraw&&this._symbolDraw.eachRendered(a)},b.prototype._getClipShape=function(a){if(a.get("clip",!0)){var b=a.coordinateSystem;return b&&b.getArea&&b.getArea(.1)}},b.prototype._updateSymbolDraw=function(a,b){var c=this._symbolDraw,d=b.pipelineContext.large;return c&&d===this._isLargeDraw||(c&&c.remove(),c=this._symbolDraw=d?new ru:new pO,this._isLargeDraw=d,this.group.removeAll()),this.group.add(c.group),c},b.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},b.prototype.dispose=function(){},b.type="scatter",b}(ms),rw=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.type="grid",b.dependencies=["xAxis","yAxis"],b.layoutMode="box",b.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},b}(iU),rx=function(){function a(){}return a.prototype.getNeedCrossZero=function(){return!this.option.scale},a.prototype.getCoordSysModel=function(){},a}(),ry=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",e2).models[0]},b.type="cartesian2dAxis",b}(iU);aF(ry,rx);var rz={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},rA=aA({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},rz),rB=aA({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},rz),rC=aA({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},rB),rD=aD({logBase:10},rB);let rE={category:rA,value:rB,time:rC,log:rD};var rF=0,rG=function(){function a(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this.uid=++rF}return a.createByAxisModel=function(b){var c=b.option,d=c.data,e=d&&aI(d,rH);return new a({categories:e,needCollect:!e,deduplication:!1!==c.dedplication})},a.prototype.getOrdinal=function(a){return this._getOrCreateMap().get(a)},a.prototype.parseAndCollect=function(a){var b,c=this._needCollect;if(!aQ(a)&&!c)return a;if(c&&!this._deduplication)return b=this.categories.length,this.categories[b]=a,b;var d=this._getOrCreateMap();return null==(b=d.get(a))&&(c?(b=this.categories.length,this.categories[b]=a,d.set(a,b)):b=NaN),b},a.prototype._getOrCreateMap=function(){return this._map||(this._map=a7(this.categories))},a}();function rH(a){return aT(a)&&null!=a.value?a.value:a+""}var rI={value:1,category:1,time:1,log:1};function rJ(a,b,c,d){aH(rI,function(e,f){var g=aA(aA({},rE[f],!0),d,!0),h=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b+"Axis."+f,c}return af(c,a),c.prototype.mergeDefaultAndTheme=function(a,b){var c=iP(this),d=c?iR(a):{};aA(a,b.getTheme().get(f+"Axis")),aA(a,this.getDefaultOption()),a.type=rK(a),c&&iQ(a,d,c)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=rG.createByAxisModel(this))},c.prototype.getCategories=function(a){var b=this.option;if("category"===b.type)return a?b.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=b+"Axis."+f,c.defaultOption=g,c}(c);a.registerComponentModel(h)}),a.registerSubTypeDefaulter(b+"Axis",rK)}function rK(a){return a.type||(a.data?"category":"value")}var rL=function(){function a(a){this._setting=a||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(a){return this._setting[a]},a.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},a.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},a.prototype.isInExtentRange=function(a){return this._extent[0]<=a&&this._extent[1]>=a},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(a){this._isBlank=a},a}();function rM(a){return"interval"===a.type||"log"===a.type}function rN(a){var b=Math.pow(10,eF(a)),c=a/b;return c?2===c?c=3:3===c?c=5:c*=2:c=1,et(c*b)}ff(rL);function rO(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function rP(a,b){return a>=b[0]&&a<=b[1]}function rQ(a,b){return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])}function rR(a,b){return a*(b[1]-b[0])+b[0]}var rS=function(a){function b(b){var c=a.call(this,b)||this;c.type="ordinal";var d=c.getSetting("ordinalMeta");return d||(d=new rG({})),aO(d)&&(d=new rG({categories:aI(d,function(a){return aT(a)?a.value:a})})),c._ordinalMeta=d,c._extent=c.getSetting("extent")||[0,d.categories.length-1],c}return af(b,a),b.prototype.parse=function(a){return null==a?NaN:aQ(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},b.prototype.contain=function(a){return rP(a=this.parse(a),this._extent)&&null!=this._ordinalMeta.categories[a]},b.prototype.normalize=function(a){return rQ(a=this._getTickNumber(this.parse(a)),this._extent)},b.prototype.scale=function(a){return a=Math.round(rR(a,this._extent)),this.getRawOrdinalNumber(a)},b.prototype.getTicks=function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push({value:c}),c++;return a},b.prototype.getMinorTicks=function(a){},b.prototype.setSortInfo=function(a){if(null==a){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var b=a.ordinalNumbers,c=this._ordinalNumbersByTick=[],d=this._ticksByOrdinalNumber=[],e=0,f=this._ordinalMeta.categories.length,g=Math.min(f,b.length);e<g;++e){var h=b[e];c[e]=h,d[h]=e}for(var i=0;e<f;++e){for(;null!=d[i];)i++;c.push(i),d[i]=e}},b.prototype._getTickNumber=function(a){var b=this._ticksByOrdinalNumber;return b&&a>=0&&a<b.length?b[a]:a},b.prototype.getRawOrdinalNumber=function(a){var b=this._ordinalNumbersByTick;return b&&a>=0&&a<b.length?b[a]:a},b.prototype.getLabel=function(a){if(!this.isBlank()){var b=this.getRawOrdinalNumber(a.value),c=this._ordinalMeta.categories[b];return null==c?"":c+""}},b.prototype.count=function(){return this._extent[1]-this._extent[0]+1},b.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},b.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},b.prototype.getOrdinalMeta=function(){return this._ordinalMeta},b.prototype.calcNiceTicks=function(){},b.prototype.calcNiceExtent=function(){},b.type="ordinal",b}(rL);rL.registerClass(rS);var rT=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="interval",b._interval=0,b._intervalPrecision=2,b}return af(b,a),b.prototype.parse=function(a){return a},b.prototype.contain=function(a){return rP(a,this._extent)},b.prototype.normalize=function(a){return rQ(a,this._extent)},b.prototype.scale=function(a){return rR(a,this._extent)},b.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},b.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),this.setExtent(b[0],b[1])},b.prototype.getInterval=function(){return this._interval},b.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=ev(a)+2},b.prototype.getTicks=function(a){var b=this._interval,c=this._extent,d=this._niceExtent,e=this._intervalPrecision,f=[];if(!b)return f;c[0]<d[0]&&(a?f.push({value:et(d[0]-b,e)}):f.push({value:c[0]}));for(var g=d[0];g<=d[1]&&(f.push({value:g}),(g=et(g+b,e))!==f[f.length-1].value);)if(f.length>1e4)return[];var h=f.length?f[f.length-1].value:d[1];return c[1]>h&&(a?f.push({value:et(h+b,e)}):f.push({value:c[1]})),f},b.prototype.getMinorTicks=function(a){for(var b=this.getTicks(!0),c=[],d=this.getExtent(),e=1;e<b.length;e++){for(var f=b[e],g=b[e-1],h=0,i=[],j=(f.value-g.value)/a;h<a-1;){var k=et(g.value+(h+1)*j);k>d[0]&&k<d[1]&&i.push(k),h++}c.push(i)}return c},b.prototype.getLabel=function(a,b){if(null==a)return"";var c=b&&b.precision;return null==c?c=ev(a.value)||0:"auto"===c&&(c=this._intervalPrecision),iz(et(a.value,c,!0))},b.prototype.calcNiceTicks=function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];if(isFinite(e)){e<0&&(e=-e,d.reverse());var f,g,h,i,j,k,l=(h=a,j=(i={}).interval=eG((d[1]-d[0])/h,!0),null!=b&&j<b&&(j=i.interval=b),null!=c&&j>c&&(j=i.interval=c),k=i.intervalPrecision=ev(j)+2,f=i.niceTickExtent=[et(Math.ceil(d[0]/j)*j,k),et(Math.floor(d[1]/j)*j,k)],g=d,isFinite(f[0])||(f[0]=g[0]),isFinite(f[1])||(f[1]=g[1]),rO(f,0,g),rO(f,1,g),f[0]>f[1]&&(f[0]=f[1]),i);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},b.prototype.calcNiceExtent=function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=Math.abs(b[0]);a.fixMax||(b[1]+=c/2),b[0]-=c/2}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval);var d=this._interval;a.fixMin||(b[0]=et(Math.floor(b[0]/d)*d)),a.fixMax||(b[1]=et(Math.ceil(b[1]/d)*d))},b.prototype.setNiceExtent=function(a,b){this._niceExtent=[a,b]},b.type="interval",b}(rL);rL.registerClass(rT);var rU=function(a,b,c,d){for(;c<d;){var e=c+d>>>1;a[e][1]<b?c=e+1:d=e}return c},rV=function(a){function b(b){var c=a.call(this,b)||this;return c.type="time",c}return af(b,a),b.prototype.getLabel=function(a){var b=this.getSetting("useUTC");return ii(a.value,ic[function(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(ih(this._minLevelUnit))]||ic.second,b,this.getSetting("locale"))},b.prototype.getFormattedLabel=function(a,b,c){var d=this.getSetting("useUTC");return function(a,b,c,d,e){var f=null;if(aQ(c))f=c;else if(aP(c))f=c(a.value,b,{level:a.level});else{var g=aC({},ia);if(a.level>0)for(var h=0;h<id.length;++h)g[id[h]]="{primary|"+g[id[h]]+"}";var i=c?!1===c.inherit?c:aD(c,g):g,j=ij(a.value,e);if(i[j])f=i[j];else if(i.inherit){for(var k=ie.indexOf(j),h=k-1;h>=0;--h)if(i[j]){f=i[j];break}f=f||g.none}if(aO(f)){var l=null==a.level?0:a.level>=0?a.level:f.length+a.level;l=Math.min(l,f.length-1),f=f[l]}}return ii(new Date(a.value),f,e,d)}(a,b,c,this.getSetting("locale"),d)},b.prototype.getTicks=function(){var a=this._interval,b=this._extent,c=[];if(!a)return c;c.push({value:b[0],level:0});var d=this.getSetting("useUTC"),e=function(a,b,c,d){for(var e=0,f=[],g=[],h=0,i=0,j=0;j<ie.length&&e++<1e4;++j){var k,l=ih(ie[j]);if((k=ie[j])===ih(k)&&(!function(a,e,f){var g=[],h=!e.length;if(!function(a,b,c,d){var e=eD(b),f=eD(c),g=function(a){return ik(e,a,d)===ik(f,a,d)},h=function(){return g("year")},i=function(){return h()&&g("month")},j=function(){return i()&&g("day")},k=function(){return j()&&g("hour")},l=function(){return k()&&g("minute")},m=function(){return l()&&g("second")};switch(a){case"year":return h();case"month":return i();case"day":return j();case"hour":return k();case"minute":return l();case"second":return m();case"millisecond":return m()&&g("millisecond")}}(ih(a),d[0],d[1],c)){h&&(e=[{value:function(a,b,c){var d=new Date(a);switch(ih(b)){case"year":case"month":d[it(c)](0);case"day":d[iu(c)](1);case"hour":d[iv(c)](0);case"minute":d[iw(c)](0);case"second":d[ix(c)](0),d[iy(c)](0)}return d.getTime()}(new Date(d[0]),a,c)},{value:d[1]}]);for(var i=0;i<e.length-1;i++){var j=e[i].value,k=e[i+1].value;if(j!==k){var l,m,n,o=void 0,p=void 0,q=void 0;switch(a){case"year":o=Math.max(1,Math.round(b/864e5/365)),p=il(c),q=c?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":o=(l=b/2592e6)>6?6:l>3?3:l>2?2:1,p=im(c),q=it(c);break;case"week":case"half-week":case"day":o=(m=b/864e5)>16?16:m>7.5?7:m>3.5?4:m>1.5?2:1,p=io(c),q=iu(c);break;case"half-day":case"quarter-day":case"hour":o=(n=b/36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1,p=ip(c),q=iv(c);break;case"minute":o=rX(b,!0),p=iq(c),q=iw(c);break;case"second":o=rX(b,!1),p=ir(c),q=ix(c);break;case"millisecond":o=eG(b,!0),p=is(c),q=iy(c)}!function(a,b,c,e,f,g,h){for(var i=new Date(b),j=b,k=i[e]();j<c&&j<=d[1];)h.push({value:j}),k+=a,i[f](k),j=i.getTime();h.push({value:j,notAdd:!0})}(o,j,k,p,q,0,g),"year"===a&&f.length>1&&0===i&&f.unshift({value:f[0].value-o})}}for(var i=0;i<g.length;i++)f.push(g[i])}}(ie[j],f[f.length-1]||[],g),l!==(ie[j+1]?ih(ie[j+1]):null))){if(g.length){i=h,g.sort(function(a,b){return a.value-b.value});for(var m=[],n=0;n<g.length;++n){var o=g[n].value;(0===n||g[n-1].value!==o)&&(m.push(g[n]),o>=d[0]&&o<=d[1]&&h++)}var p=(d[1]-d[0])/b;if(h>1.5*p&&i>p/1.5||(f.push(m),h>p||a===ie[j]))break}g=[]}}for(var q=aK(aI(f,function(a){return aK(a,function(a){return a.value>=d[0]&&a.value<=d[1]&&!a.notAdd})}),function(a){return a.length>0}),r=[],s=q.length-1,j=0;j<q.length;++j)for(var t=q[j],u=0;u<t.length;++u)r.push({value:t[u].value,level:s-j});r.sort(function(a,b){return a.value-b.value});for(var v=[],j=0;j<r.length;++j)(0===j||r[j].value!==r[j-1].value)&&v.push(r[j]);return v}(this._minLevelUnit,this._approxInterval,d,b);return(c=c.concat(e)).push({value:b[1],level:0}),c},b.prototype.calcNiceExtent=function(a){var b=this._extent;if(b[0]===b[1]&&(b[0]-=864e5,b[1]+=864e5),b[1]===-1/0&&b[0]===1/0){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate()),b[0]=b[1]-864e5}this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval)},b.prototype.calcNiceTicks=function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0];this._approxInterval=e/a,null!=b&&this._approxInterval<b&&(this._approxInterval=b),null!=c&&this._approxInterval>c&&(this._approxInterval=c);var f=rW.length,g=Math.min(rU(rW,this._approxInterval,0,f),f-1);this._interval=rW[g][1],this._minLevelUnit=rW[Math.max(g-1,0)][0]},b.prototype.parse=function(a){return aS(a)?a:+eD(a)},b.prototype.contain=function(a){return rP(this.parse(a),this._extent)},b.prototype.normalize=function(a){return rQ(this.parse(a),this._extent)},b.prototype.scale=function(a){return rR(a,this._extent)},b.type="time",b}(rT),rW=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",15768e6],["year",31536e6]];function rX(a,b){return(a/=b?6e4:1e3)>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}rL.registerClass(rV);var rY=rL.prototype,rZ=rT.prototype,r$=Math.floor,r_=Math.ceil,r0=Math.pow,r1=Math.log,r2=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="log",b.base=10,b._originalScale=new rT,b._interval=0,b}return af(b,a),b.prototype.getTicks=function(a){var b=this._originalScale,c=this._extent,d=b.getExtent();return aI(rZ.getTicks.call(this,a),function(a){var b=a.value,e=et(r0(this.base,b));return e=b===c[0]&&this._fixMin?et(e,ev(d[0])):e,{value:e=b===c[1]&&this._fixMax?et(e,ev(d[1])):e}},this)},b.prototype.setExtent=function(a,b){var c=r1(this.base);a=r1(Math.max(0,a))/c,b=r1(Math.max(0,b))/c,rZ.setExtent.call(this,a,b)},b.prototype.getExtent=function(){var a,b,c=this.base,d=rY.getExtent.call(this);d[0]=r0(c,d[0]),d[1]=r0(c,d[1]);var e=this._originalScale.getExtent();return this._fixMin&&(d[0]=(a=d[0],et(a,ev(e[0])))),this._fixMax&&(d[1]=(b=d[1],et(b,ev(e[1])))),d},b.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=r1(a[0])/r1(b),a[1]=r1(a[1])/r1(b),rY.unionExtent.call(this,a)},b.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},b.prototype.calcNiceTicks=function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(c!==1/0&&!(c<=0)){var d=eE(c);for(a/c*d<=.5&&(d*=10);!isNaN(d)&&1>Math.abs(d)&&Math.abs(d)>0;)d*=10;var e=[et(r_(b[0]/d)*d),et(r$(b[1]/d)*d)];this._interval=d,this._niceExtent=e}},b.prototype.calcNiceExtent=function(a){rZ.calcNiceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},b.prototype.parse=function(a){return a},b.prototype.contain=function(a){return rP(a=r1(a)/r1(this.base),this._extent)},b.prototype.normalize=function(a){return rQ(a=r1(a)/r1(this.base),this._extent)},b.prototype.scale=function(a){return a=rR(a,this._extent),r0(this.base,a)},b.type="log",b}(rL),r3=r2.prototype;r3.getMinorTicks=rZ.getMinorTicks,r3.getLabel=rZ.getLabel,rL.registerClass(r2);var r4=function(){function a(a,b,c){this._prepareParams(a,b,c)}return a.prototype._prepareParams=function(a,b,c){c[1]<c[0]&&(c=[NaN,NaN]),this._dataMin=c[0],this._dataMax=c[1];var d=this._isOrdinal="ordinal"===a.type;this._needCrossZero="interval"===a.type&&b.getNeedCrossZero&&b.getNeedCrossZero();var e=this._modelMinRaw=b.get("min",!0);aP(e)?this._modelMinNum=r8(a,e({min:c[0],max:c[1]})):"dataMin"!==e&&(this._modelMinNum=r8(a,e));var f=this._modelMaxRaw=b.get("max",!0);if(aP(f)?this._modelMaxNum=r8(a,f({min:c[0],max:c[1]})):"dataMax"!==f&&(this._modelMaxNum=r8(a,f)),d)this._axisDataLen=b.getCategories().length;else{var g=b.get("boundaryGap"),h=aO(g)?g:[g||0,g||0];"boolean"==typeof h[0]||"boolean"==typeof h[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[ec(h[0],1),ec(h[1],1)]}},a.prototype.calculate=function(){var a,b,c=this._isOrdinal,d=this._dataMin,e=this._dataMax,f=this._axisDataLen,g=this._boundaryGapInner,h=c?null:e-d||Math.abs(d),i="dataMin"===this._modelMinRaw?d:this._modelMinNum,j="dataMax"===this._modelMaxRaw?e:this._modelMaxNum,k=null!=i,l=null!=j;null==i&&(i=c?f?0:NaN:d-g[0]*h),null==j&&(j=c?f?f-1:NaN:e+g[1]*h),null!=i&&isFinite(i)||(i=NaN),null!=j&&isFinite(j)||(j=NaN);var m=(a=i)!=a||(b=j)!=b||c&&!f;this._needCrossZero&&(i>0&&j>0&&!k&&(i=0),i<0&&j<0&&!l&&(j=0));var n=this._determinedMin,o=this._determinedMax;return null!=n&&(i=n,k=!0),null!=o&&(j=o,l=!0),{min:i,max:j,minFixed:k,maxFixed:l,isBlank:m}},a.prototype.modifyDataMinMax=function(a,b){this[r6[a]]=b},a.prototype.setDeterminedMinMax=function(a,b){this[r5[a]]=b},a.prototype.freeze=function(){this.frozen=!0},a}(),r5={min:"_determinedMin",max:"_determinedMax"},r6={min:"_dataMin",max:"_dataMax"};function r7(a,b,c){var d=a.rawExtentInfo;return d||(d=new r4(a,b,c),a.rawExtentInfo=d),d}function r8(a,b){return null==b?null:b!=b?NaN:a.parse(b)}function r9(a,b){var c=a.type,d=r7(a,b,a.getExtent()).calculate();a.setBlank(d.isBlank);var e=d.min,f=d.max,g=b.ecModel;if(g&&"time"===c){var h=qk("bar",g),i=!1;if(aH(h,function(a){i=i||a.getBaseAxis()===b.axis}),i){var j=function(a,b,c,d){var e=c.axis.getExtent(),f=e[1]-e[0],g=function(a,b,c){if(a&&b)return a[qj(b)]}(d,c.axis);if(void 0===g)return{min:a,max:b};var h=1/0;aH(g,function(a){h=Math.min(a.offset,h)});var i=-1/0;aH(g,function(a){i=Math.max(a.offset+a.width,i)});var j=(h=Math.abs(h))+(i=Math.abs(i)),k=b-a,l=k/(1-(h+i)/f)-k;return b+=i/j*l,{min:a-=h/j*l,max:b}}(e,f,b,ql(h));e=j.min,f=j.max}}return{extent:[e,f],fixMin:d.minFixed,fixMax:d.maxFixed}}function sa(a,b){var c=r9(a,b),d=c.extent,e=b.get("splitNumber");a instanceof r2&&(a.base=b.get("logBase"));var f=a.type,g=b.get("interval"),h="interval"===f||"time"===f;a.setExtent(d[0],d[1]),a.calcNiceExtent({splitNumber:e,fixMin:c.fixMin,fixMax:c.fixMax,minInterval:h?b.get("minInterval"):null,maxInterval:h?b.get("maxInterval"):null}),null!=g&&a.setInterval&&a.setInterval(g)}function sb(a,b){if(b=b||a.get("type"))switch(b){case"category":return new rS({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new rV({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(rL.getClass(b)||rT)}}function sc(a){var b=a.getLabelModel().get("formatter"),c="category"===a.type?a.scale.getExtent()[0]:null;return"time"===a.scale.type?function(c,d){return a.scale.getFormattedLabel(c,d,b)}:aQ(b)?function(c){var d=a.scale.getLabel(c);return b.replace("{value}",null!=d?d:"")}:aP(b)?function(d,e){return null!=c&&(e=d.value-c),b(sd(a,d),e,null!=d.level?{level:d.level}:null)}:function(b){return a.scale.getLabel(b)}}function sd(a,b){return"category"===a.type?a.scale.getLabel(b):b.value}function se(a){var b=a.get("interval");return null==b?"auto":b}function sf(a){return"category"===a.type&&0===se(a.getLabelModel())}function sg(a,b){var c={};return aH(a.mapDimensionsAll(b),function(b){c[pE(a,b)]=!0}),aL(c)}var sh=function(){function a(a){this.type="cartesian",this._dimList=[],this._axes={},this.name=a||""}return a.prototype.getAxis=function(a){return this._axes[a]},a.prototype.getAxes=function(){return aI(this._dimList,function(a){return this._axes[a]},this)},a.prototype.getAxesByScale=function(a){return a=a.toLowerCase(),aK(this.getAxes(),function(b){return b.scale.type===a})},a.prototype.addAxis=function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},a}(),si=["x","y"];function sj(a){return"interval"===a.type||"time"===a.type}var sk=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="cartesian2d",b.dimensions=si,b}return af(b,a),b.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,b=this.getAxis("y").scale;if(sj(a)&&sj(b)){var c=a.getExtent(),d=b.getExtent(),e=this.dataToPoint([c[0],d[0]]),f=this.dataToPoint([c[1],d[1]]),g=c[1]-c[0],h=d[1]-d[0];if(g&&h){var i=(f[0]-e[0])/g,j=(f[1]-e[1])/h,k=e[0]-c[0]*i,l=e[1]-d[0]*j,m=this._transform=[i,0,0,j,k,l];this._invTransform=b0([],m)}}},b.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},b.prototype.containPoint=function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},b.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},b.prototype.containZone=function(a,b){var c=this.dataToPoint(a),d=this.dataToPoint(b),e=this.getArea(),f=new ca(c[0],c[1],d[0]-c[0],d[1]-c[1]);return e.intersect(f)},b.prototype.dataToPoint=function(a,b,c){c=c||[];var d=a[0],e=a[1];if(this._transform&&null!=d&&isFinite(d)&&null!=e&&isFinite(e))return bs(c,a,this._transform);var f=this.getAxis("x"),g=this.getAxis("y");return c[0]=f.toGlobalCoord(f.dataToCoord(d,b)),c[1]=g.toGlobalCoord(g.dataToCoord(e,b)),c},b.prototype.clampData=function(a,b){var c=this.getAxis("x").scale,d=this.getAxis("y").scale,e=c.getExtent(),f=d.getExtent(),g=c.parse(a[0]),h=d.parse(a[1]);return(b=b||[])[0]=Math.min(Math.max(Math.min(e[0],e[1]),g),Math.max(e[0],e[1])),b[1]=Math.min(Math.max(Math.min(f[0],f[1]),h),Math.max(f[0],f[1])),b},b.prototype.pointToData=function(a,b){var c=[];if(this._invTransform)return bs(c,a,this._invTransform);var d=this.getAxis("x"),e=this.getAxis("y");return c[0]=d.coordToData(d.toLocalCoord(a[0]),b),c[1]=e.coordToData(e.toLocalCoord(a[1]),b),c},b.prototype.getOtherAxis=function(a){return this.getAxis("x"===a.dim?"y":"x")},b.prototype.getArea=function(a){a=a||0;var b=this.getAxis("x").getGlobalExtent(),c=this.getAxis("y").getGlobalExtent(),d=Math.min(b[0],b[1])-a,e=Math.min(c[0],c[1])-a,f=Math.max(b[0],b[1])-d+a,g=Math.max(c[0],c[1])-e+a;return new ca(d,e,f,g)},b}(sh),sl=e$();function sm(a,b){var c,d,e,f,g=sn(a,"labels"),h=se(b),i=so(g,h);return i||(aP(h)?e=sr(a,h):(f="auto"===h?null!=(d=sl(c=a).autoInterval)?d:sl(c).autoInterval=c.calculateCategoryInterval():h,e=sq(a,f)),sp(g,h,{labels:e,labelCategoryInterval:f}))}function sn(a,b){return sl(a)[b]||(sl(a)[b]=[])}function so(a,b){for(var c=0;c<a.length;c++)if(a[c].key===b)return a[c].value}function sp(a,b,c){return a.push({key:b,value:c}),c}function sq(a,b,c){var d=sc(a),e=a.scale,f=e.getExtent(),g=a.getLabelModel(),h=[],i=Math.max((b||0)+1,1),j=f[0],k=e.count();0!==j&&i>1&&k/i>2&&(j=Math.round(Math.ceil(j/i)*i));var l=sf(a),m=g.get("showMinLabel")||l,n=g.get("showMaxLabel")||l;m&&j!==f[0]&&p(f[0]);for(var o=j;o<=f[1];o+=i)p(o);function p(a){var b={value:a};h.push(c?a:{formattedLabel:d(b),rawLabel:e.getLabel(b),tickValue:a})}return n&&o-i!==f[1]&&p(f[1]),h}function sr(a,b,c){var d=a.scale,e=sc(a),f=[];return aH(d.getTicks(),function(a){var g=d.getLabel(a),h=a.value;b(a.value,g)&&f.push(c?h:{formattedLabel:e(a),rawLabel:g,tickValue:h})}),f}var ss=[0,1],st=function(){function a(a,b,c){this.onBand=!1,this.inverse=!1,this.dim=a,this.scale=b,this._extent=c||[0,0]}return a.prototype.contain=function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&a<=d},a.prototype.containData=function(a){return this.scale.contain(a)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(a){return ex(a||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(a,b){var c=this._extent;c[0]=a,c[1]=b},a.prototype.dataToCoord=function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(a),this.onBand&&"ordinal"===d.type&&su(c=c.slice(),d.count()),er(a,ss,c,b)},a.prototype.coordToData=function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&su(c=c.slice(),d.count());var e=er(a,c,ss,b);return this.scale.scale(e)},a.prototype.pointToData=function(a,b){},a.prototype.getTicksCoords=function(a){var b=(a=a||{}).tickModel||this.getTickModel(),c=("category"===this.type?function(a,b){var c,d,e=sn(a,"ticks"),f=se(b),g=so(e,f);if(g)return g;if((!b.get("show")||a.scale.isBlank())&&(c=[]),aP(f))c=sr(a,f,!0);else if("auto"===f){var h=sm(a,a.getLabelModel());d=h.labelCategoryInterval,c=aI(h.labels,function(a){return a.tickValue})}else c=sq(a,d=f,!0);return sp(e,f,{ticks:c,tickCategoryInterval:d})}(this,b):{ticks:aI(this.scale.getTicks(),function(a){return a.value})}).ticks,d=aI(c,function(a){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this);return function(a,b,c,d){var e,f,g=b.length;if(a.onBand&&!c&&g){var h=a.getExtent();if(1===g)b[0].coord=h[0],e=b[1]={coord:h[1]};else{var i=b[g-1].tickValue-b[0].tickValue,j=(b[g-1].coord-b[0].coord)/i;aH(b,function(a){a.coord-=j/2}),f=1+a.scale.getExtent()[1]-b[g-1].tickValue,e={coord:b[g-1].coord+j*f},b.push(e)}var k=h[0]>h[1];l(b[0].coord,h[0])&&(d?b[0].coord=h[0]:b.shift()),d&&l(h[0],b[0].coord)&&b.unshift({coord:h[0]}),l(h[1],e.coord)&&(d?e.coord=h[1]:b.pop()),d&&l(e.coord,h[1])&&b.push({coord:h[1]})}function l(a,b){return a=et(a),b=et(b),k?a>b:a<b}}(this,d,b.get("alignWithLabel"),a.clamp),d},a.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var a=this.model.getModel("minorTick").get("splitNumber");return a>0&&a<100||(a=5),aI(this.scale.getMinorTicks(a),function(a){return aI(a,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this)},a.prototype.getViewLabels=function(){var a,b,c,d,e,f;return("category"===this.type?(a=this,b=a.getLabelModel(),c=sm(a,b),!b.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:c.labelCategoryInterval}:c):(d=this,e=d.scale.getTicks(),f=sc(d),{labels:aI(e,function(a,b){return{level:a.level,formattedLabel:f(a,b),rawLabel:d.scale.getLabel(a),tickValue:a.value}})})).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+ +!!this.onBand;return 0===c&&(c=1),Math.abs(Math.abs(a[1]-a[0]))/c},a.prototype.calculateCategoryInterval=function(){return function(a){var b,c,d=(c=(b=a).getLabelModel(),{axisRotate:b.getRotate?b.getRotate():b.isHorizontal&&!b.isHorizontal()?90:0,labelRotate:c.get("rotate")||0,font:c.getFont()}),e=sc(a),f=(d.axisRotate-d.labelRotate)/180*Math.PI,g=a.scale,h=g.getExtent(),i=g.count();if(h[1]-h[0]<1)return 0;var j=1;i>40&&(j=Math.max(1,Math.floor(i/40)));for(var k=h[0],l=a.dataToCoord(k+1)-a.dataToCoord(k),m=Math.abs(l*Math.cos(f)),n=Math.abs(l*Math.sin(f)),o=0,p=0;k<=h[1];k+=j){var q=0,r=0,s=d8(e({value:k}),d.font,"center","top");q=1.3*s.width,r=1.3*s.height,o=Math.max(o,q,7),p=Math.max(p,r,7)}var t=o/m,u=p/n;isNaN(t)&&(t=1/0),isNaN(u)&&(u=1/0);var v=Math.max(0,Math.floor(Math.min(t,u))),w=sl(a.model),x=a.getExtent(),y=w.lastAutoInterval,z=w.lastTickCount;return null!=y&&null!=z&&1>=Math.abs(y-v)&&1>=Math.abs(z-i)&&y>v&&w.axisExtent0===x[0]&&w.axisExtent1===x[1]?v=y:(w.lastTickCount=i,w.lastAutoInterval=v,w.axisExtent0=x[0],w.axisExtent1=x[1]),v}(this)},a}();function su(a,b){var c=(a[1]-a[0])/b/2;a[0]+=c,a[1]-=c}var sv=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.index=0,g.type=e||"value",g.position=f||"bottom",g}return af(b,a),b.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},b.prototype.getGlobalExtent=function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},b.prototype.pointToData=function(a,b){return this.coordToData(this.toLocalCoord(a[+("x"!==this.dim)]),b)},b.prototype.setCategorySortInfo=function(a){if("category"!==this.type)return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},b}(st);function sw(a,b,c){c=c||{};var d=a.coordinateSystem,e=b.axis,f={},g=e.getAxesOnZeroOf()[0],h=e.position,i=g?"onZero":h,j=e.dim,k=d.getRect(),l=[k.x,k.x+k.width,k.y,k.y+k.height],m={left:0,right:1,top:0,bottom:1,onZero:2},n=b.get("offset")||0,o="x"===j?[l[2]-n,l[3]+n]:[l[0]-n,l[1]+n];if(g){var p=g.toGlobalCoord(g.dataToCoord(0));o[m.onZero]=Math.max(Math.min(p,o[1]),o[0])}f.position=["y"===j?o[m[i]]:l[0],"x"===j?o[m[i]]:l[3]],f.rotation=Math.PI/2*("x"!==j),f.labelDirection=f.tickDirection=f.nameDirection=({top:-1,bottom:1,left:-1,right:1})[h],f.labelOffset=g?o[m[h]]-o[m.onZero]:0,b.get(["axisTick","inside"])&&(f.tickDirection=-f.tickDirection),aY(c.labelInside,b.get(["axisLabel","inside"]))&&(f.labelDirection=-f.labelDirection);var q=b.get(["axisLabel","rotate"]);return f.labelRotate="top"===i?-q:q,f.z2=1,f}function sx(a){return"cartesian2d"===a.get("coordinateSystem")}function sy(a){var b={xAxisModel:null,yAxisModel:null};return aH(b,function(c,d){var e=d.replace(/Model$/,""),f=a.getReferringComponents(e,e2).models[0];b[d]=f}),b}var sz=Math.log;function sA(a,b,c){var d=rT.prototype,e=d.getTicks.call(c),f=d.getTicks.call(c,!0),g=e.length-1,h=d.getInterval.call(c),i=r9(a,b),j=i.extent,k=i.fixMin,l=i.fixMax;if("log"===a.type){var m=sz(a.base);j=[sz(j[0])/m,sz(j[1])/m]}a.setExtent(j[0],j[1]),a.calcNiceExtent({splitNumber:g,fixMin:k,fixMax:l});var n=d.getExtent.call(a);k&&(j[0]=n[0]),l&&(j[1]=n[1]);var o=d.getInterval.call(a),p=j[0],q=j[1];if(k&&l)o=(q-p)/g;else if(k)for(q=j[0]+o*g;q<j[1]&&isFinite(q)&&isFinite(j[1]);)o=rN(o),q=j[0]+o*g;else if(l)for(p=j[1]-o*g;p>j[0]&&isFinite(p)&&isFinite(j[0]);)o=rN(o),p=j[1]-o*g;else{a.getTicks().length-1>g&&(o=rN(o));var r=o*g;(p=et((q=Math.ceil(j[1]/o)*o)-r))<0&&j[0]>=0?(p=0,q=et(r)):q>0&&j[1]<=0&&(q=0,p=-et(r))}var s=(e[0].value-f[0].value)/h,t=(e[g].value-f[g].value)/h;d.setExtent.call(a,p+o*s,q+o*t),d.setInterval.call(a,o),(s||t)&&d.setNiceExtent.call(a,p+o,q-o)}var sB=function(){function a(a,b,c){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=si,this._initCartesian(a,b,c),this.model=a}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(a,b){var c=this._axesMap;function d(a){var b,c=aL(a),d=c.length;if(d){for(var e=[],f=d-1;f>=0;f--){var g=a[+c[f]],h=g.model,i=g.scale;rM(i)&&h.get("alignTicks")&&null==h.get("interval")?e.push(g):(sa(i,h),rM(i)&&(b=g))}e.length&&(b||sa((b=e.pop()).scale,b.model),aH(e,function(a){sA(a.scale,a.model,b.scale)}))}}this._updateScale(a,this.model),d(c.x),d(c.y);var e={};aH(c.x,function(a){sD(c,"y",a,e)}),aH(c.y,function(a){sD(c,"x",a,e)}),this.resize(this.model,b)},a.prototype.resize=function(a,b,c){var d=a.getBoxLayoutParams(),e=!c&&a.get("containLabel"),f=iN(d,{width:b.getWidth(),height:b.getHeight()});this._rect=f;var g=this._axesList;function h(){aH(g,function(a){var b,c,d,e,g=a.isHorizontal(),h=g?[0,f.width]:[0,f.height],i=+!!a.inverse;a.setExtent(h[i],h[1-i]),b=a,c=g?f.x:f.y,e=(d=b.getExtent())[0]+d[1],b.toGlobalCoord="x"===b.dim?function(a){return a+c}:function(a){return e-a+c},b.toLocalCoord="x"===b.dim?function(a){return a-c}:function(a){return e-a+c}})}h(),e&&(aH(g,function(a){if(!a.model.get(["axisLabel","inside"])){var b=function(a){var b,c,d,e=a.model,f=a.scale;if(!(!e.get(["axisLabel","show"])||f.isBlank())){var g=f.getExtent();c=f instanceof rS?f.count():(b=f.getTicks()).length;var h=a.getLabelModel(),i=sc(a),j=1;c>40&&(j=Math.ceil(c/40));for(var k=0;k<c;k+=j){var l=i(b?b[k]:{value:g[0]+k},k),m=function(a,b){var c=b*Math.PI/180,d=a.width,e=a.height,f=d*Math.abs(Math.cos(c))+Math.abs(e*Math.sin(c)),g=d*Math.abs(Math.sin(c))+Math.abs(e*Math.cos(c));return new ca(a.x,a.y,f,g)}(h.getTextRect(l),h.get("rotate")||0);d?d.union(m):d=m}return d}}(a);if(b){var c=a.isHorizontal()?"height":"width",d=a.model.get(["axisLabel","margin"]);f[c]-=b[c]+d,"top"===a.position?f.y+=b.height+d:"left"===a.position&&(f.x+=b.width+d)}}}),h()),aH(this._coordsList,function(a){a.calcAffineTransform()})},a.prototype.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c)return c[b||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(a,b){if(null!=a&&null!=b){var c="x"+a+"y"+b;return this._coordsMap[c]}aT(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var d=0,e=this._coordsList;d<e.length;d++)if(e[d].getAxis("x").index===a||e[d].getAxis("y").index===b)return e[d]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(a,b,c){var d=this._findConvertTarget(b);return d.cartesian?d.cartesian.dataToPoint(c):d.axis?d.axis.toGlobalCoord(d.axis.dataToCoord(c)):null},a.prototype.convertFromPixel=function(a,b,c){var d=this._findConvertTarget(b);return d.cartesian?d.cartesian.pointToData(c):d.axis?d.axis.coordToData(d.axis.toLocalCoord(c)):null},a.prototype._findConvertTarget=function(a){var b,c,d=a.seriesModel,e=a.xAxisModel||d&&d.getReferringComponents("xAxis",e2).models[0],f=a.yAxisModel||d&&d.getReferringComponents("yAxis",e2).models[0],g=a.gridModel,h=this._coordsList;return d?0>aE(h,b=d.coordinateSystem)&&(b=null):e&&f?b=this.getCartesian(e.componentIndex,f.componentIndex):e?c=this.getAxis("x",e.componentIndex):f?c=this.getAxis("y",f.componentIndex):g&&g.coordinateSystem===this&&(b=this._coordsList[0]),{cartesian:b,axis:c}},a.prototype.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)},a.prototype._initCartesian=function(a,b,c){var d=this,e=this,f={left:!1,right:!1,top:!1,bottom:!1},g={x:{},y:{}},h={x:0,y:0};if(b.eachComponent("xAxis",i("x"),this),b.eachComponent("yAxis",i("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}function i(b){return function(c,d){if(sC(c,a)){var i=c.get("position");"x"===b?"top"!==i&&"bottom"!==i&&(i=f.bottom?"top":"bottom"):"left"!==i&&"right"!==i&&(i=f.left?"right":"left"),f[i]=!0;var j=new sv(b,sb(c),[0,0],c.get("type"),i),k="category"===j.type;j.onBand=k&&c.get("boundaryGap"),j.inverse=c.get("inverse"),c.axis=j,j.model=c,j.grid=e,j.index=d,e._axesList.push(j),g[b][d]=j,h[b]++}}}this._axesMap=g,aH(g.x,function(b,c){aH(g.y,function(e,f){var g="x"+c+"y"+f,h=new sk(g);h.master=d,h.model=a,d._coordsMap[g]=h,d._coordsList.push(h),h.addAxis(b),h.addAxis(e)})})},a.prototype._updateScale=function(a,b){function c(a,b){aH(sg(a,b.dim),function(c){b.scale.unionExtentFromData(a,c)})}aH(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),"category"===a.type){var b=a.model.get("categorySortInfo");a.scale.setSortInfo(b)}}),a.eachSeries(function(a){if(sx(a)){var d=sy(a),e=d.xAxisModel,f=d.yAxisModel;if(sC(e,b)&&sC(f,b)){var g=this.getCartesian(e.componentIndex,f.componentIndex),h=a.getData(),i=g.getAxis("x"),j=g.getAxis("y");c(h,i),c(h,j)}}},this)},a.prototype.getTooltipAxes=function(a){var b=[],c=[];return aH(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis(),f=d.getOtherAxis(e);0>aE(b,e)&&b.push(e),0>aE(c,f)&&c.push(f)}),{baseAxes:b,otherAxes:c}},a.create=function(b,c){var d=[];return b.eachComponent("grid",function(e,f){var g=new a(e,b,c);g.name="grid_"+f,g.resize(e,c,!0),e.coordinateSystem=g,d.push(g)}),b.eachSeries(function(a){if(sx(a)){var b=sy(a),c=b.xAxisModel,d=b.yAxisModel;a.coordinateSystem=c.getCoordSysModel().coordinateSystem.getCartesian(c.componentIndex,d.componentIndex)}}),d},a.dimensions=si,a}();function sC(a,b){return a.getCoordSysModel()===b}function sD(a,b,c,d){c.getAxesOnZeroOf=function(){return e?[e]:[]};var e,f=a[b],g=c.model,h=g.get(["axisLine","onZero"]),i=g.get(["axisLine","onZeroAxisIndex"]);if(h){if(null!=i)sE(f[i])&&(e=f[i]);else for(var j in f)if(f.hasOwnProperty(j)&&sE(f[j])&&!d[k(f[j])]){e=f[j];break}e&&(d[k(e)]=!0)}function k(a){return a.dim+"_"+a.index}}function sE(a){var b,c,d;return a&&"category"!==a.type&&"time"!==a.type&&(c=(b=a.scale.getExtent())[0],d=b[1],!(c>0&&d>0||c<0&&d<0))}var sF=Math.PI,sG=function(){function a(a,b){this.group=new em,this.opt=b,this.axisModel=a,aD(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var c=new em({x:b.position[0],y:b.position[1],rotation:b.rotation});c.updateTransform(),this._transformGroup=c}return a.prototype.hasBuilder=function(a){return!!sH[a]},a.prototype.add=function(a){sH[a](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(a,b,c){var d,e,f=eA(b-a);return eB(f)?(e=c>0?"top":"bottom",d="center"):eB(f-sF)?(e=c>0?"bottom":"top",d="center"):(e="middle",d=f>0&&f<sF?c>0?"right":"left":c>0?"left":"right"),{rotation:f,textAlign:d,textVerticalAlign:e}},a.makeAxisEventDataBase=function(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};return b[a.mainType+"Index"]=a.componentIndex,b},a.isLabelSilent=function(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)},a}(),sH={axisLine:function(a,b,c,d){var e=b.get(["axisLine","show"]);if("auto"===e&&a.handleAutoShown&&(e=a.handleAutoShown("axisLine")),e){var f=b.axis.getExtent(),g=d.transform,h=[f[0],0],i=[f[1],0],j=h[0]>i[0];g&&(bs(h,h,g),bs(i,i,g));var k=aC({lineCap:"round"},b.getModel(["axisLine","lineStyle"]).getLineStyle()),l=new lI({shape:{x1:h[0],y1:h[1],x2:i[0],y2:i[1]},style:k,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});mb(l.shape,l.style.lineWidth),l.anid="line",c.add(l);var m=b.get(["axisLine","symbol"]);if(null!=m){var n=b.get(["axisLine","symbolSize"]);aQ(m)&&(m=[m,m]),(aQ(n)||aS(n))&&(n=[n,n]);var o=no(b.get(["axisLine","symbolOffset"])||0,n),p=n[0],q=n[1];aH([{rotate:a.rotation+Math.PI/2,offset:o[0],r:0},{rotate:a.rotation-Math.PI/2,offset:o[1],r:Math.sqrt((h[0]-i[0])*(h[0]-i[0])+(h[1]-i[1])*(h[1]-i[1]))}],function(b,d){if("none"!==m[d]&&null!=m[d]){var e=nm(m[d],-p/2,-q/2,p,q,k.stroke,!0),f=b.r+b.offset,g=j?i:h;e.attr({rotation:b.rotate,x:g[0]+f*Math.cos(a.rotation),y:g[1]-f*Math.sin(a.rotation),silent:!0,z2:11}),c.add(e)}})}}},axisTickLabel:function(a,b,c,d){var e=function(a,b,c,d){var e=c.axis,f=c.getModel("axisTick"),g=f.get("show");if("auto"===g&&d.handleAutoShown&&(g=d.handleAutoShown("axisTick")),!(!g||e.scale.isBlank())){for(var h=f.getModel("lineStyle"),i=d.tickDirection*f.get("length"),j=sL(e.getTicksCoords(),b.transform,i,aD(h.getLineStyle(),{stroke:c.get(["axisLine","lineStyle","color"])}),"ticks"),k=0;k<j.length;k++)a.add(j[k]);return j}}(c,d,b,a),f=function(a,b,c,d){var e=c.axis;if(!(!aY(d.axisLabelShow,c.get(["axisLabel","show"]))||e.scale.isBlank())){var f=c.getModel("axisLabel"),g=f.get("margin"),h=e.getViewLabels(),i=(aY(d.labelRotate,f.get("rotate"))||0)*sF/180,j=sG.innerTextLayout(d.rotation,i,d.labelDirection),k=c.getCategories&&c.getCategories(!0),l=[],m=sG.isLabelSilent(c),n=c.get("triggerEvent");return aH(h,function(i,o){var p="ordinal"===e.scale.type?e.scale.getRawOrdinalNumber(i.tickValue):i.tickValue,q=i.formattedLabel,r=i.rawLabel,s=f;if(k&&k[p]){var t=k[p];aT(t)&&t.textStyle&&(s=new h2(t.textStyle,f,c.ecModel))}var u=s.getTextColor()||c.get(["axisLine","lineStyle","color"]),v=e.dataToCoord(p),w=s.getShallow("align",!0)||j.textAlign,x=aZ(s.getShallow("alignMinLabel",!0),w),y=aZ(s.getShallow("alignMaxLabel",!0),w),z=s.getShallow("verticalAlign",!0)||s.getShallow("baseline",!0)||j.textVerticalAlign,A=aZ(s.getShallow("verticalAlignMinLabel",!0),z),B=aZ(s.getShallow("verticalAlignMaxLabel",!0),z),C=new gB({x:v,y:d.labelOffset+d.labelDirection*g,rotation:j.rotation,silent:m,z2:10+(i.level||0),style:hK(s,{text:q,align:0===o?x:o===h.length-1?y:w,verticalAlign:0===o?A:o===h.length-1?B:z,fill:aP(u)?u("category"===e.type?r:"value"===e.type?p+"":p,o):u})});if(C.anid="label_"+p,n){var D=sG.makeAxisEventDataBase(c);D.targetType="axisLabel",D.value=r,D.tickIndex=o,"category"===e.type&&(D.dataIndex=p),gO(C).eventData=D}b.add(C),C.updateTransform(),l.push(C),a.add(C),C.decomposeTransform()}),l}}(c,d,b,a);(function(a,b,c){if(!sf(a.axis)){var d=a.get(["axisLabel","showMinLabel"]),e=a.get(["axisLabel","showMaxLabel"]);c=c||[];var f=(b=b||[])[0],g=b[1],h=b[b.length-1],i=b[b.length-2],j=c[0],k=c[1],l=c[c.length-1],m=c[c.length-2];!1===d?(sI(f),sI(j)):sJ(f,g)&&(d?(sI(g),sI(k)):(sI(f),sI(j))),!1===e?(sI(h),sI(l)):sJ(i,h)&&(e?(sI(i),sI(m)):(sI(h),sI(l)))}})(b,f,e),function(a,b,c,d){var e=c.axis,f=c.getModel("minorTick");if(!(!f.get("show")||e.scale.isBlank())){var g=e.getMinorTicksCoords();if(g.length)for(var h=f.getModel("lineStyle"),i=d*f.get("length"),j=aD(h.getLineStyle(),aD(c.getModel("axisTick").getLineStyle(),{stroke:c.get(["axisLine","lineStyle","color"])})),k=0;k<g.length;k++)for(var l=sL(g[k],b.transform,i,j,"minorticks_"+k),m=0;m<l.length;m++)a.add(l[m])}}(c,d,b,a.tickDirection),b.get(["axisLabel","hideOverlap"])&&rg(rd(aI(f,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(a,b,c,d){var e,f,g=aY(a.axisName,b.get("name"));if(g){var h,i,j,k,l,m,n,o,p,q=b.get("nameLocation"),r=a.nameDirection,s=b.getModel("nameTextStyle"),t=b.get("nameGap")||0,u=b.axis.getExtent(),v=u[0]>u[1]?-1:1,w=["start"===q?u[0]-v*t:"end"===q?u[1]+v*t:(u[0]+u[1])/2,sK(q)?a.labelOffset+r*t:0],x=b.get("nameRotate");null!=x&&(x=x*sF/180),sK(q)?e=sG.innerTextLayout(a.rotation,null!=x?x:a.rotation,r):(h=a.rotation,i=q,j=x||0,k=u,n=eA(j-h),o=k[0]>k[1],p="start"===i&&!o||"start"!==i&&o,eB(n-sF/2)?(m=p?"bottom":"top",l="center"):eB(n-1.5*sF)?(m=p?"top":"bottom",l="center"):(m="middle",l=n<1.5*sF&&n>sF/2?p?"left":"right":p?"right":"left"),e={rotation:n,textAlign:l,textVerticalAlign:m},null!=(f=a.axisNameAvailableWidth)&&(isFinite(f=Math.abs(f/Math.sin(e.rotation)))||(f=null)));var y=s.getFont(),z=b.get("nameTruncate",!0)||{},A=z.ellipsis,B=aY(a.nameTruncateMaxWidth,z.maxWidth,f),C=new gB({x:w[0],y:w[1],rotation:e.rotation,silent:sG.isLabelSilent(b),style:hK(s,{text:g,font:y,overflow:"truncate",width:B,ellipsis:A,fill:s.getTextColor()||b.get(["axisLine","lineStyle","color"]),align:s.get("align")||e.textAlign,verticalAlign:s.get("verticalAlign")||e.textVerticalAlign}),z2:1});if(mn({el:C,componentModel:b,itemName:g}),C.__fullText=g,C.anid="name",b.get("triggerEvent")){var D=sG.makeAxisEventDataBase(b);D.targetType="axisName",D.name=g,gO(C).eventData=D}d.add(C),C.updateTransform(),c.add(C),C.decomposeTransform()}}};function sI(a){a&&(a.ignore=!0)}function sJ(a,b){var c=a&&a.getBoundingRect().clone(),d=b&&b.getBoundingRect().clone();if(c&&d){var e=bW([]);return b$(e,e,-a.rotation),c.applyTransform(bY([],e,a.getLocalTransform())),d.applyTransform(bY([],e,b.getLocalTransform())),c.intersect(d)}}function sK(a){return"middle"===a||"center"===a}function sL(a,b,c,d,e){for(var f=[],g=[],h=[],i=0;i<a.length;i++){var j=a[i].coord;g[0]=j,g[1]=0,h[0]=j,h[1]=c,b&&(bs(g,g,b),bs(h,h,b));var k=new lI({shape:{x1:g[0],y1:g[1],x2:h[0],y2:h[1]},style:d,z2:2,autoBatch:!0,silent:!0});mb(k.shape,k.style.lineWidth),k.anid=e+"_"+a[i].tickValue,f.push(k)}return f}function sM(a,b){return"all"===a||aO(a)&&aE(a,b)>=0||a===b}function sN(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[sP(a)]}function sO(a){return!!a.get(["handle","show"])}function sP(a){return a.type+"||"+a.id}var sQ={},sR=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(b,c,d,e){this.axisPointerClass&&function(a){var b=sN(a);if(b){var c=b.axisPointerModel,d=b.axis.scale,e=c.option,f=c.get("status"),g=c.get("value");null!=g&&(g=d.parse(g));var h=sO(c);null==f&&(e.status=h?"show":"hide");var i=d.getExtent().slice();i[0]>i[1]&&i.reverse(),(null==g||g>i[1])&&(g=i[1]),g<i[0]&&(g=i[0]),e.value=g,h&&(e.status=b.axis.scale.isBlank()?"hide":"show")}}(b),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(b,d,!0)},b.prototype.updateAxisPointer=function(a,b,c,d){this._doUpdateAxisPointerClass(a,c,!1)},b.prototype.remove=function(a,b){var c=this._axisPointer;c&&c.remove(b)},b.prototype.dispose=function(b,c){this._disposeAxisPointer(c),a.prototype.dispose.apply(this,arguments)},b.prototype._doUpdateAxisPointerClass=function(a,c,d){var e=b.getAxisPointerClass(this.axisPointerClass);if(e){var f,g=(f=sN(a))&&f.axisPointerModel;g?(this._axisPointer||(this._axisPointer=new e)).render(a,g,c,d):this._disposeAxisPointer(c)}},b.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},b.registerAxisPointerClass=function(a,b){sQ[a]=b},b.getAxisPointerClass=function(a){return a&&sQ[a]},b.type="axis",b}(kZ),sS=e$();function sT(a,b,c,d){var e=c.axis;if(!e.scale.isBlank()){var f=c.getModel("splitArea"),g=f.getModel("areaStyle"),h=g.get("color"),i=d.coordinateSystem.getRect(),j=e.getTicksCoords({tickModel:f,clamp:!0});if(j.length){var k=h.length,l=sS(a).splitAreaColors,m=a7(),n=0;if(l)for(var o=0;o<j.length;o++){var p=l.get(j[o].tickValue);if(null!=p){n=(p+(k-1)*o)%k;break}}var q=e.toGlobalCoord(j[0].coord),r=g.getAreaStyle();h=aO(h)?h:[h];for(var o=1;o<j.length;o++){var s=e.toGlobalCoord(j[o].coord),t=void 0,u=void 0,v=void 0,w=void 0;e.isHorizontal()?(t=q,u=i.y,v=s-t,w=i.height,q=t+v):(t=i.x,u=q,v=i.width,w=s-u,q=u+w);var x=j[o-1].tickValue;null!=x&&m.set(x,n),b.add(new gy({anid:null!=x?"area_"+x:null,shape:{x:t,y:u,width:v,height:w},style:aD({fill:h[n]},r),autoBatch:!0,silent:!0})),n=(n+1)%k}sS(a).splitAreaColors=m}}}function sU(a){sS(a).splitAreaColors=null}var sV=["axisLine","axisTickLabel","axisName"],sW=["splitArea","splitLine","minorSplitLine"],sX=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="CartesianAxisPointer",c}return af(b,a),b.prototype.render=function(b,c,d,e){this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new em,this.group.add(this._axisGroup),b.get("show")){var g=b.getCoordSysModel(),h=sw(g,b),i=new sG(b,aC({handleAutoShown:function(a){for(var c=g.coordinateSystem.getCartesians(),d=0;d<c.length;d++)if(rM(c[d].getOtherAxis(b.axis).scale))return!0;return!1}},h));aH(sV,i.add,i),this._axisGroup.add(i.getGroup()),aH(sW,function(a){b.get([a,"show"])&&sY[a](this,this._axisGroup,b,g)},this),e&&"changeAxisOrder"===e.type&&e.isInitSort||mh(f,this._axisGroup,b),a.prototype.render.call(this,b,c,d,e)}},b.prototype.remove=function(){sU(this)},b.type="cartesianAxis",b}(sR),sY={splitLine:function(a,b,c,d){var e=c.axis;if(!e.scale.isBlank()){var f=c.getModel("splitLine"),g=f.getModel("lineStyle"),h=g.get("color");h=aO(h)?h:[h];for(var i=d.coordinateSystem.getRect(),j=e.isHorizontal(),k=0,l=e.getTicksCoords({tickModel:f}),m=[],n=[],o=g.getLineStyle(),p=0;p<l.length;p++){var q=e.toGlobalCoord(l[p].coord);j?(m[0]=q,m[1]=i.y,n[0]=q,n[1]=i.y+i.height):(m[0]=i.x,m[1]=q,n[0]=i.x+i.width,n[1]=q);var r=k++%h.length,s=new lI({anid:null!=l[p].tickValue?"line_"+l[p].tickValue:null,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:n[0],y2:n[1]},style:aD({stroke:h[r]},o),silent:!0});mb(s.shape,o.lineWidth),b.add(s)}}},minorSplitLine:function(a,b,c,d){var e=c.axis,f=c.getModel("minorSplitLine").getModel("lineStyle"),g=d.coordinateSystem.getRect(),h=e.isHorizontal(),i=e.getMinorTicksCoords();if(i.length)for(var j=[],k=[],l=f.getLineStyle(),m=0;m<i.length;m++)for(var n=0;n<i[m].length;n++){var o=e.toGlobalCoord(i[m][n].coord);h?(j[0]=o,j[1]=g.y,k[0]=o,k[1]=g.y+g.height):(j[0]=g.x,j[1]=o,k[0]=g.x+g.width,k[1]=o);var p=new lI({anid:"minor_line_"+i[m][n].tickValue,autoBatch:!0,shape:{x1:j[0],y1:j[1],x2:k[0],y2:k[1]},style:l,silent:!0});mb(p.shape,l.lineWidth),b.add(p)}},splitArea:function(a,b,c,d){sT(a,b,c,d)}},sZ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="xAxis",b}(sX),s$=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type=sZ.type,b}return af(b,a),b.type="yAxis",b}(sX),s_=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="grid",b}return af(b,a),b.prototype.render=function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new gy({shape:a.coordinateSystem.getRect(),style:aD({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},b.type="grid",b}(kZ),s0={offset:0};function s1(a){a.registerComponentView(s_),a.registerComponentModel(rw),a.registerCoordinateSystem("cartesian2d",sB),rJ(a,"x",ry,s0),rJ(a,"y",ry,s0),a.registerComponentView(sZ),a.registerComponentView(s$),a.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})}function s2(a){a.eachSeriesByType("radar",function(a){var b=a.getData(),c=[],d=a.coordinateSystem;if(d){var e=d.getIndicatorAxes();aH(e,function(a,f){b.each(b.mapDimension(e[f].dim),function(a,b){c[b]=c[b]||[];var e,g=d.dataToPoint(a,f);c[b][f]=s3(g)?g:[(e=d).cx,e.cy]})}),b.each(function(a){var e,f=function(a,b,c){if(a&&b){for(var d=0,e=a.length;d<e;d++)if(b.call(void 0,a[d],d,a))return a[d]}}(c[a],function(a){return s3(a)})||[(e=d).cx,e.cy];c[a].push(f.slice()),b.setItemLayout(a,c[a])})}})}function s3(a){return!isNaN(a[0])&&!isNaN(a[1])}function s4(a){var b=a.polar;if(b){aO(b)||(b=[b]);var c=[];aH(b,function(b,d){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],aO(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)}),a.polar=c}aH(a.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}a.i(493374),a.s(["Arc",0,lO,"BezierCurve",0,lM,"BoundingRect",0,ca,"Circle",0,lj,"CompoundPath",0,lP,"Ellipse",0,ll,"Group",0,em,"Image",0,gr,"IncrementalDisplayable",0,lZ,"Line",0,lI,"LinearGradient",0,lR,"OrientedBoundingRect",0,lX,"Path",0,gm,"Point",0,b1,"Polygon",0,lD,"Polyline",0,lF,"RadialGradient",0,lS,"Rect",0,gy,"Ring",0,lA,"Sector",0,ly,"Text",0,gB,"applyTransform",()=>mf,"clipPointsByRect",()=>mi,"clipRectByRect",()=>mj,"createIcon",()=>mk,"extendPath",()=>l3,"extendShape",()=>l1,"getShapeClass",()=>l5,"getTransform",()=>me,"groupTransition",()=>mh,"initProps",()=>hz,"isElementRemoved",()=>hA,"lineLineIntersect",()=>mm,"linePolygonIntersect",()=>ml,"makeImage",()=>l7,"makePath",()=>l6,"mergePath",()=>l9,"registerShape",()=>l4,"removeElement",()=>hB,"removeElementWithFadeOut",()=>hD,"resizePath",()=>ma,"setTooltipConfig",()=>mn,"subPixelOptimize",()=>md,"subPixelOptimizeLine",()=>mb,"subPixelOptimizeRect",()=>mc,"transformDirection",()=>mg,"traverseElements",()=>mp,"updateProps",()=>hy],478980);var s5=a.i(478980),s6=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=a.coordinateSystem,e=this.group,f=a.getData(),g=this._data;function h(b,c,d,e,f,g){d.removeAll();for(var h=0;h<c.length-1;h++){var i=function(a,b){var c=a.getItemVisual(b,"symbol")||"circle";if("none"!==c){var d=nn(a.getItemVisual(b,"symbolSize")),e=nm(c,-1,-1,2,2),f=a.getItemVisual(b,"symbolRotate")||0;return e.attr({style:{strokeNoScale:!0},z2:100,scaleX:d[0]/2,scaleY:d[1]/2,rotation:f*Math.PI/180||0}),e}}(e,f);i&&(i.__dimIdx=h,b[h]?(i.setPosition(b[h]),s5[g?"initProps":"updateProps"](i,{x:c[h][0],y:c[h][1]},a,f)):i.setPosition(c[h]),d.add(i))}}function i(a){return aI(a,function(a){return[d.cx,d.cy]})}f.diff(g).add(function(b){var c=f.getItemLayout(b);if(c){var d=new s5.Polygon,e=new s5.Polyline,g={shape:{points:c}};d.shape.points=i(c),e.shape.points=i(c),s5.initProps(d,g,a,b),s5.initProps(e,g,a,b);var j=new s5.Group,k=new s5.Group;j.add(e),j.add(d),j.add(k),h(e.shape.points,c,k,f,b,!0),f.setItemGraphicEl(b,j)}}).update(function(b,c){var d=g.getItemGraphicEl(c),e=d.childAt(0),i=d.childAt(1),j=d.childAt(2),k={shape:{points:f.getItemLayout(b)}};k.shape.points&&(h(e.shape.points,k.shape.points,j,f,b,!1),hE(i),hE(e),s5.updateProps(e,k,a),s5.updateProps(i,k,a),f.setItemGraphicEl(b,d))}).remove(function(a){e.remove(g.getItemGraphicEl(a))}).execute(),f.eachItemGraphicEl(function(a,b){var c=f.getItemModel(b),d=a.childAt(0),g=a.childAt(1),h=a.childAt(2),i=f.getItemVisual(b,"style"),j=i.fill;e.add(a),d.useStyle(aD(c.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:j})),hq(d,c,"lineStyle"),hq(g,c,"areaStyle");var k=c.getModel("areaStyle"),l=k.isEmpty()&&k.parentModel.isEmpty();g.ignore=l,aH(["emphasis","select","blur"],function(a){var b=c.getModel([a,"areaStyle"]),d=b.isEmpty()&&b.parentModel.isEmpty();g.ensureState(a).ignore=d&&l}),g.useStyle(aD(k.getAreaStyle(),{fill:j,opacity:.7,decal:i.decal}));var m=c.getModel("emphasis"),n=m.getModel("itemStyle").getItemStyle();h.eachChild(function(a){if(a instanceof gr){var d=a.style;a.useStyle(aC({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},i))}else a.useStyle(i),a.setColor(j),a.style.strokeNoScale=!0;a.ensureState("emphasis").style=az(n);var e=f.getStore().get(f.getDimensionIndex(a.__dimIdx),b);(null==e||isNaN(e))&&(e=""),hI(a,hJ(c),{labelFetcher:f.hostModel,labelDataIndex:b,labelDimIndex:a.__dimIdx,defaultText:e,inheritColor:j,defaultOpacity:i.opacity})}),hm(a,m.get("focus"),m.get("blurScope"),m.get("disabled"))}),this._data=f},b.prototype.remove=function(){this.group.removeAll(),this._data=null},b.type="radar",b}(ms),s7=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return af(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new ro(aM(this.getData,this),aM(this.getRawData,this))},b.prototype.getInitialData=function(a,b){return rn(this,{generateCoord:"indicator_",generateCoordCount:1/0})},b.prototype.formatTooltip=function(a,b,c){var d=this.getData(),e=this.coordinateSystem.getIndicatorAxes(),f=this.getData().getName(a),g=""===f?this.name:f,h=kK(this,a);return kD("section",{header:g,sortBlocks:!0,blocks:aI(e,function(b){var c=d.get(d.mapDimension(b.dim),a);return kD("nameValue",{markerType:"subItem",markerColor:h,name:b.name,value:c,sortParam:c})})})},b.prototype.getTooltipPosition=function(a){if(null!=a){for(var b=this.getData(),c=this.coordinateSystem,d=b.getValues(aI(c.dimensions,function(a){return b.mapDimension(a)}),a),e=0,f=d.length;e<f;e++)if(!isNaN(d[e])){var g=c.getIndicatorAxes();return c.coordToPoint(g[e].dataToCoord(d[e]),e)}}},b.type="series.radar",b.dependencies=["radar"],b.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},b}(kR),s8=rE.value;function s9(a,b){return aD({show:b},a)}var ta=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.optionUpdated=function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),f=this.get("axisLabel"),g=this.get("axisName"),h=this.get(["axisName","show"]),i=this.get(["axisName","formatter"]),j=this.get("axisNameGap"),k=this.get("triggerEvent"),l=aI(this.get("indicator")||[],function(l){null!=l.max&&l.max>0&&!l.min?l.min=0:null!=l.min&&l.min<0&&!l.max&&(l.max=0);var m=g;null!=l.color&&(m=aD({color:l.color},g));var n=aA(az(l),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisLabel:f,name:l.text,showName:h,nameLocation:"end",nameGap:j,nameTextStyle:m,triggerEvent:k},!1);if(aQ(i)){var o=n.name;n.name=i.replace("{value}",null!=o?o:"")}else aP(i)&&(n.name=i(n.name,n));var p=new h2(n,null,this.ecModel);return aF(p,rx.prototype),p.mainType="radar",p.componentIndex=this.componentIndex,p},this);this._indicatorModels=l},b.prototype.getIndicatorModels=function(){return this._indicatorModels},b.type="radar",b.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:aA({lineStyle:{color:"#bbb"}},s8.axisLine),axisLabel:s9(s8.axisLabel,!1),axisTick:s9(s8.axisTick,!1),splitLine:s9(s8.splitLine,!0),splitArea:s9(s8.splitArea,!0),indicator:[]},b}(iU),tb=["axisLine","axisTickLabel","axisName"],tc=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){this.group.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},b.prototype._buildAxes=function(a){var b=a.coordinateSystem;aH(aI(b.getIndicatorAxes(),function(a){var c=a.model.get("showName")?a.name:"";return new sG(a.model,{axisName:c,position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(a){aH(tb,a.add,a),this.group.add(a.getGroup())},this)},b.prototype._buildSplitLineAndArea=function(a){var b=a.coordinateSystem,c=b.getIndicatorAxes();if(c.length){var d=a.get("shape"),e=a.getModel("splitLine"),f=a.getModel("splitArea"),g=e.getModel("lineStyle"),h=f.getModel("areaStyle"),i=e.get("show"),j=f.get("show"),k=g.get("color"),l=h.get("color"),m=aO(k)?k:[k],n=aO(l)?l:[l],o=[],p=[];if("circle"===d)for(var q=c[0].getTicksCoords(),r=b.cx,s=b.cy,t=0;t<q.length;t++){if(i){var u=C(o,m,t);o[u].push(new lj({shape:{cx:r,cy:s,r:q[t].coord}}))}if(j&&t<q.length-1){var u=C(p,n,t);p[u].push(new lA({shape:{cx:r,cy:s,r0:q[t].coord,r:q[t+1].coord}}))}}else for(var v,w=aI(c,function(a,c){var d=a.getTicksCoords();return v=null==v?d.length-1:Math.min(d.length-1,v),aI(d,function(a){return b.coordToPoint(a.coord,c)})}),x=[],t=0;t<=v;t++){for(var y=[],z=0;z<c.length;z++)y.push(w[z][t]);if(y[0]&&y.push(y[0].slice()),i){var u=C(o,m,t);o[u].push(new lF({shape:{points:y}}))}if(j&&x){var u=C(p,n,t-1);p[u].push(new lD({shape:{points:y.concat(x)}}))}x=y.slice().reverse()}var A=g.getLineStyle(),B=h.getAreaStyle();aH(p,function(a,b){this.group.add(l9(a,{style:aD({stroke:"none",fill:n[b%n.length]},B),silent:!0}))},this),aH(o,function(a,b){this.group.add(l9(a,{style:aD({fill:"none",stroke:m[b%m.length]},A),silent:!0}))},this)}function C(a,b,c){var d=c%b.length;return a[d]=a[d]||[],d}},b.type="radar",b}(kZ),td=function(a){function b(b,c,d){var e=a.call(this,b,c,d)||this;return e.type="value",e.angle=0,e.name="",e}return af(b,a),b}(st),te=function(){function a(a,b,c){this.dimensions=[],this._model=a,this._indicatorAxes=aI(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new td(c,new rT);return d.name=a.get("name"),d.model=a,a.axis=d,this.dimensions.push(c),d},this),this.resize(a,c)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(a,b){var c=this._indicatorAxes[b];return this.coordToPoint(c.dataToCoord(a),b)},a.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b].angle;return[this.cx+a*Math.cos(c),this.cy-a*Math.sin(c)]},a.prototype.pointToData=function(a){var b,c=a[0]-this.cx,d=a[1]-this.cy,e=Math.sqrt(c*c+d*d);c/=e;for(var f=Math.atan2(-(d/=e),c),g=1/0,h=-1,i=0;i<this._indicatorAxes.length;i++){var j=this._indicatorAxes[i],k=Math.abs(f-j.angle);k<g&&(b=j,h=i,g=k)}return[h,+(b&&b.coordToData(e))]},a.prototype.resize=function(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight(),f=Math.min(d,e)/2;this.cx=es(c[0],d),this.cy=es(c[1],e),this.startAngle=a.get("startAngle")*Math.PI/180;var g=a.get("radius");(aQ(g)||aS(g))&&(g=[0,g]),this.r0=es(g[0],f),this.r=es(g[1],f),aH(this._indicatorAxes,function(a,b){a.setExtent(this.r0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length;a.angle=Math.atan2(Math.sin(c),Math.cos(c))},this)},a.prototype.update=function(a,b){var c=this._indicatorAxes,d=this._model;aH(c,function(a){a.scale.setExtent(1/0,-1/0)}),a.eachSeriesByType("radar",function(b,e){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===d){var f=b.getData();aH(c,function(a){a.scale.unionExtentFromData(f,f.mapDimension(a.dim))})}},this);var e=d.get("splitNumber"),f=new rT;f.setExtent(0,e),f.setInterval(1),aH(c,function(a,b){sA(a.scale,a.model,f)})},a.prototype.convertToPixel=function(a,b,c){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(a,b,c){return console.warn("Not implemented."),null},a.prototype.containPoint=function(a){return console.warn("Not implemented."),!1},a.create=function(b,c){var d=[];return b.eachComponent("radar",function(e){var f=new a(e,b,c);d.push(f),e.coordinateSystem=f}),b.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=d[a.get("radarIndex")||0])}),d},a.dimensions=[],a}();function tf(a){a.registerCoordinateSystem("radar",te),a.registerComponentModel(ta),a.registerComponentView(tc),a.registerVisual({seriesType:"radar",reset:function(a){var b=a.getData();b.each(function(a){b.setItemVisual(a,"legendIcon","roundRect")}),b.setVisual("legendIcon","roundRect")}})}var tg="\0_ec_interaction_mutex";function th(a){return a[tg]||(a[tg]={})}oe({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},bc);var ti=function(a){function b(b){var c=a.call(this)||this;c._zr=b;var d=aM(c._mousedownHandler,c),e=aM(c._mousemoveHandler,c),f=aM(c._mouseupHandler,c),g=aM(c._mousewheelHandler,c),h=aM(c._pinchHandler,c);return c.enable=function(a,c){this.disable(),this._opt=aD(az(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==a&&(a=!0),(!0===a||"move"===a||"pan"===a)&&(b.on("mousedown",d),b.on("mousemove",e),b.on("mouseup",f)),(!0===a||"scale"===a||"zoom"===a)&&(b.on("mousewheel",g),b.on("pinch",h))},c.disable=function(){b.off("mousedown",d),b.off("mousemove",e),b.off("mouseup",f),b.off("mousewheel",g),b.off("pinch",h)},c}return af(b,a),b.prototype.isDragging=function(){return this._dragging},b.prototype.isPinching=function(){return this._pinching},b.prototype.setPointerChecker=function(a){this.pointerChecker=a},b.prototype.dispose=function(){this.disable()},b.prototype._mousedownHandler=function(a){if(!bR(a)){for(var b=a.target;b;){if(b.draggable)return;b=b.__hostTarget||b.parent}var c=a.offsetX,d=a.offsetY;this.pointerChecker&&this.pointerChecker(a,c,d)&&(this._x=c,this._y=d,this._dragging=!0)}},b.prototype._mousemoveHandler=function(a){if(!(!this._dragging||!tl("moveOnMouseMove",a,this._opt)||"pinch"===a.gestureEvent||th(this._zr).globalPan)){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y;this._x=b,this._y=c,this._opt.preventDefaultMouseMove&&bQ(a.event),tk(this,"pan","moveOnMouseMove",a,{dx:b-d,dy:c-e,oldX:d,oldY:e,newX:b,newY:c,isAvailableBehavior:null})}},b.prototype._mouseupHandler=function(a){bR(a)||(this._dragging=!1)},b.prototype._mousewheelHandler=function(a){var b=tl("zoomOnMouseWheel",a,this._opt),c=tl("moveOnMouseWheel",a,this._opt),d=a.wheelDelta,e=Math.abs(d),f=a.offsetX,g=a.offsetY;if(0!==d&&(b||c)){if(b){var h=e>3?1.4:e>1?1.2:1.1;tj(this,"zoom","zoomOnMouseWheel",a,{scale:d>0?h:1/h,originX:f,originY:g,isAvailableBehavior:null})}if(c){var i=Math.abs(d);tj(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(d>0?1:-1)*(i>3?.4:i>1?.15:.05),originX:f,originY:g,isAvailableBehavior:null})}}},b.prototype._pinchHandler=function(a){if(!th(this._zr).globalPan){var b=a.pinchScale>1?1.1:1/1.1;tj(this,"zoom",null,a,{scale:b,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})}},b}(bx);function tj(a,b,c,d,e){a.pointerChecker&&a.pointerChecker(d,e.originX,e.originY)&&(bQ(d.event),tk(a,b,c,d,e))}function tk(a,b,c,d,e){e.isAvailableBehavior=aM(tl,null,c,d),a.trigger(b,e)}function tl(a,b,c){var d=c[a];return!a||d&&(!aQ(d)||b.event[d+"Key"])}function tm(a,b,c){var d=a.target;d.x+=b,d.y+=c,d.dirty()}function tn(a,b,c,d){var e=a.target,f=a.zoomLimit,g=a.zoom=a.zoom||1;if(g*=b,f){var h=f.min||0;g=Math.max(Math.min(f.max||1/0,g),h)}var i=g/a.zoom;a.zoom=g,e.x-=(c-e.x)*(i-1),e.y-=(d-e.y)*(i-1),e.scaleX*=i,e.scaleY*=i,e.dirty()}var to={axisPointer:1,tooltip:1,brush:1};function tp(a,b,c){var d=b.getComponentByElement(a.topTarget),e=d&&d.coordinateSystem;return d&&d!==c&&!to.hasOwnProperty(d.mainType)&&e&&e.model!==c}function tq(a){aQ(a)&&(a=new DOMParser().parseFromString(a,"text/xml"));var b=a;for(9===b.nodeType&&(b=b.firstChild);"svg"!==b.nodeName.toLowerCase()||1!==b.nodeType;)b=b.nextSibling;return b}var tr={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},ts=aL(tr),tt={"alignment-baseline":"textBaseline","stop-color":"stopColor"},tu=aL(tt),tv=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(a,b){b=b||{};var c,d,e=tq(a);this._defsUsePending=[];var f=new em;this._root=f;var g=[],h=e.getAttribute("viewBox")||"",i=parseFloat(e.getAttribute("width")||b.width),j=parseFloat(e.getAttribute("height")||b.height);isNaN(i)&&(i=null),isNaN(j)&&(j=null),tB(e,f,null,!0,!1);for(var k=e.firstChild;k;)this._parseNode(k,f,g,null,!1,!1),k=k.nextSibling;if(function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d[0].style[d[1]]=a[d[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],h){var l=tF(h);l.length>=4&&(c={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])})}if(c&&null!=i&&null!=j&&(d=tK(c,{x:0,y:0,width:i,height:j}),!b.ignoreViewBox)){var m=f;(f=new em).add(m),m.scaleX=m.scaleY=d.scale,m.x=d.x,m.y=d.y}return b.ignoreRootClip||null==i||null==j||f.setClipPath(new gy({shape:{x:0,y:0,width:i,height:j}})),{root:f,width:i,height:j,viewBoxRect:c,viewBoxTransform:d,named:g}},a.prototype._parseNode=function(a,b,c,d,e,f){var g,h=a.nodeName.toLowerCase(),i=d;if("defs"===h&&(e=!0),"text"===h&&(f=!0),"defs"===h||"switch"===h)g=b;else{if(!e){var j=ab[h];if(j&&bb(ab,h)){g=j.call(this,a,b);var k=a.getAttribute("name");if(k){var l={name:k,namedFrom:null,svgNodeTagLower:h,el:g};c.push(l),"g"===h&&(i=l)}else d&&c.push({name:d.name,namedFrom:d,svgNodeTagLower:h,el:g});b.add(g)}}var m=tw[h];if(m&&bb(tw,h)){var n=m.call(this,a),o=a.getAttribute("id");o&&(this._defs[o]=n)}}if(g&&g.isGroup)for(var p=a.firstChild;p;)1===p.nodeType?this._parseNode(p,g,c,i,e,f):3===p.nodeType&&f&&this._parseText(p,g),p=p.nextSibling},a.prototype._parseText=function(a,b){var c=new go({style:{text:a.textContent},silent:!0,x:this._textX||0,y:this._textY||0});tz(b,c),tB(a,c,this._defsUsePending,!1,!1),function(a,b){var c=b.__selfStyle;if(c){var d=c.textBaseline,e=d;d&&"auto"!==d?"baseline"===d?e="alphabetic":"before-edge"===d||"text-before-edge"===d?e="top":"after-edge"===d||"text-after-edge"===d?e="bottom":("central"===d||"mathematical"===d)&&(e="middle"):e="alphabetic",a.style.textBaseline=e}var f=b.__inheritedStyle;if(f){var g=f.textAlign,h=g;g&&("middle"===g&&(h="center"),a.style.textAlign=h)}}(c,b);var d=c.style,e=d.fontSize;e&&e<9&&(d.fontSize=9,c.scaleX*=e/9,c.scaleY*=e/9);var f=(d.fontSize||d.fontFamily)&&[d.fontStyle,d.fontWeight,(d.fontSize||12)+"px",d.fontFamily||"sans-serif"].join(" ");d.font=f;var g=c.getBoundingRect();return this._textX+=g.width,b.add(c),c},a.internalField=void(ab={g:function(a,b){var c=new em;return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c},rect:function(a,b){var c=new gy;return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c.setShape({x:parseFloat(a.getAttribute("x")||"0"),y:parseFloat(a.getAttribute("y")||"0"),width:parseFloat(a.getAttribute("width")||"0"),height:parseFloat(a.getAttribute("height")||"0")}),c.silent=!0,c},circle:function(a,b){var c=new lj;return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c.setShape({cx:parseFloat(a.getAttribute("cx")||"0"),cy:parseFloat(a.getAttribute("cy")||"0"),r:parseFloat(a.getAttribute("r")||"0")}),c.silent=!0,c},line:function(a,b){var c=new lI;return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c.setShape({x1:parseFloat(a.getAttribute("x1")||"0"),y1:parseFloat(a.getAttribute("y1")||"0"),x2:parseFloat(a.getAttribute("x2")||"0"),y2:parseFloat(a.getAttribute("y2")||"0")}),c.silent=!0,c},ellipse:function(a,b){var c=new ll;return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c.setShape({cx:parseFloat(a.getAttribute("cx")||"0"),cy:parseFloat(a.getAttribute("cy")||"0"),rx:parseFloat(a.getAttribute("rx")||"0"),ry:parseFloat(a.getAttribute("ry")||"0")}),c.silent=!0,c},polygon:function(a,b){var c,d=a.getAttribute("points");d&&(c=tA(d));var e=new lD({shape:{points:c||[]},silent:!0});return tz(b,e),tB(a,e,this._defsUsePending,!1,!1),e},polyline:function(a,b){var c,d=a.getAttribute("points");d&&(c=tA(d));var e=new lF({shape:{points:c||[]},silent:!0});return tz(b,e),tB(a,e,this._defsUsePending,!1,!1),e},image:function(a,b){var c=new gr;return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c.setStyle({image:a.getAttribute("xlink:href")||a.getAttribute("href"),x:+a.getAttribute("x"),y:+a.getAttribute("y"),width:+a.getAttribute("width"),height:+a.getAttribute("height")}),c.silent=!0,c},text:function(a,b){var c=a.getAttribute("x")||"0",d=a.getAttribute("y")||"0",e=a.getAttribute("dx")||"0",f=a.getAttribute("dy")||"0";this._textX=parseFloat(c)+parseFloat(e),this._textY=parseFloat(d)+parseFloat(f);var g=new em;return tz(b,g),tB(a,g,this._defsUsePending,!1,!0),g},tspan:function(a,b){var c=a.getAttribute("x"),d=a.getAttribute("y");null!=c&&(this._textX=parseFloat(c)),null!=d&&(this._textY=parseFloat(d));var e=a.getAttribute("dx")||"0",f=a.getAttribute("dy")||"0",g=new em;return tz(b,g),tB(a,g,this._defsUsePending,!1,!0),this._textX+=parseFloat(e),this._textY+=parseFloat(f),g},path:function(a,b){var c=new le(lg(a.getAttribute("d")||"",void 0));return tz(b,c),tB(a,c,this._defsUsePending,!1,!1),c.silent=!0,c}}),a}(),tw={lineargradient:function(a){var b=new lR(parseInt(a.getAttribute("x1")||"0",10),parseInt(a.getAttribute("y1")||"0",10),parseInt(a.getAttribute("x2")||"10",10),parseInt(a.getAttribute("y2")||"0",10));return tx(a,b),ty(a,b),b},radialgradient:function(a){var b=new lS(parseInt(a.getAttribute("cx")||"0",10),parseInt(a.getAttribute("cy")||"0",10),parseInt(a.getAttribute("r")||"0",10));return tx(a,b),ty(a,b),b}};function tx(a,b){"userSpaceOnUse"===a.getAttribute("gradientUnits")&&(b.global=!0)}function ty(a,b){for(var c=a.firstChild;c;){if(1===c.nodeType&&"stop"===c.nodeName.toLocaleLowerCase()){var d=c.getAttribute("offset"),e=void 0;e=d&&d.indexOf("%")>0?parseInt(d,10)/100:d?parseFloat(d):0;var f={};tJ(c,f,f);var g=f.stopColor||c.getAttribute("stop-color")||"#000000";b.colorStops.push({offset:e,color:g})}c=c.nextSibling}}function tz(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),aD(b.__inheritedStyle,a.__inheritedStyle))}function tA(a){for(var b=tF(a),c=[],d=0;d<b.length;d+=2){var e=parseFloat(b[d]),f=parseFloat(b[d+1]);c.push([e,f])}return c}function tB(a,b,c,d,e){var f=b.__inheritedStyle=b.__inheritedStyle||{},g={};1===a.nodeType&&(function(a,b){var c=a.getAttribute("transform");if(c){c=c.replace(/,/g," ");var d=[],e=null;c.replace(tG,function(a,b,c){return d.push(b,c),""});for(var f=d.length-1;f>0;f-=2){var g=d[f],h=d[f-1],i=tF(g);switch(e=e||bV(),h){case"translate":bZ(e,e,[parseFloat(i[0]),parseFloat(i[1]||"0")]);break;case"scale":b_(e,e,[parseFloat(i[0]),parseFloat(i[1]||i[0])]);break;case"rotate":b$(e,e,-parseFloat(i[0])*tH,[parseFloat(i[1]||"0"),parseFloat(i[2]||"0")]);break;case"skewX":bY(e,[1,0,Math.tan(parseFloat(i[0])*tH),1,0,0],e);break;case"skewY":bY(e,[1,Math.tan(parseFloat(i[0])*tH),0,1,0,0],e);break;case"matrix":e[0]=parseFloat(i[0]),e[1]=parseFloat(i[1]),e[2]=parseFloat(i[2]),e[3]=parseFloat(i[3]),e[4]=parseFloat(i[4]),e[5]=parseFloat(i[5])}}b.setLocalTransform(e)}}(a,b),tJ(a,f,g),d||function(a,b,c){for(var d=0;d<ts.length;d++){var e=ts[d],f=a.getAttribute(e);null!=f&&(b[tr[e]]=f)}for(var d=0;d<tu.length;d++){var e=tu[d],f=a.getAttribute(e);null!=f&&(c[tt[e]]=f)}}(a,f,g)),b.style=b.style||{},null!=f.fill&&(b.style.fill=tD(b,"fill",f.fill,c)),null!=f.stroke&&(b.style.stroke=tD(b,"stroke",f.stroke,c)),aH(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(a){null!=f[a]&&(b.style[a]=parseFloat(f[a]))}),aH(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(a){null!=f[a]&&(b.style[a]=f[a])}),e&&(b.__selfStyle=g),f.lineDash&&(b.style.lineDash=aI(tF(f.lineDash),function(a){return parseFloat(a)})),("hidden"===f.visibility||"collapse"===f.visibility)&&(b.invisible=!0),"none"===f.display&&(b.ignore=!0)}var tC=/^url\(\s*#(.*?)\)/;function tD(a,b,c,d){var e=c&&c.match(tC);if(e){var f=a2(e[1]);d.push([a,b,f]);return}return"none"===c&&(c=null),c}var tE=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function tF(a){return a.match(tE)||[]}var tG=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,tH=Math.PI/180,tI=/([^\s:;]+)\s*:\s*([^:;]+)/g;function tJ(a,b,c){var d,e=a.getAttribute("style");if(e)for(tI.lastIndex=0;null!=(d=tI.exec(e));){var f=d[1],g=bb(tr,f)?tr[f]:null;g&&(b[g]=d[2]);var h=bb(tt,f)?tt[f]:null;h&&(c[h]=d[2])}}function tK(a,b){var c=Math.min(b.width/a.width,b.height/a.height);return{scale:c,x:-(a.x+a.width/2)*c+(b.x+b.width/2),y:-(a.y+a.height/2)*c+(b.y+b.height/2)}}function tL(a,b){return 1e-8>Math.abs(a-b)}function tM(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++){var g=a[f];d+=gd(e[0],e[1],g[0],g[1],b,c),e=g}var h=a[0];return tL(e[0],h[0])&&tL(e[1],h[1])||(d+=gd(e[0],e[1],h[0],h[1],b,c)),0!==d}var tN=[];function tO(a,b){for(var c=0;c<a.length;c++)bs(a[c],a[c],b)}function tP(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e];d&&(f=d.project(f)),f&&isFinite(f[0])&&isFinite(f[1])&&(bt(b,b,f),bu(c,c,f))}}var tQ=function(){function a(a){this.name=a}return a.prototype.setCenter=function(a){this._center=a},a.prototype.getCenter=function(){var a=this._center;return a||(a=this._center=this.calcCenter()),a},a}(),tR=function(a,b){this.type="polygon",this.exterior=a,this.interiors=b},tS=function(a){this.type="linestring",this.points=a},tT=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.type="geoJSON",e.geometries=c,e._center=d&&[d[0],d[1]],e}return af(b,a),b.prototype.calcCenter=function(){for(var a,b=this.geometries,c=0,d=0;d<b.length;d++){var e=b[d],f=e.exterior,g=f&&f.length;g>c&&(a=e,c=g)}if(a)return function(a){for(var b=0,c=0,d=0,e=a.length,f=a[e-1][0],g=a[e-1][1],h=0;h<e;h++){var i=a[h][0],j=a[h][1],k=f*j-i*g;b+=k,c+=(f+i)*k,d+=(g+j)*k,f=i,g=j}return b?[c/b/3,d/b/3,b]:[a[0][0]||0,a[0][1]||0]}(a.exterior);var h=this.getBoundingRect();return[h.x+h.width/2,h.y+h.height/2]},b.prototype.getBoundingRect=function(a){var b=this._rect;if(b&&!a)return b;var c=[1/0,1/0],d=[-1/0,-1/0];return aH(this.geometries,function(b){"polygon"===b.type?tP(b.exterior,c,d,a):aH(b.points,function(b){tP(b,c,d,a)})}),isFinite(c[0])&&isFinite(c[1])&&isFinite(d[0])&&isFinite(d[1])||(c[0]=c[1]=d[0]=d[1]=0),b=new ca(c[0],c[1],d[0]-c[0],d[1]-c[1]),a||(this._rect=b),b},b.prototype.contain=function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;c:for(var d=0,e=c.length;d<e;d++){var f=c[d];if("polygon"===f.type){var g=f.exterior,h=f.interiors;if(tM(g,a[0],a[1])){for(var i=0;i<(h?h.length:0);i++)if(tM(h[i],a[0],a[1]))continue c;return!0}}}return!1},b.prototype.transformTo=function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;for(var g=new ca(a,b,c,d),h=e.calculateTransform(g),i=this.geometries,j=0;j<i.length;j++){var k=i[j];"polygon"===k.type?(tO(k.exterior,h),aH(k.interiors,function(a){tO(a,h)})):aH(k.points,function(a){tO(a,h)})}(e=this._rect).copy(g),this._center=[e.x+e.width/2,e.y+e.height/2]},b.prototype.cloneShallow=function(a){null==a&&(a=this.name);var c=new b(a,this.geometries,this._center);return c._rect=this._rect,c.transformTo=null,c},b}(tQ),tU=function(a){function b(b,c){var d=a.call(this,b)||this;return d.type="geoSVG",d._elOnlyForCalculate=c,d}return af(b,a),b.prototype.calcCenter=function(){for(var a=this._elOnlyForCalculate,b=a.getBoundingRect(),c=[b.x+b.width/2,b.y+b.height/2],d=bW(tN),e=a;e&&!e.isGeoSVGGraphicRoot;)bY(d,e.getLocalTransform(),d),e=e.parent;return b0(d,d),bs(c,c,d),c},b}(tQ),tV=a7(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),tW=function(){function a(a,b){this.type="geoSVG",this._usedGraphicMap=a7(),this._freedGraphics=[],this._mapName=a,this._parsedXML=tq(b)}return a.prototype.load=function(){var a=this._firstGraphic;if(!a){a=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(a),this._boundingRect=this._firstGraphic.boundingRect.clone();var b,c,d,e=(b=a.named,c=[],d=a7(),aH(b,function(a){if(null==a.namedFrom){var b=new tU(a.name,a.el);c.push(b),d.set(a.name,b)}}),{regions:c,regionsMap:d}),f=e.regions,g=e.regionsMap;this._regions=f,this._regionsMap=g}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(a){try{var b;d=(c=a&&(b={ignoreViewBox:!0,ignoreRootClip:!0},new tv().parse(a,b))||{}).root,a1(null!=d)}catch(a){throw Error("Invalid svg format\n"+a.message)}var c,d,e=new em;e.add(d),e.isGeoSVGGraphicRoot=!0;var f=c.width,g=c.height,h=c.viewBoxRect,i=this._boundingRect;if(!i){var j=void 0,k=void 0,l=void 0,m=void 0;if(null!=f?(j=0,l=f):h&&(j=h.x,l=h.width),null!=g?(k=0,m=g):h&&(k=h.y,m=h.height),null==j||null==k){var n=d.getBoundingRect();null==j&&(j=n.x,l=n.width),null==k&&(k=n.y,m=n.height)}i=this._boundingRect=new ca(j,k,l,m)}if(h){var o=tK(h,i);d.scaleX=d.scaleY=o.scale,d.x=o.x,d.y=o.y}e.setClipPath(new gy({shape:i.plain()}));var p=[];return aH(c.named,function(a){var b;null!=tV.get(a.svgNodeTagLower)&&(p.push(a),(b=a.el).silent=!1,b.isGroup&&b.traverse(function(a){a.silent=!1}))}),{root:e,boundingRect:i,named:p}},a.prototype.useGraphic=function(a){var b=this._usedGraphicMap,c=b.get(a);return c||(c=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),b.set(a,c)),c},a.prototype.freeGraphic=function(a){var b=this._usedGraphicMap,c=b.get(a);c&&(b.removeKey(a),this._freedGraphics.push(c))},a}();function tX(a,b,c){for(var d=0;d<a.length;d++)a[d]=tY(a[d],b[d],c)}function tY(a,b,c){for(var d=[],e=b[0],f=b[1],g=0;g<a.length;g+=2){var h=a.charCodeAt(g)-64,i=a.charCodeAt(g+1)-64;i=i>>1^-(1&i),h=(h>>1^-(1&h))+e,i+=f,e=h,f=i,d.push([h/c,i/c])}return d}for(var tZ=[126,25],t$="",t_=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],t0=0;t0<t_.length;t0++)for(var t1=0;t1<t_[t0].length;t1++)t_[t0][t1][0]/=10.5,t_[t0][t1][1]/=-14,t_[t0][t1][0]+=tZ[0],t_[t0][t1][1]+=tZ[1];var t2={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]},t3=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],t4=function(){function a(a,b,c){var d;this.type="geoJSON",this._parsedMap=a7(),this._mapName=a,this._specialAreas=c,this._geoJSON=aQ(d=b)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(d):Function("return ("+d+");")():d}return a.prototype.load=function(a,b){b=b||"name";var c=this._parsedMap.get(b);if(!c){var d=this._parseToRegions(b);c=this._parsedMap.set(b,{regions:d,boundingRect:function(a){for(var b,c=0;c<a.length;c++){var d=a[c].getBoundingRect();(b=b||d.clone()).union(d)}return b}(d)})}var e=a7(),f=[];return aH(c.regions,function(b){var c=b.name;a&&bb(a,c)&&(b=b.cloneShallow(c=a[c])),f.push(b),e.set(c,b)}),{regions:f,boundingRect:c.boundingRect||new ca(0,0,0,0),regionsMap:e}},a.prototype._parseToRegions=function(a){var b,c,d=this._mapName,e=this._geoJSON;try{c=e?(b=e,aI(aK((b=function(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;return null==b&&(b=1024),aH(a.features,function(a){var c=a.geometry,d=c.encodeOffsets,e=c.coordinates;if(d)switch(c.type){case"LineString":c.coordinates=tY(e,d,b);break;case"Polygon":case"MultiLineString":tX(e,d,b);break;case"MultiPolygon":aH(e,function(a,c){return tX(a,d[c],b)})}}),a.UTF8Encoding=!1,a}(b)).features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(b){var c=b.properties,d=b.geometry,e=[];switch(d.type){case"Polygon":var f=d.coordinates;e.push(new tR(f[0],f.slice(1)));break;case"MultiPolygon":aH(d.coordinates,function(a){a[0]&&e.push(new tR(a[0],a.slice(1)))});break;case"LineString":e.push(new tS([d.coordinates]));break;case"MultiLineString":e.push(new tS(d.coordinates))}var g=new tT(c[a||"name"],e,c.cp);return g.properties=c,g})):[]}catch(a){throw Error("Invalid geoJson format\n"+a.message)}return!function(a,b){if("china"===a){for(var c=0;c<b.length;c++)if(b[c].name===t$)return;b.push(new tT(t$,aI(t_,function(a){return{type:"polygon",exterior:a}}),tZ))}}(d,c),aH(c,function(a){var b=a.name;if("china"===d){var c=t2[a.name];if(c){var e=a.getCenter();e[0]+=c[0]/10.5,e[1]+=-c[1]/14,a.setCenter(e)}}"china"===d&&""===a.name&&a.geometries.push({type:"polygon",exterior:t3[0]});var f=this._specialAreas&&this._specialAreas[b];f&&a.transformTo(f.left,f.top,f.width,f.height)},this),c},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}(),t5=a7();let t6=function(a,b,c){if(b.svg){var d=new tW(a,b.svg);t5.set(a,d)}else{var e=b.geoJson||b.geoJSON;e&&!b.features?c=b.specialAreas:e=b;var d=new t4(a,e,c);t5.set(a,d)}},t7=function(a){return t5.get(a)},t8=function(a){var b=t5.get(a);return b&&"geoJSON"===b.type&&b.getMapForUser()},t9=function(a,b,c){var d=t5.get(a);return d?d.load(b,c):void 0};var ua=["rect","circle","line","ellipse","polygon","polyline","path"],ub=a7(ua),uc=a7(ua.concat(["g"])),ud=a7(ua.concat(["g"])),ue=e$();function uf(a){var b=a.getItemStyle(),c=a.get("areaColor");return null!=c&&(b.fill=c),b}function ug(a){var b=a.style;b&&(b.stroke=b.stroke||b.fill,b.fill=null)}var uh=function(){function a(a){var b=new em;this.uid=h4("ec_map_draw"),this._controller=new ti(a.getZr()),this._controllerHost={target:b},this.group=b,b.add(this._regionsGroup=new em),b.add(this._svgGroup=new em)}return a.prototype.draw=function(a,b,c,d,e){var f="geo"===a.mainType,g=a.getData&&a.getData();f&&b.eachComponent({mainType:"series",subType:"map"},function(b){g||b.getHostGeoModel()!==a||(g=b.getData())});var h=a.coordinateSystem,i=this._regionsGroup,j=this.group,k=h.getTransformInfo(),l=k.raw,m=k.roam;!i.childAt(0)||e?(j.x=m.x,j.y=m.y,j.scaleX=m.scaleX,j.scaleY=m.scaleY,j.dirty()):hy(j,m,a);var n=g&&g.getVisual("visualMeta")&&g.getVisual("visualMeta").length>0,o={api:c,geo:h,mapOrGeoModel:a,data:g,isVisualEncodedByVisualMap:n,isGeo:f,transformInfoRaw:l};"geoJSON"===h.resourceType?this._buildGeoJSON(o):"geoSVG"===h.resourceType&&this._buildSVG(o),this._updateController(a,b,c),this._updateMapSelectHandler(a,i,c,d)},a.prototype._buildGeoJSON=function(a){var b=this._regionsGroupByName=a7(),c=a7(),d=this._regionsGroup,e=a.transformInfoRaw,f=a.mapOrGeoModel,g=a.data,h=a.geo.projection,i=h&&h.stream;function j(a,b){return b&&(a=b(a)),a&&[a[0]*e.scaleX+e.x,a[1]*e.scaleY+e.y]}function k(a){return{shape:{points:function(a){for(var b=[],c=!i&&h&&h.project,d=0;d<a.length;++d){var e=j(a[d],c);e&&b.push(e)}return b}(a)}}}d.removeAll(),aH(a.geo.regions,function(e){var l=e.name,m=b.get(l),n=c.get(l)||{},o=n.dataIdx,p=n.regionModel;m||(m=b.set(l,new em),d.add(m),o=g?g.indexOfName(l):null,p=a.isGeo?f.getRegionModel(l):g?g.getItemModel(o):null,c.set(l,{dataIdx:o,regionModel:p}));var q=[],r=[];aH(e.geometries,function(a){if("polygon"===a.type){var b=[a.exterior].concat(a.interiors||[]);i&&(b=un(b,i)),aH(b,function(a){q.push(new lD(k(a)))})}else{var c=a.points;i&&(c=un(c,i,!0)),aH(c,function(a){r.push(new lF(k(a)))})}});var s=j(e.getCenter(),h&&h.project);function t(b,c){if(b.length){var d=new lP({culling:!0,segmentIgnoreThreshold:1,shape:{paths:b}});m.add(d),ui(a,d,o,p),uj(a,d,l,p,f,o,s),c&&(ug(d),aH(d.states,ug))}}t(q),t(r,!0)}),b.each(function(b,d){var e=c.get(d),g=e.dataIdx,h=e.regionModel;uk(a,b,d,h,f,g),ul(a,b,d,h,f),um(a,b,d,h,f)},this)},a.prototype._buildSVG=function(a){var b=a.geo.map,c=a.transformInfoRaw;this._svgGroup.x=c.x,this._svgGroup.y=c.y,this._svgGroup.scaleX=c.scaleX,this._svgGroup.scaleY=c.scaleY,this._svgResourceChanged(b)&&(this._freeSVG(),this._useSVG(b));var d=this._svgDispatcherMap=a7(),e=!1;aH(this._svgGraphicRecord.named,function(b){var c=b.name,f=a.mapOrGeoModel,g=a.data,h=b.svgNodeTagLower,i=b.el,j=g?g.indexOfName(c):null,k=f.getRegionModel(c);null!=ub.get(h)&&i instanceof fC&&ui(a,i,j,k),i instanceof fC&&(i.culling=!0),i.z2EmphasisLift=0,b.namedFrom||(null!=ud.get(h)&&uj(a,i,c,k,f,j,null),uk(a,i,c,k,f,j),ul(a,i,c,k,f),null!=uc.get(h)&&("self"===um(a,i,c,k,f)&&(e=!0),(d.get(c)||d.set(c,[])).push(i)))},this),this._enableBlurEntireSVG(e,a)},a.prototype._enableBlurEntireSVG=function(a,b){if(a&&b.isGeo){var c=b.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){ha(a);var b=a.ensureState("blur").style||{};null==b.opacity&&null!=c&&(b.opacity=c),a.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(a,b){if(null==a)return[];var c=b.coordinateSystem;if("geoJSON"===c.resourceType){var d=this._regionsGroupByName;if(d){var e=d.get(a);return e?[e]:[]}}else if("geoSVG"===c.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(a)||[]},a.prototype._svgResourceChanged=function(a){return this._svgMapName!==a},a.prototype._useSVG=function(a){var b=t7(a);if(b&&"geoSVG"===b.type){var c=b.useGraphic(this.uid);this._svgGroup.add(c.root),this._svgGraphicRecord=c,this._svgMapName=a}},a.prototype._freeSVG=function(){var a=this._svgMapName;if(null!=a){var b=t7(a);b&&"geoSVG"===b.type&&b.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(a,b,c){var d=a.coordinateSystem,e=this._controller,f=this._controllerHost;f.zoomLimit=a.get("scaleLimit"),f.zoom=d.getZoom(),e.enable(a.get("roam")||!1);var g=a.mainType;function h(){var b={type:"geoRoam",componentType:g};return b[g+"Id"]=a.id,b}e.off("pan").on("pan",function(a){this._mouseDownFlag=!1,tm(f,a.dx,a.dy),c.dispatchAction(aC(h(),{dx:a.dx,dy:a.dy,animation:{duration:0}}))},this),e.off("zoom").on("zoom",function(a){this._mouseDownFlag=!1,tn(f,a.scale,a.originX,a.originY),c.dispatchAction(aC(h(),{zoom:a.scale,originX:a.originX,originY:a.originY,animation:{duration:0}}))},this),e.setPointerChecker(function(b,e,f){return d.containPoint([e,f])&&!tp(b,c,a)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(a){var b=a.getTextContent();b&&(b.ignore=ue(b).ignore)})},a.prototype._updateMapSelectHandler=function(a,b,c,d){var e=this;b.off("mousedown"),b.off("click"),a.get("selectedMode")&&(b.on("mousedown",function(){e._mouseDownFlag=!0}),b.on("click",function(a){e._mouseDownFlag&&(e._mouseDownFlag=!1)}))},a}();function ui(a,b,c,d){var e=d.getModel("itemStyle"),f=d.getModel(["emphasis","itemStyle"]),g=d.getModel(["blur","itemStyle"]),h=d.getModel(["select","itemStyle"]),i=uf(e),j=uf(f),k=uf(h),l=uf(g),m=a.data;if(m){var n=m.getItemVisual(c,"style"),o=m.getItemVisual(c,"decal");a.isVisualEncodedByVisualMap&&n.fill&&(i.fill=n.fill),o&&(i.decal=nN(o,a.api))}b.setStyle(i),b.style.strokeNoScale=!0,b.ensureState("emphasis").style=j,b.ensureState("select").style=k,b.ensureState("blur").style=l,ha(b)}function uj(a,b,c,d,e,f,g){var h=a.data,i=a.isGeo,j=h&&isNaN(h.get(h.mapDimension("value"),f)),k=h&&h.getItemLayout(f);if(i||j||k&&k.showLabel){var l=i?c:f,m=void 0;(!h||f>=0)&&(m=e);var n=g?{normal:{align:"center",verticalAlign:"middle"}}:null;hI(b,hJ(d),{labelFetcher:m,labelDataIndex:l,defaultText:c},n);var o=b.getTextContent();if(o&&(ue(o).ignore=o.ignore,b.textConfig&&g)){var p=b.getBoundingRect().clone();b.textConfig.layoutRect=p,b.textConfig.position=[(g[0]-p.x)/p.width*100+"%",(g[1]-p.y)/p.height*100+"%"]}b.disableLabelAnimation=!0}else b.removeTextContent(),b.removeTextConfig(),b.disableLabelAnimation=null}function uk(a,b,c,d,e,f){a.data?a.data.setItemGraphicEl(f,b):gO(b).eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:c,region:d&&d.option||{}}}function ul(a,b,c,d,e){a.data||mn({el:b,componentModel:e,itemName:c,itemTooltipOption:d.get("tooltip")})}function um(a,b,c,d,e){b.highDownSilentOnTouch=!!e.get("selectedMode");var f,g=d.getModel("emphasis"),h=g.get("focus");return hm(b,h,g.get("blurScope"),g.get("disabled")),a.isGeo&&((f=gO(b)).componentMainType=e.mainType,f.componentIndex=e.componentIndex,f.componentHighDownName=c),h}function un(a,b,c){var d,e=[];function f(){d=[]}function g(){d.length&&(e.push(d),d=[])}var h=b({polygonStart:f,polygonEnd:g,lineStart:f,lineEnd:g,point:function(a,b){isFinite(a)&&isFinite(b)&&d.push([a,b])},sphere:function(){}});return c||h.polygonStart(),aH(a,function(a){h.lineStart();for(var b=0;b<a.length;b++)h.point(a[b][0],a[b][1]);h.lineEnd()}),c||h.polygonEnd(),e}var uo=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c,d){if(!d||"mapToggleSelect"!==d.type||d.from!==this.uid){var e=this.group;if(e.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&d&&"geoRoam"===d.type&&this._mapDraw.resetForLabelLayout(),d&&"geoRoam"===d.type&&"series"===d.componentType&&d.seriesId===a.id){var f=this._mapDraw;f&&e.add(f.group)}else if(a.needsDrawMap){var f=this._mapDraw||new uh(c);e.add(f.group),f.draw(a,b,c,this,d),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c)}}},b.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},b.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},b.prototype._renderSymbols=function(a,b,c){var d=a.originalData,e=this.group;d.each(d.mapDimension("value"),function(b,c){if(!isNaN(b)){var f=d.getItemLayout(c);if(f&&f.point){var g=f.point,h=f.offset,i=new lj({style:{fill:a.getData().getVisual("style").fill},shape:{cx:g[0]+9*h,cy:g[1],r:3},silent:!0,z2:8+11*!h});if(!h){var j=a.mainSeries.getData(),k=d.getName(c),l=j.indexOfName(k),m=d.getItemModel(c),n=m.getModel("label"),o=j.getItemGraphicEl(l);hI(i,hJ(m),{labelFetcher:{getFormattedLabel:function(b,c){return a.getFormattedLabel(l,c)}},defaultText:k}),i.disableLabelAnimation=!0,n.get("position")||i.setTextConfig({position:"bottom"}),o.onHoverStateChange=function(a){g8(i,a)}}e.add(i)}}})},b.type="map",b}(ms),up=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.needsDrawMap=!1,c.seriesGroup=[],c.getTooltipPosition=function(a){if(null!=a){var b=this.getData().getName(a),c=this.coordinateSystem,d=c.getRegion(b);return d&&c.dataToPoint(d.getCenter())}},c}return af(b,a),b.prototype.getInitialData=function(a){for(var b=rn(this,{coordDimensions:["value"],encodeDefaulter:aN(i8,this)}),c=a7(),d=[],e=0,f=b.count();e<f;e++){var g=b.getName(e);c.set(g,!0)}return aH(t9(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(a){var b=a.name;c.get(b)||d.push(b)}),b.appendValues([],d),b},b.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return null!=a?this.ecModel.getComponent("geo",a):null},b.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},b.prototype.getRawValue=function(a){var b=this.getData();return b.get(b.mapDimension("value"),a)},b.prototype.getRegionModel=function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},b.prototype.formatTooltip=function(a,b,c){for(var d=this.getData(),e=this.getRawValue(a),f=d.getName(a),g=this.seriesGroup,h=[],i=0;i<g.length;i++){var j=g[i].originalData.indexOfName(f),k=d.mapDimension("value");isNaN(g[i].originalData.get(k,j))||h.push(g[i].name)}return kD("section",{header:h.join(", "),noHeader:!h.length,blocks:[kD("nameValue",{name:f,value:e})]})},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.getLegendIcon=function(a){var b=a.icon||"roundRect",c=nm(b,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return c.setStyle(a.itemStyle),c.style.stroke="none",b.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),c},b.type="series.map",b.dependencies=["geo"],b.layoutMode="box",b.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},b}(kR);function uq(a){var b={};a.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),d=c?"o"+c.id:"i"+a.getMapType();(b[d]=b[d]||[]).push(a)}),aH(b,function(a,b){for(var c,d,e,f=(c=aI(a,function(a){return a.getData()}),d=a[0].get("mapValueCalculation"),e={},aH(c,function(a){a.each(a.mapDimension("value"),function(b,c){var d="ec-"+a.getName(c);e[d]=e[d]||[],isNaN(b)||e[d].push(b)})}),c[0].map(c[0].mapDimension("value"),function(a,b){for(var f,g="ec-"+c[0].getName(b),h=0,i=1/0,j=-1/0,k=e[g].length,l=0;l<k;l++)i=Math.min(i,e[g][l]),j=Math.max(j,e[g][l]),h+=e[g][l];return f="min"===d?i:"max"===d?j:"average"===d?h/k:h,0===k?NaN:f})),g=0;g<a.length;g++)a[g].originalData=a[g].getData();for(var g=0;g<a.length;g++)a[g].seriesGroup=a,a[g].needsDrawMap=0===g&&!a[g].getHostGeoModel(),a[g].setData(f.cloneShallow()),a[g].mainSeries=a[0]})}function ur(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getMapType();if(!c.getHostGeoModel()&&!b[d]){var e={};aH(c.seriesGroup,function(b){var c=b.coordinateSystem,d=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each(d.mapDimension("value"),function(a,b){var f=d.getName(b),g=c.getRegion(f);if(!(!g||isNaN(a))){var h=e[f]||0,i=c.dataToPoint(g.getCenter());e[f]=h+1,d.setItemLayout(b,{point:i,offset:h})}})});var f=c.getData();f.each(function(a){var b=f.getName(a),c=f.getItemLayout(a)||{};c.showLabel=!e[b],f.setItemLayout(a,c)}),b[d]=!0}})}var us=function(a){function b(b){var c=a.call(this)||this;return c.type="view",c.dimensions=["x","y"],c._roamTransformable=new d2,c._rawTransformable=new d2,c.name=b,c}return af(b,a),b.prototype.setBoundingRect=function(a,b,c,d){return this._rect=new ca(a,b,c,d),this._rect},b.prototype.getBoundingRect=function(){return this._rect},b.prototype.setViewRect=function(a,b,c,d){this._transformTo(a,b,c,d),this._viewRect=new ca(a,b,c,d)},b.prototype._transformTo=function(a,b,c,d){var e=this.getBoundingRect(),f=this._rawTransformable;f.transform=e.calculateTransform(new ca(a,b,c,d));var g=f.parent;f.parent=null,f.decomposeTransform(),f.parent=g,this._updateTransform()},b.prototype.setCenter=function(a,b){a&&(this._center=[es(a[0],b.getWidth()),es(a[1],b.getHeight())],this._updateCenterAndZoom())},b.prototype.setZoom=function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},b.prototype.getDefaultCenter=function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},b.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},b.prototype.getZoom=function(){return this._zoom||1},b.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},b.prototype._updateCenterAndZoom=function(){var a=this._rawTransformable.getLocalTransform(),b=this._roamTransformable,c=this.getDefaultCenter(),d=this.getCenter(),e=this.getZoom();d=bs([],d,a),c=bs([],c,a),b.originX=d[0],b.originY=d[1],b.x=c[0]-d[0],b.y=c[1]-d[1],b.scaleX=b.scaleY=e,this._updateTransform()},b.prototype._updateTransform=function(){var a=this._roamTransformable,b=this._rawTransformable;b.parent=a,a.updateTransform(),b.updateTransform(),bX(this.transform||(this.transform=[]),b.transform||bV()),this._rawTransform=b.getLocalTransform(),this.invTransform=this.invTransform||[],b0(this.invTransform,this.transform),this.decomposeTransform()},b.prototype.getTransformInfo=function(){var a=this._rawTransformable,b=this._roamTransformable,c=new d2;return c.transform=b.transform,c.decomposeTransform(),{roam:{x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY},raw:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY}}},b.prototype.getViewRect=function(){return this._viewRect},b.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},b.prototype.dataToPoint=function(a,b,c){var d=b?this._rawTransform:this.transform;return c=c||[],d?bs(c,a,d):bh(c,a)},b.prototype.pointToData=function(a){var b=this.invTransform;return b?bs([],a,b):[a[0],a[1]]},b.prototype.convertToPixel=function(a,b,c){var d=ut(b);return d===this?d.dataToPoint(c):null},b.prototype.convertFromPixel=function(a,b,c){var d=ut(b);return d===this?d.pointToData(c):null},b.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},b.dimensions=["x","y"],b}(d2);function ut(a){var b=a.seriesModel;return b?b.coordinateSystem:null}var uu={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},uv=["lng","lat"],uw=function(a){function b(b,c,d){var e,f=a.call(this,b)||this;f.dimensions=uv,f.type="geo",f._nameCoordMap=a7(),f.map=c;var g=d.projection,h=t9(c,d.nameMap,d.nameProperty),i=t7(c);f.resourceType=i?i.type:null;var j=f.regions=h.regions,k=uu[i.type];if(f._regionsMap=h.regionsMap,f.regions=h.regions,f.projection=g,g)for(var l=0;l<j.length;l++){var m=j[l].getBoundingRect(g);(e=e||m.clone()).union(m)}else e=h.boundingRect;return f.setBoundingRect(e.x,e.y,e.width,e.height),f.aspectScale=g?1:aZ(d.aspectScale,k.aspectScale),f._invertLongitute=!g&&k.invertLongitute,f}return af(b,a),b.prototype._transformTo=function(a,b,c,d){var e=this.getBoundingRect(),f=this._invertLongitute;e=e.clone(),f&&(e.y=-e.y-e.height);var g=this._rawTransformable;g.transform=e.calculateTransform(new ca(a,b,c,d));var h=g.parent;g.parent=null,g.decomposeTransform(),g.parent=h,f&&(g.scaleY=-g.scaleY),this._updateTransform()},b.prototype.getRegion=function(a){return this._regionsMap.get(a)},b.prototype.getRegionByCoord=function(a){for(var b=this.regions,c=0;c<b.length;c++){var d=b[c];if("geoJSON"===d.type&&d.contain(a))return b[c]}},b.prototype.addGeoCoord=function(a,b){this._nameCoordMap.set(a,b)},b.prototype.getGeoCoord=function(a){var b=this._regionsMap.get(a);return this._nameCoordMap.get(a)||b&&b.getCenter()},b.prototype.dataToPoint=function(a,b,c){if(aQ(a)&&(a=this.getGeoCoord(a)),a){var d=this.projection;return d&&(a=d.project(a)),a&&this.projectedToPoint(a,b,c)}},b.prototype.pointToData=function(a){var b=this.projection;return b&&(a=b.unproject(a)),a&&this.pointToProjected(a)},b.prototype.pointToProjected=function(b){return a.prototype.pointToData.call(this,b)},b.prototype.projectedToPoint=function(b,c,d){return a.prototype.dataToPoint.call(this,b,c,d)},b.prototype.convertToPixel=function(a,b,c){var d=ux(b);return d===this?d.dataToPoint(c):null},b.prototype.convertFromPixel=function(a,b,c){var d=ux(b);return d===this?d.pointToData(c):null},b}(us);function ux(a){var b=a.geoModel,c=a.seriesModel;return b?b.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo",e2).models[0]||{}).coordinateSystem:null}function uy(a,b){var c,d,e,f=a.get("boundingCoords");if(null!=f){var g=f[0],h=f[1];if(isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])){var i=this.projection;if(i){var j=g[0],k=g[1],l=h[0],m=h[1];g=[1/0,1/0],h=[-1/0,-1/0];var n=function(a,b,c,d){for(var e=c-a,f=d-b,j=0;j<=100;j++){var k=j/100,l=i.project([a+e*k,b+f*k]);bt(g,g,l),bu(h,h,l)}};n(j,k,l,k),n(l,k,l,m),n(l,m,j,m),n(j,m,l,k)}this.setBoundingRect(g[0],g[1],h[0]-g[0],h[1]-g[1])}}var o=this.getBoundingRect(),p=a.get("layoutCenter"),q=a.get("layoutSize"),r=b.getWidth(),s=b.getHeight(),t=o.width/o.height*this.aspectScale,u=!1;if(p&&q&&(c=[es(p[0],r),es(p[1],s)],d=es(q,Math.min(r,s)),isNaN(c[0])||isNaN(c[1])||isNaN(d)||(u=!0)),u)e={},t>1?(e.width=d,e.height=d/t):(e.height=d,e.width=d*t),e.y=c[1]-e.height/2,e.x=c[0]-e.width/2;else{var v=a.getBoxLayoutParams();v.aspect=t,e=iN(v,{width:r,height:s})}this.setViewRect(e.x,e.y,e.width,e.height),this.setCenter(a.get("center"),b),this.setZoom(a.get("zoom"))}aF(uw,us);var uz=new(function(){function a(){this.dimensions=uv}return a.prototype.create=function(a,b){var c=[];function d(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}a.eachComponent("geo",function(a,e){var f=a.get("map"),g=new uw(f+e,f,aC({nameMap:a.get("nameMap")},d(a)));g.zoomLimit=a.get("scaleLimit"),c.push(g),a.coordinateSystem=g,g.model=a,g.resize=uy,g.resize(a,b)}),a.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var b=a.get("geoIndex")||0;a.coordinateSystem=c[b]}});var e={};return a.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();e[b]=e[b]||[],e[b].push(a)}}),aH(e,function(a,e){var f=new uw(e,e,aC({nameMap:aB(aI(a,function(a){return a.get("nameMap")}))},d(a[0])));f.zoomLimit=aY.apply(null,aI(a,function(a){return a.get("scaleLimit")})),c.push(f),f.resize=uy,f.resize(a[0],b),aH(a,function(a){a.coordinateSystem=f,aH(a.get("geoCoord"),function(a,b){f.addGeoCoord(b,a)})})}),c},a.prototype.getFilledRegions=function(a,b,c,d){for(var e=(a||[]).slice(),f=a7(),g=0;g<e.length;g++)f.set(e[g].name,e[g]);return aH(t9(b,c,d).regions,function(a){var b=a.name;f.get(b)||e.push({name:b})}),e},a}()),uA=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(a,b,c){var d=t7(a.map);if(d&&"geoJSON"===d.type){var e=a.itemStyle=a.itemStyle||{};"color"in e||(e.color="#eee")}this.mergeDefaultAndTheme(a,c),eQ(a,"label",["show"])},b.prototype.optionUpdated=function(){var a=this,b=this.option;b.regions=uz.getFilledRegions(b.regions,b.map,b.nameMap,b.nameProperty);var c={};this._optionModelMap=aJ(b.regions||[],function(b,d){var e=d.name;return e&&(b.set(e,new h2(d,a,a.ecModel)),d.selected&&(c[e]=!0)),b},a7()),b.selectedMap||(b.selectedMap=c)},b.prototype.getRegionModel=function(a){return this._optionModelMap.get(a)||new h2(null,this,this.ecModel)},b.prototype.getFormattedLabel=function(a,b){var c=this.getRegionModel(a),d="normal"===b?c.get(["label","formatter"]):c.get(["emphasis","label","formatter"]),e={name:a};return aP(d)?(e.status=b,d(e)):aQ(d)?d.replace("{a}",null!=a?a:""):void 0},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.select=function(a){var b=this.option,c=b.selectedMode;c&&("multiple"!==c&&(b.selectedMap=null),(b.selectedMap||(b.selectedMap={}))[a]=!0)},b.prototype.unSelect=function(a){var b=this.option.selectedMap;b&&(b[a]=!1)},b.prototype.toggleSelected=function(a){this[this.isSelected(a)?"unSelect":"select"](a)},b.prototype.isSelected=function(a){var b=this.option.selectedMap;return!!(b&&b[a])},b.type="geo",b.layoutMode="box",b.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},b}(iU);function uB(a,b){return a.pointToProjected?a.pointToProjected(b):a.pointToData(b)}function uC(a,b,c,d){var e=a.getZoom(),f=a.getCenter(),g=b.zoom,h=a.projectedToPoint?a.projectedToPoint(f):a.dataToPoint(f);if(null!=b.dx&&null!=b.dy&&(h[0]-=b.dx,h[1]-=b.dy,a.setCenter(uB(a,h),d)),null!=g){if(c){var i=c.min||0;g=Math.max(Math.min(e*g,c.max||1/0),i)/e}a.scaleX*=g,a.scaleY*=g;var j=(b.originX-a.x)*(g-1),k=(b.originY-a.y)*(g-1);a.x-=j,a.y-=k,a.updateTransform(),a.setCenter(uB(a,h),d),a.setZoom(g*e)}return{center:a.getCenter(),zoom:a.getZoom()}}var uD=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.focusBlurEnabled=!0,c}return af(b,a),b.prototype.init=function(a,b){this._api=b},b.prototype.render=function(a,b,c,d){if(this._model=a,!a.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new uh(c));var e=this._mapDraw;e.draw(a,b,c,this,d),e.group.on("click",this._handleRegionClick,this),e.group.silent=a.get("silent"),this.group.add(e.group),this.updateSelectStatus(a,b,c)},b.prototype._handleRegionClick=function(a){var b;na(a.target,function(a){return null!=(b=gO(a).eventData)},!0),b&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:b.name})},b.prototype.updateSelectStatus=function(a,b,c){var d=this;this._mapDraw.group.traverse(function(a){var b=gO(a).eventData;if(b)return d._model.isSelected(b.name)?c.enterSelect(a):c.leaveSelect(a),!0})},b.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},b.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},b.type="geo",b}(kZ);function uE(a,b,c){t6(a,b,c)}function uF(a){function b(b,c){c.update="geo:updateSelectStatus",a.registerAction(c,function(a,c){var d={},e=[];return c.eachComponent({mainType:"geo",query:a},function(c){c[b](a.name),aH(c.coordinateSystem.regions,function(a){d[a.name]=c.isSelected(a.name)||!1});var f=[];aH(d,function(a,b){d[b]&&f.push(b)}),e.push({geoIndex:c.componentIndex,name:f})}),{selected:d,allSelected:e,name:a.name}})}a.registerCoordinateSystem("geo",uz),a.registerComponentModel(uA),a.registerComponentView(uD),a.registerImpl("registerMap",uE),a.registerImpl("getMap",function(a){return t8(a)}),b("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),b("select",{type:"geoSelect",event:"geoselected"}),b("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,b,c){var d=a.componentType||"series";b.eachComponent({mainType:d,query:a},function(b){var e=b.coordinateSystem;if("geo"===e.type){var f=uC(e,a,b.get("scaleLimit"),c);b.setCenter&&b.setCenter(f.center),b.setZoom&&b.setZoom(f.zoom),"series"===d&&aH(b.seriesGroup,function(a){a.setCenter(f.center),a.setZoom(f.zoom)})}})})}function uG(a,b){var c=a.isExpand?a.children:[],d=a.parentNode.children,e=a.hierNode.i?d[a.hierNode.i-1]:null;if(c.length){!function(a){for(var b=a.children,c=b.length,d=0,e=0;--c>=0;){var f=b[c];f.hierNode.prelim+=d,f.hierNode.modifier+=d,e+=f.hierNode.change,d+=f.hierNode.shift+e}}(a);var f=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;e?(a.hierNode.prelim=e.hierNode.prelim+b(a,e),a.hierNode.modifier=a.hierNode.prelim-f):a.hierNode.prelim=f}else e&&(a.hierNode.prelim=e.hierNode.prelim+b(a,e));a.parentNode.hierNode.defaultAncestor=function(a,b,c,d){if(b){for(var e=a,f=a,g=f.parentNode.children[0],h=b,i=e.hierNode.modifier,j=f.hierNode.modifier,k=g.hierNode.modifier,l=h.hierNode.modifier;h=uK(h),f=uL(f),h&&f;){e=uK(e),g=uL(g),e.hierNode.ancestor=a;var m,n,o,p=h.hierNode.prelim+l-f.hierNode.prelim-j+d(h,f);p>0&&(function(a,b,c){var d=c/(b.hierNode.i-a.hierNode.i);b.hierNode.change-=d,b.hierNode.shift+=c,b.hierNode.modifier+=c,b.hierNode.prelim+=c,a.hierNode.change+=d}((m=h,n=a,o=c,m.hierNode.ancestor.parentNode===n.parentNode?m.hierNode.ancestor:o),a,p),j+=p,i+=p),l+=h.hierNode.modifier,j+=f.hierNode.modifier,i+=e.hierNode.modifier,k+=g.hierNode.modifier}h&&!uK(e)&&(e.hierNode.thread=h,e.hierNode.modifier+=l-i),f&&!uL(g)&&(g.hierNode.thread=f,g.hierNode.modifier+=j-k,c=a)}return c}(a,e,a.parentNode.hierNode.defaultAncestor||d[0],b)}function uH(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function uI(a){return arguments.length?a:uM}function uJ(a,b){return{x:b*Math.cos(a-=Math.PI/2),y:b*Math.sin(a)}}function uK(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function uL(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function uM(a,b){return a.parentNode===b.parentNode?1:2}var uN=function(){this.parentPoint=[],this.childPoints=[]},uO=function(a){function b(b){return a.call(this,b)||this}return af(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new uN},b.prototype.buildPath=function(a,b){var c=b.childPoints,d=c.length,e=b.parentPoint,f=c[0],g=c[d-1];if(1===d){a.moveTo(e[0],e[1]),a.lineTo(f[0],f[1]);return}var h=b.orient,i=+("TB"!==h&&"BT"!==h),j=1-i,k=es(b.forkPosition,1),l=[];l[i]=e[i],l[j]=e[j]+(g[j]-e[j])*k,a.moveTo(e[0],e[1]),a.lineTo(l[0],l[1]),a.moveTo(f[0],f[1]),l[i]=f[i],a.lineTo(l[0],l[1]),l[i]=g[i],a.lineTo(l[0],l[1]),a.lineTo(g[0],g[1]);for(var m=1;m<d-1;m++){var n=c[m];a.moveTo(n[0],n[1]),l[i]=n[i],a.lineTo(l[0],l[1])}},b}(gm),uP=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._mainGroup=new em,c}return af(b,a),b.prototype.init=function(a,b){this._controller=new ti(b.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},b.prototype.render=function(a,b,c){var d=a.getData(),e=a.layoutInfo,f=this._mainGroup;"radial"===a.get("layout")?(f.x=e.x+e.width/2,f.y=e.y+e.height/2):(f.x=e.x,f.y=e.y),this._updateViewCoordSys(a,c),this._updateController(a,b,c);var g=this._data;d.diff(g).add(function(b){uQ(d,b)&&uR(d,b,null,f,a)}).update(function(b,c){var e=g.getItemGraphicEl(c);if(!uQ(d,b)){e&&uU(g,c,e,f,a);return}uR(d,b,e,f,a)}).remove(function(b){var c=g.getItemGraphicEl(b);c&&uU(g,b,c,f,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),!0===a.get("expandAndCollapse")&&d.eachItemGraphicEl(function(b,d){b.off("click").on("click",function(){c.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:d})})}),this._data=d},b.prototype._updateViewCoordSys=function(a,b){var c=a.getData(),d=[];c.each(function(a){var b=c.getItemLayout(a);!b||isNaN(b.x)||isNaN(b.y)||d.push([+b.x,+b.y])});var e=[],f=[];fN(d,e,f);var g=this._min,h=this._max;f[0]-e[0]==0&&(e[0]=g?g[0]:e[0]-1,f[0]=h?h[0]:f[0]+1),f[1]-e[1]==0&&(e[1]=g?g[1]:e[1]-1,f[1]=h?h[1]:f[1]+1);var i=a.coordinateSystem=new us;i.zoomLimit=a.get("scaleLimit"),i.setBoundingRect(e[0],e[1],f[0]-e[0],f[1]-e[1]),i.setCenter(a.get("center"),b),i.setZoom(a.get("zoom")),this.group.attr({x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY}),this._min=e,this._max=f},b.prototype._updateController=function(a,b,c){var d=this,e=this._controller,f=this._controllerHost,g=this.group;e.setPointerChecker(function(b,d,e){var f=g.getBoundingRect();return f.applyTransform(g.transform),f.contain(d,e)&&!tp(b,c,a)}),e.enable(a.get("roam")),f.zoomLimit=a.get("scaleLimit"),f.zoom=a.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",function(b){tm(f,b.dx,b.dy),c.dispatchAction({seriesId:a.id,type:"treeRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){tn(f,b.scale,b.originX,b.originY),c.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),d._updateNodeAndLinkScale(a),c.updateLabelLayout()})},b.prototype._updateNodeAndLinkScale=function(a){var b=a.getData(),c=this._getNodeGlobalScale(a);b.eachItemGraphicEl(function(a,b){a.setSymbolScale(c)})},b.prototype._getNodeGlobalScale=function(a){var b=a.coordinateSystem;if("view"!==b.type)return 1;var c=this._nodeScaleRatio,d=b.scaleX||1;return((b.getZoom()-1)*c+1)/d},b.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},b.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},b.type="tree",b}(ms);function uQ(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)}function uR(a,b,c,d,e){var f=!c,g=a.tree.getNodeByDataIndex(b),h=g.getModel(),i=g.getVisual("style").fill,j=!1===g.isExpand&&0!==g.children.length?i:"#fff",k=a.tree.root,l=g.parentNode===k?g:g.parentNode||g,m=a.getItemGraphicEl(l.dataIndex),n=l.getLayout(),o=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:n,p=g.getLayout();f?((c=new pJ(a,b,null,{symbolInnerColor:j,useNameLabel:!0})).x=o.x,c.y=o.y):c.updateData(a,b,null,{symbolInnerColor:j,useNameLabel:!0}),c.__radialOldRawX=c.__radialRawX,c.__radialOldRawY=c.__radialRawY,c.__radialRawX=p.rawX,c.__radialRawY=p.rawY,d.add(c),a.setItemGraphicEl(b,c),c.__oldX=c.x,c.__oldY=c.y,hy(c,{x:p.x,y:p.y},e);var q=c.getSymbolPath();if("radial"===e.get("layout")){var r=k.children[0],s=r.getLayout(),t=r.children.length,u=void 0,v=void 0;if(p.x===s.x&&!0===g.isExpand&&r.children.length){var w={x:(r.children[0].getLayout().x+r.children[t-1].getLayout().x)/2,y:(r.children[0].getLayout().y+r.children[t-1].getLayout().y)/2};(u=Math.atan2(w.y-s.y,w.x-s.x))<0&&(u=2*Math.PI+u),(v=w.x<s.x)&&(u-=Math.PI)}else(u=Math.atan2(p.y-s.y,p.x-s.x))<0&&(u=2*Math.PI+u),0===g.children.length||0!==g.children.length&&!1===g.isExpand?(v=p.x<s.x)&&(u-=Math.PI):(v=p.x>s.x)||(u-=Math.PI);var x=v?"left":"right",y=h.getModel("label"),z=y.get("rotate"),A=Math.PI/180*z,B=q.getTextContent();B&&(q.setTextConfig({position:y.get("position")||x,rotation:null==z?-u:A,origin:"center"}),B.setStyle("verticalAlign","middle"))}var C=h.get(["emphasis","focus"]),D="relative"===C?a8(g.getAncestorsIndices(),g.getDescendantIndices()):"ancestor"===C?g.getAncestorsIndices():"descendant"===C?g.getDescendantIndices():null;D&&(gO(c).focus=D),function(a,b,c,d,e,f,g,h){var i=b.getModel(),j=a.get("edgeShape"),k=a.get("layout"),l=a.getOrient(),m=a.get(["lineStyle","curveness"]),n=a.get("edgeForkPosition"),o=i.getModel("lineStyle").getLineStyle(),p=d.__edge;if("curve"===j)b.parentNode&&b.parentNode!==c&&(p||(p=d.__edge=new lM({shape:uV(k,l,m,e,e)})),hy(p,{shape:uV(k,l,m,f,g)},a));else if("polyline"===j&&"orthogonal"===k&&b!==c&&b.children&&0!==b.children.length&&!0===b.isExpand){for(var q=b.children,r=[],s=0;s<q.length;s++){var t=q[s].getLayout();r.push([t.x,t.y])}p||(p=d.__edge=new uO({shape:{parentPoint:[g.x,g.y],childPoints:[[g.x,g.y]],orient:l,forkPosition:n}})),hy(p,{shape:{parentPoint:[g.x,g.y],childPoints:r}},a)}p&&!("polyline"===j&&!b.isExpand)&&(p.useStyle(aD({strokeNoScale:!0,fill:null},o)),hq(p,i,"lineStyle"),ha(p),h.add(p))}(e,g,k,c,o,n,p,d),c.__edge&&(c.onHoverStateChange=function(b){if("blur"!==b){var d=g.parentNode&&a.getItemGraphicEl(g.parentNode.dataIndex);d&&1===d.hoverState||g8(c.__edge,b)}})}function uS(a,b,c,d,e){var f=uT(b.tree.root,a),g=f.source,h=f.sourceLayout,i=b.getItemGraphicEl(a.dataIndex);if(i){var j=b.getItemGraphicEl(g.dataIndex).__edge,k=i.__edge||(!1===g.isExpand||1===g.children.length?j:void 0),l=d.get("edgeShape"),m=d.get("layout"),n=d.get("orient"),o=d.get(["lineStyle","curveness"]);k&&("curve"===l?hB(k,{shape:uV(m,n,o,h,h),style:{opacity:0}},d,{cb:function(){c.remove(k)},removeOpt:e}):"polyline"===l&&"orthogonal"===d.get("layout")&&hB(k,{shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]]},style:{opacity:0}},d,{cb:function(){c.remove(k)},removeOpt:e}))}}function uT(a,b){for(var c,d=b.parentNode===a?b:b.parentNode||b;null==(c=d.getLayout());)d=d.parentNode===a?d:d.parentNode||d;return{source:d,sourceLayout:c}}function uU(a,b,c,d,e){var f=a.tree.getNodeByDataIndex(b),g=uT(a.tree.root,f).sourceLayout,h={duration:e.get("animationDurationUpdate"),easing:e.get("animationEasingUpdate")};hB(c,{x:g.x+1,y:g.y+1},e,{cb:function(){d.remove(c),a.setItemGraphicEl(b,null)},removeOpt:h}),c.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:h}),f.children.forEach(function(b){uS(b,a,d,e,h)}),uS(f,a,d,e,h)}function uV(a,b,c,d,e){if("radial"===a){j=d.rawX,l=d.rawY,k=e.rawX;var f,g,h,i,j,k,l,m=e.rawY,n=uJ(j,l),o=uJ(j,l+(m-l)*c),p=uJ(k,m+(l-m)*c),q=uJ(k,m);return{x1:n.x||0,y1:n.y||0,x2:q.x||0,y2:q.y||0,cpx1:o.x||0,cpy1:o.y||0,cpx2:p.x||0,cpy2:p.y||0}}return j=d.x,l=d.y,k=e.x,m=e.y,("LR"===b||"RL"===b)&&(f=j+(k-j)*c,g=l,h=k+(j-k)*c,i=m),("TB"===b||"BT"===b)&&(f=j,g=l+(m-l)*c,h=k,i=m+(l-m)*c),{x1:j,y1:l,x2:k,y2:m,cpx1:f,cpy1:g,cpx2:h,cpy2:i}}var uW=e$();function uX(a,b){var c;if(c=this,uW(c).mainData===c){var d=aC({},uW(this).datas);d[this.dataType]=b,u0(b,d,a)}else u1(b,this.dataType,uW(this).mainData,a);return b}function uY(a,b){return a.struct&&a.struct.update(),b}function uZ(a,b){return aH(uW(b).datas,function(c,d){c!==b&&u1(c.cloneShallow(),d,b,a)}),b}function u$(a){var b=uW(this).mainData;return null==a||null==b?b:uW(b).datas[a]}function u_(){var a=uW(this).mainData;return null==a?[{data:a}]:aI(aL(uW(a).datas),function(b){return{type:b,data:uW(a).datas[b]}})}function u0(a,b,c){uW(a).datas={},aH(b,function(b,d){u1(b,d,a,c)})}function u1(a,b,c,d){uW(c).datas[b]=a,uW(a).mainData=c,a.dataType=b,d.struct&&(a[d.structAttr]=d.struct,d.struct[d.datasAttr[b]]=a),a.getLinkedData=u$,a.getLinkedDataAll=u_}let u2=function(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,u0(b,c,a),aH(c,function(c){aH(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,aN(uX,a))})}),b.wrapMethod("cloneShallow",aN(uZ,a)),aH(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,aN(uY,a))}),a1(c[b.dataType]===b)};var u3=function(){function a(a,b){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=a||"",this.hostTree=b}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(a,b,c){aP(a)&&(c=b,b=a,a=null),aQ(a=a||{})&&(a={order:a});var d,e=a.order||"preorder",f=this[a.attr||"children"];"preorder"===e&&(d=b.call(c,this));for(var g=0;!d&&g<f.length;g++)f[g].eachNode(a,b,c);"postorder"===e&&b.call(c,this)},a.prototype.updateDepthAndHeight=function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1),d.height>b&&(b=d.height)}this.height=b+1},a.prototype.getNodeById=function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].getNodeById(a);if(e)return e}},a.prototype.contains=function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].contains(a);if(e)return e}},a.prototype.getAncestors=function(a){for(var b=[],c=a?this:this.parentNode;c;)b.push(c),c=c.parentNode;return b.reverse(),b},a.prototype.getAncestorsIndices=function(){for(var a=[],b=this;b;)a.push(b.dataIndex),b=b.parentNode;return a.reverse(),a},a.prototype.getDescendantIndices=function(){var a=[];return this.eachNode(function(b){a.push(b.dataIndex)}),a},a.prototype.getValue=function(a){var b=this.hostTree.data;return b.getStore().get(b.getDimensionIndex(a||"value"),this.dataIndex)},a.prototype.setLayout=function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(a)},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},a.prototype.getVisual=function(a){return this.hostTree.data.getItemVisual(this.dataIndex,a)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var a=this.parentNode.children,b=0;b<a.length;++b)if(a[b]===this)return b}return -1},a.prototype.isAncestorOf=function(a){for(var b=a.parentNode;b;){if(b===this)return!0;b=b.parentNode}return!1},a.prototype.isDescendantOf=function(a){return a!==this&&a.isAncestorOf(this)},a}(),u4=function(){function a(a){this.type="tree",this._nodes=[],this.hostModel=a}return a.prototype.eachNode=function(a,b,c){this.root.eachNode(a,b,c)},a.prototype.getNodeByDataIndex=function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},a.prototype.getNodeById=function(a){return this.root.getNodeById(a)},a.prototype.update=function(){for(var a=this.data,b=this._nodes,c=0,d=b.length;c<d;c++)b[c].dataIndex=-1;for(var c=0,d=a.count();c<d;c++)b[a.getRawIndex(c)].dataIndex=c},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(b,c,d){var e=new a(c),f=[],g=1;!function a(b,c){var d,h,i,j=b.value;g=Math.max(g,aO(j)?j.length:1),f.push(b);var k=new u3(eW(b.name,""),e);c?(d=k,i=(h=c).children,d.parentNode!==h&&(i.push(d),d.parentNode=h)):e.root=k,e._nodes.push(k);var l=b.children;if(l)for(var m=0;m<l.length;m++)a(l[m],k)}(b),e.root.updateDepthAndHeight(0);var h=new py(pz(f,{coordDimensions:["value"],dimensionsCount:g}).dimensions,c);return h.initData(f),d&&d(h),u2({mainData:h,struct:e,structAttr:"tree"}),e.update(),e},a}();function u5(a,b,c){if(a&&aE(b,a.type)>=0){var d=c.getData().tree.root,e=a.targetNode;if(aQ(e)&&(e=d.getNodeById(e)),e&&d.contains(e))return{node:e};var f=a.targetNodeId;if(null!=f&&(e=d.getNodeById(f)))return{node:e}}}function u6(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function u7(a,b){return aE(u6(a),b)>=0}function u8(a,b){for(var c=[];a;){var d=a.dataIndex;c.push({name:a.name,dataIndex:d,value:b.getRawValue(d)}),a=a.parentNode}return c.reverse(),c}var u9=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.hasSymbolVisual=!0,b.ignoreStyleOnData=!0,b}return af(b,a),b.prototype.getInitialData=function(a){var b={name:a.name,children:a.data},c=new h2(a.leaves||{},this,this.ecModel),d=u4.createTree(b,this,function(a){a.wrapMethod("getItemModel",function(a,b){var e=d.getNodeByDataIndex(b);return e&&e.children.length&&e.isExpand||(a.parentModel=c),a})}),e=0;d.eachNode("preorder",function(a){a.depth>e&&(e=a.depth)});var f=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:e;return d.root.eachNode("preorder",function(a){var b=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=b&&null!=b.collapsed?!b.collapsed:a.depth<=f}),d.data},b.prototype.getOrient=function(){var a=this.get("orient");return"horizontal"===a?a="LR":"vertical"===a&&(a="TB"),a},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.formatTooltip=function(a,b,c){for(var d=this.getData().tree,e=d.root.children[0],f=d.getNodeByDataIndex(a),g=f.getValue(),h=f.name;f&&f!==e;)h=f.parentNode.name+"."+h,f=f.parentNode;return kD("nameValue",{name:h,value:g,noValue:isNaN(g)||null==g})},b.prototype.getDataParams=function(b){var c=a.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(b);return c.treeAncestors=u8(d,this),c.collapsed=!d.isExpand,c},b.type="series.tree",b.layoutMode="box",b.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},b}(kR);function va(a,b){for(var c,d=[a];c=d.pop();)if(b(c),c.isExpand){var e=c.children;if(e.length)for(var f=e.length-1;f>=0;f--)d.push(e[f])}}function vb(a,b){a.eachSeriesByType("tree",function(a){!function(a,b){var c=iN(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});a.layoutInfo=c;var d=a.get("layout"),e=0,f=0,g=null;"radial"===d?(e=2*Math.PI,f=Math.min(c.height,c.width)/2,g=uI(function(a,b){return(a.parentNode===b.parentNode?1:2)/a.depth})):(e=c.width,f=c.height,g=uI());var h=a.getData().tree.root,i=h.children[0];if(i){!function(a){a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var b,c,d=[a];b=d.pop();)if(c=b.children,b.isExpand&&c.length)for(var e=c.length,f=e-1;f>=0;f--){var g=c[f];g.hierNode={defaultAncestor:null,ancestor:g,prelim:0,modifier:0,change:0,shift:0,i:f,thread:null},d.push(g)}}(h),function(a,b,c){for(var d,e=[a],f=[];d=e.pop();)if(f.push(d),d.isExpand){var g=d.children;if(g.length)for(var h=0;h<g.length;h++)e.push(g[h])}for(;d=f.pop();)b(d,c)}(i,uG,g),h.hierNode.modifier=-i.hierNode.prelim,va(i,uH);var j=i,k=i,l=i;va(i,function(a){var b=a.getLayout().x;b<j.getLayout().x&&(j=a),b>k.getLayout().x&&(k=a),a.depth>l.depth&&(l=a)});var m=j===k?1:g(j,k)/2,n=m-j.getLayout().x,o=0,p=0,q=0,r=0;if("radial"===d)o=e/(k.getLayout().x+m+n),p=f/(l.depth-1||1),va(i,function(a){q=(a.getLayout().x+n)*o,r=(a.depth-1)*p;var b=uJ(q,r);a.setLayout({x:b.x,y:b.y,rawX:q,rawY:r},!0)});else{var s=a.getOrient();"RL"===s||"LR"===s?(p=f/(k.getLayout().x+m+n),o=e/(l.depth-1||1),va(i,function(a){r=(a.getLayout().x+n)*p,q="LR"===s?(a.depth-1)*o:e-(a.depth-1)*o,a.setLayout({x:q,y:r},!0)})):("TB"===s||"BT"===s)&&(o=e/(k.getLayout().x+m+n),p=f/(l.depth-1||1),va(i,function(a){q=(a.getLayout().x+n)*o,r="TB"===s?(a.depth-1)*p:f-(a.depth-1)*p,a.setLayout({x:q,y:r},!0)}))}}}(a,b)})}function vc(a){a.eachSeriesByType("tree",function(a){var b=a.getData();b.tree.eachNode(function(a){var c=a.getModel().getModel("itemStyle").getItemStyle();aC(b.ensureUniqueItemVisual(a.dataIndex,"style"),c)})})}var vd=["treemapZoomToNode","treemapRender","treemapMove"];function ve(a){var b=a.getData().tree,c={};b.eachNode(function(b){for(var d=b;d&&d.depth>1;)d=d.parentNode;var e=jg(a.ecModel,d.name||d.dataIndex+"",c);b.setVisual("decal",e)})}var vf=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.preventUsingHoverLayer=!0,c}return af(b,a),b.prototype.getInitialData=function(a,b){var c={name:a.name,children:a.data};!function a(b){var c=0;aH(b.children,function(b){a(b);var d=b.value;aO(d)&&(d=d[0]),c+=d});var d=b.value;aO(d)&&(d=d[0]),(null==d||isNaN(d))&&(d=c),d<0&&(d=0),aO(b.value)?b.value[0]=d:b.value=d}(c);var d=a.levels||[],e=new h2({itemStyle:this.designatedVisualItemStyle={}},this,b),f=aI((d=a.levels=function(a,b){var c,d,e=eP(b.get("color")),f=eP(b.get(["aria","decal","decals"]));if(e){aH(a=a||[],function(a){var b=new h2(a),e=b.get("color"),f=b.get("decal");(b.get(["itemStyle","color"])||e&&"none"!==e)&&(c=!0),(b.get(["itemStyle","decal"])||f&&"none"!==f)&&(d=!0)});var g=a[0]||(a[0]={});return c||(g.color=e.slice()),!d&&f&&(g.decal=f.slice()),a}}(d,b))||[],function(a){return new h2(a,e,b)},this),g=u4.createTree(c,this,function(a){a.wrapMethod("getItemModel",function(a,b){var c=g.getNodeByDataIndex(b);return a.parentModel=(c?f[c.depth]:null)||e,a})});return g.data},b.prototype.optionUpdated=function(){this.resetViewRoot()},b.prototype.formatTooltip=function(a,b,c){var d=this.getData(),e=this.getRawValue(a);return kD("nameValue",{name:d.getName(a),value:e})},b.prototype.getDataParams=function(b){var c=a.prototype.getDataParams.apply(this,arguments);return c.treeAncestors=u8(this.getData().tree.getNodeByDataIndex(b),this),c.treePathInfo=c.treeAncestors,c},b.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},aC(this.layoutInfo,a)},b.prototype.mapIdToIndex=function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=a7(),this._idIndexMapCount=0);var c=b.get(a);return null==c&&b.set(a,c=this._idIndexMapCount++),c},b.prototype.getViewRoot=function(){return this._viewRoot},b.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)},b.prototype.enableAriaDecal=function(){ve(this)},b.type="series.treemap",b.layoutMode="box",b.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},b}(kR),vg=function(){function a(a){this.group=new em,a.add(this.group)}return a.prototype.render=function(a,b,c,d){var e=a.getModel("breadcrumb"),f=this.group;if(f.removeAll(),e.get("show")&&c){var g=e.getModel("itemStyle"),h=e.getModel("emphasis"),i=g.getModel("textStyle"),j=h.getModel(["itemStyle","textStyle"]),k={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(c,k,i),this._renderContent(a,k,g,h,i,j,d),iO(f,k.pos,k.box)}},a.prototype._prepare=function(a,b,c){for(var d=a;d;d=d.parentNode){var e=eW(d.getModel().get("name"),""),f=Math.max(c.getTextRect(e).width+16,b.emptyItemWidth);b.totalWidth+=f+8,b.renderList.push({node:d,text:e,width:f})}},a.prototype._renderContent=function(a,b,c,d,e,f,g){for(var h,i,j,k,l,m,n,o,p,q=0,r=b.emptyItemWidth,s=a.get(["breadcrumb","height"]),t=(h=b.pos,k=(i=b.box).width,l=i.height,m=es(h.left,k),n=es(h.top,l),o=es(h.right,k),p=es(h.bottom,l),(isNaN(m)||isNaN(parseFloat(h.left)))&&(m=0),(isNaN(o)||isNaN(parseFloat(h.right)))&&(o=k),(isNaN(n)||isNaN(parseFloat(h.top)))&&(n=0),(isNaN(p)||isNaN(parseFloat(h.bottom)))&&(p=l),{width:Math.max(o-m-(j=a0(j||0))[1]-j[3],0),height:Math.max(p-n-j[0]-j[2],0)}),u=b.totalWidth,v=b.renderList,w=d.getModel("itemStyle").getItemStyle(),x=v.length-1;x>=0;x--){var y,z,A,B=v[x],C=B.node,D=B.width,E=B.text;u>t.width&&(u-=D-r,D=r,E=null);var F=new lD({shape:{points:function(a,b,c,d,e,f){var g=[[e?a:a-5,0],[a+c,0],[a+c,0+d],[e?a:a-5,0+d]];return f||g.splice(2,0,[a+c+5,0+d/2]),e||g.push([a,0+d/2]),g}(q,0,D,s,x===v.length-1,0===x)},style:aD(c.getItemStyle(),{lineJoin:"bevel"}),textContent:new gB({style:hK(e,{text:E})}),textConfig:{position:"inside"},z2:1e5,onclick:aN(g,C)});F.disableLabelAnimation=!0,F.getTextContent().ensureState("emphasis").style=hK(f,{text:E}),F.ensureState("emphasis").style=w,hm(F,d.get("focus"),d.get("blurScope"),d.get("disabled")),this.group.add(F),y=F,z=a,A=C,gO(y).eventData={componentType:"series",componentSubType:"treemap",componentIndex:z.componentIndex,seriesIndex:z.seriesIndex,seriesName:z.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:A&&A.dataIndex,name:A&&A.name},treePathInfo:A&&u8(A,z)},q+=D+8}},a.prototype.remove=function(){this.group.removeAll()},a}(),vh=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(a,b,c,d,e){return!this._elExistsMap[a.id]&&(this._elExistsMap[a.id]=!0,this._storage.push({el:a,target:b,duration:c,delay:d,easing:e}),!0)},a.prototype.finished=function(a){return this._finishedCallback=a,this},a.prototype.start=function(){for(var a=this,b=this._storage.length,c=function(){--b<=0&&(a._storage.length=0,a._elExistsMap={},a._finishedCallback&&a._finishedCallback())},d=0,e=this._storage.length;d<e;d++){var f=this._storage[d];f.el.animateTo(f.target,{duration:f.duration,delay:f.delay,easing:f.easing,setToFinal:!0,done:c,aborted:c})}return this},a}(),vi="label",vj="upperLabel",vk=fg([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),vl=function(a){var b=vk(a);return b.stroke=b.fill=b.lineWidth=null,b},vm=e$(),vn=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._state="ready",c._storage=vo(),c}return af(b,a),b.prototype.render=function(a,b,c,d){if(!(0>aE(b.findComponents({mainType:"series",subType:"treemap",query:d}),a))){this.seriesModel=a,this.api=c,this.ecModel=b;var e=u5(d,["treemapZoomToNode","treemapRootToNode"],a),f=d&&d.type,g=a.layoutInfo,h=!this._oldTree,i=this._storage,j="treemapRootToNode"===f&&e&&i?{rootNodeGroup:i.nodeGroup[e.node.getRawIndex()],direction:d.direction}:null,k=this._giveContainerGroup(g),l=a.get("animation"),m=this._doRender(k,a,j);!l||h||f&&"treemapZoomToNode"!==f&&"treemapRootToNode"!==f?m.renderFinally():this._doAnimation(k,m,a,j),this._resetController(c),this._renderBreadcrumb(a,c,e)}},b.prototype._giveContainerGroup=function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new em,this._initEvents(b),this.group.add(b)),b.x=a.x,b.y=a.y,b},b.prototype._doRender=function(a,b,c){var d,e,f=b.getData().tree,g=this._oldTree,h=vo(),i=vo(),j=this._storage,k=[];!function a(d,e,f,g,l){function m(a){return a.getId()}function n(m,n){var o=null!=m?d[m]:null,p=null!=n?e[n]:null,q=function(a,b,c,d,e,f,g,h,i,j){if(g){var k=g.getLayout(),l=a.getData(),m=g.getModel();if(l.setItemGraphicEl(g.dataIndex,null),k&&k.isInView){var n=k.width,o=k.height,p=k.borderWidth,q=k.invisible,r=g.getRawIndex(),s=h&&h.getRawIndex(),t=g.viewChildren,u=k.upperHeight,v=t&&t.length,w=m.getModel("itemStyle"),x=m.getModel(["emphasis","itemStyle"]),y=m.getModel(["blur","itemStyle"]),z=m.getModel(["select","itemStyle"]),A=w.get("borderRadius")||0,B=M("nodeGroup",em);if(B){if(i.add(B),B.x=k.x||0,B.y=k.y||0,B.markRedraw(),vm(B).nodeWidth=n,vm(B).nodeHeight=o,k.isAboveViewRoot)return B;var C=M("background",gy,j,20);C&&function(b,c,d){var e=gO(c);if(e.dataIndex=g.dataIndex,e.seriesIndex=a.seriesIndex,c.setShape({x:0,y:0,width:n,height:o,r:A}),q)J(c);else{c.invisible=!1;var f=g.getVisual("style"),h=f.stroke,i=vl(w);i.fill=h;var j=vk(x);j.fill=x.get("borderColor");var k=vk(y);k.fill=y.get("borderColor");var l=vk(z);if(l.fill=z.get("borderColor"),d){var m=n-2*p;K(c,h,f.opacity,{x:p,y:0,width:m,height:u})}else c.removeTextContent();c.setStyle(i),c.ensureState("emphasis").style=j,c.ensureState("blur").style=k,c.ensureState("select").style=l,ha(c)}b.add(c)}(B,C,v&&k.upperLabelHeight);var D=m.getModel("emphasis"),E=D.get("focus"),F=D.get("blurScope"),G=D.get("disabled"),H="ancestor"===E?g.getAncestorsIndices():"descendant"===E?g.getDescendantIndices():E;if(v)hs(B)&&hr(B,!1),C&&(hr(C,!G),l.setItemGraphicEl(g.dataIndex,C),hn(C,H,F));else{var I=M("content",gy,j,30);I&&function(b,c){var d=gO(c);d.dataIndex=g.dataIndex,d.seriesIndex=a.seriesIndex;var e=Math.max(n-2*p,0),f=Math.max(o-2*p,0);if(c.culling=!0,c.setShape({x:p,y:p,width:e,height:f,r:A}),q)J(c);else{c.invisible=!1;var h=g.getVisual("style"),i=h.fill,j=vl(w);j.fill=i,j.decal=h.decal;var k=vk(x),l=vk(y),m=vk(z);K(c,i,h.opacity,null),c.setStyle(j),c.ensureState("emphasis").style=k,c.ensureState("blur").style=l,c.ensureState("select").style=m,ha(c)}b.add(c)}(B,I),C.disableMorphing=!0,C&&hs(C)&&hr(C,!1),hr(B,!G),l.setItemGraphicEl(g.dataIndex,B),hn(B,H,F)}return B}}}function J(a){a.invisible||f.push(a)}function K(b,c,d,e){var f=m.getModel(e?vj:vi),h=eW(m.get("name"),null),i=f.getShallow("show");hI(b,hJ(m,e?vj:vi),{defaultText:i?h:null,inheritColor:c,defaultOpacity:d,labelFetcher:a,labelDataIndex:g.dataIndex});var j=b.getTextContent();if(j){var l=j.style,n=a0(l.padding||0);e&&(b.setTextConfig({layoutRect:e}),j.disableLabelLayout=!0),j.beforeUpdate=function(){var a=Math.max((e?e.width:b.shape.width)-n[1]-n[3],0),c=Math.max((e?e.height:b.shape.height)-n[0]-n[2],0);(l.width!==a||l.height!==c)&&j.setStyle({width:a,height:c})},l.truncateMinChar=2,l.lineOverflow="truncate",L(l,e,k);var o=j.getState("emphasis");L(o?o.style:null,e,k)}}function L(b,c,d){var e=b?b.text:null;if(!c&&d.isLeafRoot&&null!=e){var f=a.get("drillDownIcon",!0);b.text=f?f+" "+e:e}}function M(a,f,h,i){var j,k,l,m=null!=s&&c[a][s],n=e[a];return m?(c[a][s]=null,j=n,k=m,l=j[r]={},k instanceof em?(l.oldX=k.x,l.oldY=k.y):l.oldShape=aC({},k.shape)):q||((m=new f)instanceof fC&&(m.z2=100*h+i),function(a,b){var c=a[r]={},f=g.parentNode,h=b instanceof em;if(f&&(!d||"drillDown"===d.direction)){var i=0,j=0,k=e.background[f.getRawIndex()];!d&&k&&k.oldShape&&(i=k.oldShape.width,j=k.oldShape.height),h?(c.oldX=0,c.oldY=j):c.oldShape={x:i,y:j,width:0,height:0}}c.fadein=!h}(n,m)),b[a][r]=m}}(b,i,j,c,h,k,o,p,f,l);q&&a(o&&o.viewChildren||[],p&&p.viewChildren||[],q,g,l+1)}g?(e=d,aH(d,function(a,b){a.isRemoved()||n(b,b)})):new pj(e,d,m,m).add(n).update(n).remove(aN(n,null)).execute()}(f.root?[f.root]:[],g&&g.root?[g.root]:[],a,f===g||!g,0);var l=(d=j,e=vo(),d&&aH(d,function(a,b){var c=e[b];aH(a,function(a){a&&(c.push(a),vm(a).willDelete=!0)})}),e);return this._oldTree=f,this._storage=i,{lastsForAnimation:h,willDeleteEls:l,renderFinally:function(){aH(l,function(a){aH(a,function(a){a.parent&&a.parent.remove(a)})}),aH(k,function(a){a.invisible=!0,a.dirty()})}}},b.prototype._doAnimation=function(a,b,c,d){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),g=(aP(e)?0:e)||0,h=(aP(f)?null:f)||"cubicOut",i=new vh;aH(b.willDeleteEls,function(a,b){aH(a,function(a,c){if(!a.invisible){var e,f=a.parent,j=vm(f);if(d&&"drillDown"===d.direction)e=f===d.rootNodeGroup?{shape:{x:0,y:0,width:j.nodeWidth,height:j.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var k=0,l=0;j.willDelete||(k=j.nodeWidth/2,l=j.nodeHeight/2),e="nodeGroup"===b?{x:k,y:l,style:{opacity:0}}:{shape:{x:k,y:l,width:0,height:0},style:{opacity:0}}}e&&i.add(a,e,g,0,h)}})}),aH(this._storage,function(a,c){aH(a,function(a,d){var e=b.lastsForAnimation[c][d],f={};e&&(a instanceof em?null!=e.oldX&&(f.x=a.x,f.y=a.y,a.x=e.oldX,a.y=e.oldY):(e.oldShape&&(f.shape=aC({},a.shape),a.setShape(e.oldShape)),e.fadein?(a.setStyle("opacity",0),f.style={opacity:1}):1!==a.style.opacity&&(f.style={opacity:1})),i.add(a,f,g,0,h))})},this),this._state="animating",i.finished(aM(function(){this._state="ready",b.renderFinally()},this)).start()},b.prototype._resetController=function(a){var b=this._controller;b||((b=this._controller=new ti(a.getZr())).enable(this.seriesModel.get("roam")),b.on("pan",aM(this._onPan,this)),b.on("zoom",aM(this._onZoom,this)));var c=new ca(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(a,b,d){return c.contain(b,d)})},b.prototype._clearController=function(){var a=this._controller;a&&(a.dispose(),a=null)},b.prototype._onPan=function(a){if("animating"!==this._state&&(Math.abs(a.dx)>3||Math.abs(a.dy)>3)){var b=this.seriesModel.getData().tree.root;if(b){var c=b.getLayout();c&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a.dx,y:c.y+a.dy,width:c.width,height:c.height}})}}},b.prototype._onZoom=function(a){var b=a.originX,c=a.originY;if("animating"!==this._state){var d=this.seriesModel.getData().tree.root;if(!d)return;var e=d.getLayout();if(!e)return;var f=new ca(e.x,e.y,e.width,e.height),g=this.seriesModel.layoutInfo;b-=g.x,c-=g.y;var h=bV();bZ(h,h,[-b,-c]),b_(h,h,[a.scale,a.scale]),bZ(h,h,[b,c]),f.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},b.prototype._initEvents=function(a){var b=this;a.on("click",function(a){if("ready"===b._state){var c=b.seriesModel.get("nodeClick",!0);if(c){var d=b.findTarget(a.offsetX,a.offsetY);if(d){var e=d.node;if(e.getLayout().isLeafRoot)b._rootToNode(d);else if("zoomToNode"===c)b._zoomToNode(d);else if("link"===c){var f=e.hostTree.data.getItemModel(e.dataIndex),g=f.get("link",!0),h=f.get("target",!0)||"blank";g&&iJ(g,h)}}}}},this)},b.prototype._renderBreadcrumb=function(a,b,c){var d=this;!c&&((c=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new vg(this.group))).render(a,b,c.node,function(b){"animating"!==d._state&&(u7(a.getViewRoot(),b)?d._rootToNode({node:b}):d._zoomToNode({node:b}))})},b.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=vo(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},b.prototype.dispose=function(){this._clearController()},b.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},b.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},b.prototype.findTarget=function(a,b){var c;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var f=e.transformCoordToLocal(a,b),g=e.shape;if(!(g.x<=f[0])||!(f[0]<=g.x+g.width)||!(g.y<=f[1])||!(f[1]<=g.y+g.height))return!1;c={node:d,offsetX:f[0],offsetY:f[1]}}},this),c},b.type="treemap",b}(ms);function vo(){return{nodeGroup:[],background:[],content:[]}}var vp=function(){function a(b){var c,d,e=b.mappingMethod,f=b.type,g=this.option=az(b);this.type=f,this.mappingMethod=e,this._normalizeData=vz[e];var h=a.visualHandlers[f];this.applyVisual=h.applyVisual,this.getColorMapper=h.getColorMapper,this._normalizedToVisual=h._normalizedToVisual[e],"piecewise"===e?(vq(g),d=(c=g).pieceList,c.hasSpecialVisual=!1,aH(d,function(a,b){a.originIndex=b,null!=a.visual&&(c.hasSpecialVisual=!0)})):"category"===e?g.categories?function(a){var b=a.categories,c=a.categoryMap={},d=a.visual;if(aH(b,function(a,b){c[a]=b}),!aO(d)){var e=[];aT(d)?aH(d,function(a,b){var d=c[b];e[null!=d?d:-1]=a}):e[-1]=d,d=vy(a,e)}for(var f=b.length-1;f>=0;f--)null==d[f]&&(delete c[b[f]],b.pop())}(g):vq(g,!0):(a1("linear"!==e||g.dataExtent),vq(g))}return a.prototype.mapValueToVisual=function(a){var b=this._normalizeData(a);return this._normalizedToVisual(b,a)},a.prototype.getNormalizer=function(){return aM(this._normalizeData,this)},a.listVisualTypes=function(){return aL(a.visualHandlers)},a.isValidType=function(b){return a.visualHandlers.hasOwnProperty(b)},a.eachVisual=function(a,b,c){aT(a)?aH(a,b,c):b.call(c,a)},a.mapVisual=function(b,c,d){var e,f=aO(b)?[]:aT(b)?{}:(e=!0,null);return a.eachVisual(b,function(a,b){var g=c.call(d,a,b);e?f=g:f[b]=g}),f},a.retrieveVisuals=function(b){var c,d={};return b&&aH(a.visualHandlers,function(a,e){b.hasOwnProperty(e)&&(d[e]=b[e],c=!0)}),c?d:null},a.prepareVisualTypes=function(a){if(aO(a))a=a.slice();else{if(!aT(a))return[];var b=[];aH(a,function(a,c){b.push(c)}),a=b}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},a.dependsOn=function(a,b){return"color"===b?!!(a&&0===a.indexOf(b)):a===b},a.findPieceIndex=function(a,b,c){for(var d,e=1/0,f=0,g=b.length;f<g;f++){var h=b[f].value;if(null!=h){if(h===a||aQ(h)&&h===a+"")return f;c&&x(h,f)}}for(var f=0,g=b.length;f<g;f++){var i,j,k,l,m,n,o,p,q,r,s,t,u=b[f],v=u.interval,w=u.close;if(v){if(v[0]===-1/0){if(i=w[1],j=a,k=v[1],i?j<=k:j<k)return f}else if(v[1]===1/0){if(l=w[0],m=v[0],n=a,l?m<=n:m<n)return f}else{if(o=w[0],p=v[0],q=a,(o?p<=q:p<q)&&(r=w[1],s=a,t=v[1],r?s<=t:s<t))return f}c&&x(v[0],f),c&&x(v[1],f)}}if(c)return a===1/0?b.length-1:a===-1/0?0:d;function x(b,c){var f=Math.abs(b-a);f<e&&(e=f,d=c)}},a.visualHandlers={color:{applyVisual:vt("color"),getColorMapper:function(){var a=this.option;return aM("category"===a.mappingMethod?function(a,b){return b||(a=this._normalizeData(a)),vu.call(this,a)}:function(b,c,d){var e=!!d;return c||(b=this._normalizeData(b)),d=c6(b,a.parsedVisual,d),e?d:c9(d,"rgba")},this)},_normalizedToVisual:{linear:function(a){return c9(c6(a,this.option.parsedVisual),"rgba")},category:vu,piecewise:function(a,b){var c=vx.call(this,b);return null==c&&(c=c9(c6(a,this.option.parsedVisual),"rgba")),c},fixed:vv}},colorHue:vr(function(a,b){return c7(a,b)}),colorSaturation:vr(function(a,b){return c7(a,null,b)}),colorLightness:vr(function(a,b){return c7(a,null,null,b)}),colorAlpha:vr(function(a,b){return c8(a,b)}),decal:{applyVisual:vt("decal"),_normalizedToVisual:{linear:null,category:vu,piecewise:null,fixed:null}},opacity:{applyVisual:vt("opacity"),_normalizedToVisual:vw([0,1])},liftZ:{applyVisual:vt("liftZ"),_normalizedToVisual:{linear:vv,category:vv,piecewise:vv,fixed:vv}},symbol:{applyVisual:function(a,b,c){c("symbol",this.mapValueToVisual(a))},_normalizedToVisual:{linear:vs,category:vu,piecewise:function(a,b){var c=vx.call(this,b);return null==c&&(c=vs.call(this,a)),c},fixed:vv}},symbolSize:{applyVisual:vt("symbolSize"),_normalizedToVisual:vw([0,1])}},a}();function vq(a,b){var c=a.visual,d=[];aT(c)?aH(c,function(a){d.push(a)}):null!=c&&d.push(c),b||1!==d.length||({color:1,symbol:1}).hasOwnProperty(a.type)||(d[1]=d[0]),vy(a,d)}function vr(a){return{applyVisual:function(b,c,d){var e=this.mapValueToVisual(b);d("color",a(c("color"),e))},_normalizedToVisual:vw([0,1])}}function vs(a){var b=this.option.visual;return b[Math.round(er(a,[0,1],[0,b.length-1],!0))]||{}}function vt(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function vu(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function vv(){return this.option.visual[0]}function vw(a){return{linear:function(b){return er(b,a,this.option.visual,!0)},category:vu,piecewise:function(b,c){var d=vx.call(this,c);return null==d&&(d=er(b,a,this.option.visual,!0)),d},fixed:vv}}function vx(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual){var d=vp.findPieceIndex(a,c),e=c[d];if(e&&e.visual)return e.visual[this.type]}}function vy(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=aI(b,function(a){return c3(a)||[0,0,0,1]})),b}var vz={linear:function(a){return er(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=vp.findPieceIndex(a,b,!0);if(null!=c)return er(c,[0,b.length-1],[0,1],!0)},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?-1:b},fixed:bc},vA=e$();let vB={seriesType:"treemap",reset:function(a){var b=a.getData().tree.root;b.isRemoved()||function a(b,c,d,e){var f=b.getModel(),g=b.getLayout(),h=b.hostTree.data;if(g&&!g.invisible&&g.isInView){var i,j,k,l,m,n,o,p=f.getModel("itemStyle"),q=(i=p,j=c,k=e,l=aC({},j),m=k.designatedVisualItemStyle,aH(["color","colorAlpha","colorSaturation"],function(a){m[a]=j[a];var b=i.get(a);m[a]=null,null!=b&&(l[a]=b)}),l),r=h.ensureUniqueItemVisual(b.dataIndex,"style"),s=p.get("borderColor"),t=p.get("borderColorSaturation");null!=t&&(n=t,s=null!=(o=vC(q))?c7(o,null,null,n):null),r.stroke=s;var u=b.viewChildren;if(u&&u.length){var v=function(a,b,c,d,e,f){if(f&&f.length){var g=vE(b,"color")||null!=e.color&&"none"!==e.color&&(vE(b,"colorAlpha")||vE(b,"colorSaturation"));if(g){var h=b.get("visualMin"),i=b.get("visualMax"),j=c.dataExtent.slice();null!=h&&h<j[0]&&(j[0]=h),null!=i&&i>j[1]&&(j[1]=i);var k=b.get("colorMappingBy"),l={type:g.name,dataExtent:j,visual:g.range};"color"===l.type&&("index"===k||"id"===k)?(l.mappingMethod="category",l.loop=!0):l.mappingMethod="linear";var m=new vp(l);return vA(m).drColorMappingBy=k,m}}}(0,f,g,0,q,u);aH(u,function(b,c){if(b.depth>=d.length||b===d[b.depth]){var g=function(a,b,c,d,e,f){var g=aC({},b);if(e){var h=e.type,i="color"===h&&vA(e).drColorMappingBy,j="index"===i?d:"id"===i?f.mapIdToIndex(c.getId()):c.getValue(a.get("visualDimension"));g[h]=e.mapValueToVisual(j)}return g}(f,q,b,c,v,e);a(b,g,d,e)}})}else r.fill=vC(q)}}(b,{},a.getViewRoot().getAncestors(),a)}};function vC(a){var b=vD(a,"color");if(b){var c=vD(a,"colorAlpha"),d=vD(a,"colorSaturation");return d&&(b=c7(b,null,null,d)),c&&(b=c8(b,c)),b}}function vD(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function vE(a,b){var c=a.get(b);return aO(c)&&c.length?{name:b,range:c}:null}var vF=Math.max,vG=Math.min,vH=["itemStyle","borderWidth"],vI=["itemStyle","gapWidth"],vJ=["upperLabel","show"],vK=["upperLabel","height"];let vL={seriesType:"treemap",reset:function(a,b,c,d){var e=c.getWidth(),f=c.getHeight(),g=a.option,h=iN(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()}),i=g.size||[],j=es(aY(h.width,i[0]),e),k=es(aY(h.height,i[1]),f),l=d&&d.type,m=u5(d,["treemapZoomToNode","treemapRootToNode"],a),n="treemapRender"===l||"treemapMove"===l?d.rootRect:null,o=a.getViewRoot(),p=u6(o);if("treemapMove"!==l){var q="treemapZoomToNode"===l?function(a,b,c,d,e){var f,g=(b||{}).node,h=[d,e];if(!g||g===c)return h;for(var i=d*e,j=i*a.option.zoomToNodeRatio;f=g.parentNode;){for(var k=0,l=f.children,m=0,n=l.length;m<n;m++)k+=l[m].getValue();var o=g.getValue();if(0===o)return h;j*=k/o;var p=f.getModel(),q=p.get(vH),r=Math.max(q,vN(p));(j+=4*q*q+(3*q+r)*Math.pow(j,.5))>0x1fffffffffffff&&(j=0x1fffffffffffff),g=f}j<i&&(j=i);var s=Math.pow(j/i,.5);return[d*s,e*s]}(a,m,o,j,k):n?[n.width,n.height]:[j,k],r=g.sort;r&&"asc"!==r&&"desc"!==r&&(r="desc");var s={squareRatio:g.squareRatio,sort:r,leafDepth:g.leafDepth};o.hostTree.clearLayouts();var t={x:0,y:0,width:q[0],height:q[1],area:q[0]*q[1]};o.setLayout(t),function a(b,c,d,e){if(!b.isRemoved()){var f,g,h=b.getLayout();f=h.width,g=h.height;var i=b.getModel(),j=i.get(vH),k=i.get(vI)/2,l=vN(i),m=Math.max(j,l),n=j-k,o=m-k;b.setLayout({borderWidth:j,upperHeight:m,upperLabelHeight:l},!0);var p=(f=vF(f-2*n,0))*(g=vF(g-n-o,0)),q=function(a,b,c,d,e,f){var g,h,i=a.children||[],j=d.sort;"asc"!==j&&"desc"!==j&&(j=null);var k=null!=d.leafDepth&&d.leafDepth<=f;if(e&&!k)return a.viewChildren=[];g=i=aK(i,function(a){return!a.isRemoved()}),(h=j)&&g.sort(function(a,b){var c="asc"===h?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===c?"asc"===h?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:c});var l=function(a,b,c){for(var d,e=0,f=0,g=b.length;f<g;f++)e+=b[f].getValue();var h=a.get("visualDimension");return b&&b.length?"value"===h&&c?(d=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&d.reverse()):(d=[1/0,-1/0],aH(b,function(a){var b=a.getValue(h);b<d[0]&&(d[0]=b),b>d[1]&&(d[1]=b)})):d=[NaN,NaN],{sum:e,dataExtent:d}}(b,i,j);if(0===l.sum||(l.sum=function(a,b,c,d,e){if(!d)return c;for(var f=a.get("visibleMin"),g=e.length,h=g,i=g-1;i>=0;i--){var j=e["asc"===d?g-i-1:i].getValue();j/c*b<f&&(h=i,c-=j)}return"asc"===d?e.splice(0,g-h):e.splice(h,g-h),c}(b,c,l.sum,j,i),0===l.sum))return a.viewChildren=[];for(var m=0,n=i.length;m<n;m++){var o=i[m].getValue()/l.sum*c;i[m].setLayout({area:o})}return k&&(i.length&&a.setLayout({isLeafRoot:!0},!0),i.length=0),a.viewChildren=i,a.setLayout({dataExtent:l.dataExtent},!0),i}(b,i,p,c,d,e);if(q.length){var r={x:n,y:o,width:f,height:g},s=vG(f,g),t=1/0,u=[];u.area=0;for(var v=0,w=q.length;v<w;){var x=q[v];u.push(x),u.area+=x.getLayout().area;var y=function(a,b,c){for(var d=0,e=1/0,f=0,g=void 0,h=a.length;f<h;f++)(g=a[f].getLayout().area)&&(g<e&&(e=g),g>d&&(d=g));var i=a.area*a.area,j=b*b*c;return i?vF(j*d/i,i/(j*e)):1/0}(u,s,c.squareRatio);y<=t?(v++,t=y):(u.area-=u.pop().getLayout().area,vM(u,s,r,k,!1),s=vG(r.width,r.height),u.length=u.area=0,t=1/0)}if(u.length&&vM(u,s,r,k,!0),!d){var z=i.get("childrenVisibleMin");null!=z&&p<z&&(d=!0)}for(var v=0,w=q.length;v<w;v++)a(q[v],c,d,e+1)}}}(o,s,!1,0),t=o.getLayout(),aH(p,function(a,b){var c=(p[b+1]||o).getValue();a.setLayout(aC({dataExtent:[c,c],borderWidth:0,upperHeight:0},t))})}var u=a.getData().tree.root;u.setLayout(function(a,b,c){if(b)return{x:b.x,y:b.y};var d={x:0,y:0};if(!c)return d;var e=c.node,f=e.getLayout();if(!f)return d;for(var g=[f.width/2,f.height/2],h=e;h;){var i=h.getLayout();g[0]+=i.x,g[1]+=i.y,h=h.parentNode}return{x:a.width/2-g[0],y:a.height/2-g[1]}}(h,n,m),!0),a.setLayoutInfo(h),function a(b,c,d,e,f){var g=b.getLayout(),h=d[f],i=h&&h===b;if((!h||i)&&(f!==d.length||b===e)){b.setLayout({isInView:!0,invisible:!i&&!c.intersect(g),isAboveViewRoot:i},!0);var j=new ca(c.x-g.x,c.y-g.y,c.width,c.height);aH(b.viewChildren||[],function(b){a(b,j,d,e,f+1)})}}(u,new ca(-h.x,-h.y,e,f),p,o,0)}};function vM(a,b,c,d,e){var f=+(b!==c.width),g=1-f,h=["x","y"],i=["width","height"],j=c[h[f]],k=b?a.area/b:0;(e||k>c[i[g]])&&(k=c[i[g]]);for(var l=0,m=a.length;l<m;l++){var n=a[l],o={},p=k?n.getLayout().area/k:0,q=o[i[g]]=vF(k-2*d,0),r=c[h[f]]+c[i[f]]-j,s=l===m-1||r<p?r:p,t=o[i[f]]=vF(s-2*d,0);o[h[g]]=c[h[g]]+vG(d,q/2),o[h[f]]=j+vG(d,t/2),j+=s,n.setLayout(o,!0)}c[h[g]]+=k,c[i[g]]-=k}function vN(a){return a.get(vJ)?a.get(vK):0}function vO(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getGraph().data,e=c.mapArray(c.getName);d.filterSelf(function(a){var c=d.getItemModel(a).getShallow("category");if(null!=c){aS(c)&&(c=e[c]);for(var f=0;f<b.length;f++)if(!b[f].isSelected(c))return!1}return!0})})}function vP(a){var b={};a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getData(),e={};c.each(function(d){var f=c.getName(d);e["ec-"+f]=d;var g=c.getItemModel(d),h=g.getModel("itemStyle").getItemStyle();h.fill||(h.fill=a.getColorFromPalette(f,b)),c.setItemVisual(d,"style",h);for(var i=["symbol","symbolSize","symbolKeepAspect"],j=0;j<i.length;j++){var k=g.getShallow(i[j],!0);null!=k&&c.setItemVisual(d,i[j],k)}}),c.count()&&d.each(function(a){var b=d.getItemModel(a).getShallow("category");if(null!=b){aQ(b)&&(b=e["ec-"+b]);var f=c.getItemVisual(b,"style");aC(d.ensureUniqueItemVisual(a,"style"),f);for(var g=["symbol","symbolSize","symbolKeepAspect"],h=0;h<g.length;h++)d.setItemVisual(a,g[h],c.getItemVisual(b,g[h]))}})})}function vQ(a){return a instanceof Array||(a=[a,a]),a}function vR(a){a.eachSeriesByType("graph",function(a){var b=a.getGraph(),c=a.getEdgeData(),d=vQ(a.get("edgeSymbol")),e=vQ(a.get("edgeSymbolSize"));c.setVisual("fromSymbol",d&&d[0]),c.setVisual("toSymbol",d&&d[1]),c.setVisual("fromSymbolSize",e&&e[0]),c.setVisual("toSymbolSize",e&&e[1]),c.setVisual("style",a.getModel("lineStyle").getLineStyle()),c.each(function(a){var d=c.getItemModel(a),e=b.getEdgeByIndex(a),f=vQ(d.getShallow("symbol",!0)),g=vQ(d.getShallow("symbolSize",!0)),h=d.getModel("lineStyle").getLineStyle(),i=c.ensureUniqueItemVisual(a,"style");switch(aC(i,h),i.stroke){case"source":var j=e.node1.getVisual("style");i.stroke=j&&j.fill;break;case"target":var j=e.node2.getVisual("style");i.stroke=j&&j.fill}f[0]&&e.setVisual("fromSymbol",f[0]),f[1]&&e.setVisual("toSymbol",f[1]),g[0]&&e.setVisual("fromSymbolSize",g[0]),g[1]&&e.setVisual("toSymbolSize",g[1])})})}var vS=function(a){return a.get("autoCurveness")||null},vT=function(a,b){var c=vS(a),d=20,e=[];if(aS(c))d=c;else if(aO(c)){a.__curvenessList=c;return}b>d&&(d=b);var f=d%2?d+2:d+3;e=[];for(var g=0;g<f;g++)e.push((g%2?g+1:g)/10*(g%2?-1:1));a.__curvenessList=e},vU=function(a,b,c){var d=[a.id,a.dataIndex].join("."),e=[b.id,b.dataIndex].join(".");return[c.uid,d,e].join("-->")},vV=function(a){var b=a.split("-->");return[b[0],b[2],b[1]].join("-->")},vW=function(a,b){var c=vU(a.node1,a.node2,b);return b.__edgeMap[c]},vX=function(a,b){var c=b.__edgeMap;return c[a]?c[a].length:0};function vY(a,b,c,d){var e=vS(b),f=aO(e);if(!e)return null;var g=vW(a,b);if(!g)return null;for(var h=-1,i=0;i<g.length;i++)if(g[i]===c){h=i;break}var j=vX(vU(a.node1,a.node2,b),b)+vX(vU(a.node2,a.node1,b),b);vT(b,j),a.lineStyle=a.lineStyle||{};var k=vU(a.node1,a.node2,b),l=b.__curvenessList,m=f||j%2?0:1;if(g.isForward)return l[m+h];var n=vX(vV(k),b),o=l[h+n+m];return d?f?e&&0===e[0]?(n+m)%2?o:-o:((n%2?0:1)+m)%2?o:-o:(n+m)%2?o:-o:l[h+n+m]}function vZ(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=a.getGraph();c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),v$(c,a)}}function v$(a,b){a.eachEdge(function(a,c){var d=a$(a.getModel().get(["lineStyle","curveness"]),-vY(a,b,c,!0),0),e=bi(a.node1.getLayout()),f=bi(a.node2.getLayout()),g=[e,f];+d&&g.push([(e[0]+f[0])/2-(e[1]-f[1])*d,(e[1]+f[1])/2-(f[0]-e[0])*d]),a.setLayout(g)})}function v_(a,b){a.eachSeriesByType("graph",function(a){var b=a.get("layout"),c=a.coordinateSystem;if(c&&"view"!==c.type){var d=a.getData(),e=[];aH(c.dimensions,function(a){e=e.concat(d.mapDimensionsAll(a))});for(var f=0;f<d.count();f++){for(var g=[],h=!1,i=0;i<e.length;i++){var j=d.get(e[i],f);isNaN(j)||(h=!0),g.push(j)}h?d.setItemLayout(f,c.dataToPoint(g)):d.setItemLayout(f,[NaN,NaN])}v$(d.graph,a)}else b&&"none"!==b||vZ(a)})}function v0(a){var b=a.coordinateSystem;if("view"!==b.type)return 1;var c=a.option.nodeScaleRatio,d=b.scaleX;return((b.getZoom()-1)*c+1)/d}function v1(a){var b=a.getVisual("symbolSize");return b instanceof Array&&(b=(b[0]+b[1])/2),+b}var v2=Math.PI,v3=[];function v4(a,b,c,d){var e=a.coordinateSystem;if(!e||"view"===e.type){var f=e.getBoundingRect(),g=a.getData(),h=g.graph,i=f.width/2+f.x,j=f.height/2+f.y,k=Math.min(f.width,f.height)/2,l=g.count();if(g.setLayout({cx:i,cy:j}),l){if(c){var m=e.pointToData(d),n=[m[0]-i,m[1]-j];bo(n,n),bn(n,n,k),c.setLayout([i+n[0],j+n[1]],!0),v6(c,a.get(["circular","rotateLabel"]),i,j)}v5[b](a,h,g,k,i,j,l),h.eachEdge(function(b,c){var d,e=a$(b.getModel().get(["lineStyle","curveness"]),vY(b,a,c),0),f=bi(b.node1.getLayout()),g=bi(b.node2.getLayout()),h=(f[0]+g[0])/2,k=(f[1]+g[1])/2;+e&&(e*=3,d=[i*e+h*(1-e),j*e+k*(1-e)]),b.setLayout([f,g,d])})}}}var v5={value:function(a,b,c,d,e,f,g){var h=0,i=c.getSum("value"),j=2*Math.PI/(i||g);b.eachNode(function(a){var b=a.getValue("value"),c=j*(i?b:1)/2;h+=c,a.setLayout([d*Math.cos(h)+e,d*Math.sin(h)+f]),h+=c})},symbolSize:function(a,b,c,d,e,f,g){var h=0;v3.length=g;var i=v0(a);b.eachNode(function(a){var b=v1(a);isNaN(b)&&(b=2),b<0&&(b=0);var c=Math.asin((b*=i)/2/d);isNaN(c)&&(c=v2/2),v3[a.dataIndex]=c,h+=2*c});var j=(2*v2-h)/g/2,k=0;b.eachNode(function(a){var b=j+v3[a.dataIndex];k+=b,a.getLayout()&&a.getLayout().fixed||a.setLayout([d*Math.cos(k)+e,d*Math.sin(k)+f]),k+=b})}};function v6(a,b,c,d){var e=a.getGraphicEl();if(e){var f=a.getModel().get(["label","rotate"])||0,g=e.getSymbolPath();if(b){var h=a.getLayout(),i=Math.atan2(h[1]-d,h[0]-c);i<0&&(i=2*Math.PI+i);var j=h[0]<c;j&&(i-=Math.PI);var k=j?"left":"right";g.setTextConfig({rotation:-i,position:k,origin:"center"});var l=g.ensureState("emphasis");aC(l.textConfig||(l.textConfig={}),{position:k})}else g.setTextConfig({rotation:f*=Math.PI/180})}}function v7(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&v4(a,"symbolSize")})}function v8(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var c=a.preservedPoints||{},d=a.getGraph(),e=d.data,f=d.edgeData,g=a.getModel("force"),h=g.get("initLayout");a.preservedPoints?e.each(function(a){var b=e.getId(a);e.setItemLayout(a,c[b]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&v4(a,"value"):vZ(a);var i=e.getDataExtent("value"),j=f.getDataExtent("value"),k=g.get("repulsion"),l=g.get("edgeLength"),m=aO(k)?k:[k,k],n=aO(l)?l:[l,l];n=[n[1],n[0]];var o=e.mapArray("value",function(a,b){var c=e.getItemLayout(b),d=er(a,i,m);return isNaN(d)&&(d=(m[0]+m[1])/2),{w:d,rep:d,fixed:e.getItemModel(b).get("fixed"),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),p=f.mapArray("value",function(b,c){var e=d.getEdgeByIndex(c),f=er(b,j,n);isNaN(f)&&(f=(n[0]+n[1])/2);var g=e.getModel(),h=a$(e.getModel().get(["lineStyle","curveness"]),-vY(e,a,c,!0),0);return{n1:o[e.node1.dataIndex],n2:o[e.node2.dataIndex],d:f,curveness:h,ignoreForceLayout:g.get("ignoreForceLayout")}}),q=function(a,b,c){for(var d,e,f=c.rect,g=f.width,h=f.height,i=[f.x+g/2,f.y+h/2],j=null==c.gravity?.1:c.gravity,k=0;k<a.length;k++){var l=a[k];l.p||(l.p=bg(g*(Math.random()-.5)+i[0],h*(Math.random()-.5)+i[1])),l.pp=bi(l.p),l.edges=null}var m=null==c.friction?.6:c.friction,n=m;return{warmUp:function(){n=.8*m},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},beforeStep:function(a){d=a},afterStep:function(a){e=a},step:function(c){d&&d(a,b);for(var f=[],g=a.length,h=0;h<b.length;h++){var k=b[h];if(!k.ignoreForceLayout){var l=k.n1,m=k.n2;bl(f,m.p,l.p);var o=bm(f)-k.d,p=m.w/(l.w+m.w);isNaN(p)&&(p=0),bo(f,f),l.fixed||bk(l.p,l.p,f,p*o*n),m.fixed||bk(m.p,m.p,f,-(1-p)*o*n)}}for(var h=0;h<g;h++){var q=a[h];q.fixed||(bl(f,i,q.p),bk(q.p,q.p,f,j*n))}for(var h=0;h<g;h++)for(var l=a[h],r=h+1;r<g;r++){var s,t,m=a[r];bl(f,m.p,l.p);var o=bm(f);0===o&&(s=Math.random()-.5,t=Math.random()-.5,f[0]=s,f[1]=t,o=1);var u=(l.rep+m.rep)/o/o;l.fixed||bk(l.pp,l.pp,f,u),m.fixed||bk(m.pp,m.pp,f,-u)}for(var v=[],h=0;h<g;h++){var q=a[h];q.fixed||(bl(v,q.p,q.pp),bk(q.p,q.p,v,n),bh(q.pp,q.p))}var w=(n*=.992)<.01;e&&e(a,b,w),c&&c(w)}}}(o,p,{rect:b.getBoundingRect(),gravity:g.get("gravity"),friction:g.get("friction")});q.beforeStep(function(a,b){for(var c=0,e=a.length;c<e;c++)a[c].fixed&&bh(a[c].p,d.getNodeByIndex(c).getLayout())}),q.afterStep(function(a,b,f){for(var g=0,h=a.length;g<h;g++)a[g].fixed||d.getNodeByIndex(g).setLayout(a[g].p),c[e.getId(g)]=a[g].p;for(var g=0,h=b.length;g<h;g++){var i=b[g],j=d.getEdgeByIndex(g),k=i.n1.p,l=i.n2.p,m=j.getLayout();(m=m?m.slice():[])[0]=m[0]||[],m[1]=m[1]||[],bh(m[0],k),bh(m[1],l),+i.curveness&&(m[2]=[(k[0]+l[0])/2-(k[1]-l[1])*i.curveness,(k[1]+l[1])/2-(l[0]-k[0])*i.curveness]),j.setLayout(m)}}),a.forceLayout=q,a.preservedPoints=c,q.step()}else a.forceLayout=null})}function v9(a,b){var c=[];return a.eachSeriesByType("graph",function(a){var d=a.get("coordinateSystem");if(!d||"view"===d){var e=a.getData(),f=e.mapArray(function(a){var b=e.getItemModel(a);return[+b.get("x"),+b.get("y")]}),g=[],h=[];fN(f,g,h),h[0]-g[0]==0&&(h[0]+=1,g[0]-=1),h[1]-g[1]==0&&(h[1]+=1,g[1]-=1);var i=(h[0]-g[0])/(h[1]-g[1]),j=iN(aC(a.getBoxLayoutParams(),{aspect:i}),{width:b.getWidth(),height:b.getHeight()});isNaN(i)&&(g=[j.x,j.y],h=[j.x+j.width,j.y+j.height]);var k=h[0]-g[0],l=h[1]-g[1],m=j.width,n=j.height,o=a.coordinateSystem=new us;o.zoomLimit=a.get("scaleLimit"),o.setBoundingRect(g[0],g[1],k,l),o.setViewRect(j.x,j.y,m,n),o.setCenter(a.get("center"),b),o.setZoom(a.get("zoom")),c.push(o)}}),c}var wa=lI.prototype,wb=lM.prototype,wc=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function wd(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}af(function(){return null!==r&&r.apply(this,arguments)||this},r=wc);var we=function(a){function b(b){var c=a.call(this,b)||this;return c.type="ec-line",c}return af(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new wc},b.prototype.buildPath=function(a,b){wd(b)?wa.buildPath.call(this,a,b):wb.buildPath.call(this,a,b)},b.prototype.pointAt=function(a){return wd(this.shape)?wa.pointAt.call(this,a):wb.pointAt.call(this,a)},b.prototype.tangentAt=function(a){var b=this.shape,c=wd(b)?[b.x2-b.x1,b.y2-b.y1]:wb.tangentAt.call(this,a);return bo(c,c)},b}(gm),wf=["fromSymbol","toSymbol"];function wg(a){return"_"+a+"Type"}function wh(a,b,c){var d=b.getItemVisual(c,a);if(!d||"none"===d)return d;var e=b.getItemVisual(c,a+"Size"),f=b.getItemVisual(c,a+"Rotate"),g=b.getItemVisual(c,a+"Offset"),h=b.getItemVisual(c,a+"KeepAspect"),i=nn(e),j=no(g||0,i);return d+i+j+(f||"")+(h||"")}function wi(a,b,c){var d=b.getItemVisual(c,a);if(d&&"none"!==d){var e=b.getItemVisual(c,a+"Size"),f=b.getItemVisual(c,a+"Rotate"),g=b.getItemVisual(c,a+"Offset"),h=b.getItemVisual(c,a+"KeepAspect"),i=nn(e),j=no(g||0,i),k=nm(d,-i[0]/2+j[0],-i[1]/2+j[1],i[0],i[1],null,h);return k.__specifiedRotation=null==f||isNaN(f)?void 0:f*Math.PI/180||0,k.name=a,k}}function wj(a,b){a.x1=b[0][0],a.y1=b[0][1],a.x2=b[1][0],a.y2=b[1][1],a.percent=1;var c=b[2];c?(a.cpx1=c[0],a.cpy1=c[1]):(a.cpx1=NaN,a.cpy1=NaN)}var wk=function(a){function b(b,c,d){var e=a.call(this)||this;return e._createLine(b,c,d),e}return af(b,a),b.prototype._createLine=function(a,b,c){var d,e,f=a.hostModel,g=(d=a.getItemLayout(b),wj((e=new we({name:"line",subPixelOptimize:!0})).shape,d),e);g.shape.percent=0,hz(g,{shape:{percent:1}},f,b),this.add(g),aH(wf,function(c){var d=wi(c,a,b);this.add(d),this[wg(c)]=wh(c,a,b)},this),this._updateCommonStl(a,b,c)},b.prototype.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};wj(g.shape,f),hy(e,g,d,b),aH(wf,function(c){var d=wh(c,a,b),e=wg(c);if(this[e]!==d){this.remove(this.childOfName(c));var f=wi(c,a,b);this.add(f)}this[e]=d},this),this._updateCommonStl(a,b,c)},b.prototype.getLinePath=function(){return this.childAt(0)},b.prototype._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.emphasisLineStyle,g=c&&c.blurLineStyle,h=c&&c.selectLineStyle,i=c&&c.labelStatesModels,j=c&&c.emphasisDisabled,k=c&&c.focus,l=c&&c.blurScope;if(!c||a.hasItemOption){var m=a.getItemModel(b),n=m.getModel("emphasis");f=n.getModel("lineStyle").getLineStyle(),g=m.getModel(["blur","lineStyle"]).getLineStyle(),h=m.getModel(["select","lineStyle"]).getLineStyle(),j=n.get("disabled"),k=n.get("focus"),l=n.get("blurScope"),i=hJ(m)}var o=a.getItemVisual(b,"style"),p=o.stroke;e.useStyle(o),e.style.fill=null,e.style.strokeNoScale=!0,e.ensureState("emphasis").style=f,e.ensureState("blur").style=g,e.ensureState("select").style=h,aH(wf,function(a){var b=this.childOfName(a);if(b){b.setColor(p),b.style.opacity=o.opacity;for(var c=0;c<gU.length;c++){var d=gU[c],f=e.getState(d);if(f){var g=f.style||{},h=b.ensureState(d),i=h.style||(h.style={});null!=g.stroke&&(i[b.__isEmptyBrush?"stroke":"fill"]=g.stroke),null!=g.opacity&&(i.opacity=g.opacity)}}b.markRedraw()}},this);var q=d.getRawValue(b);hI(this,i,{labelDataIndex:b,labelFetcher:{getFormattedLabel:function(b,c){return d.getFormattedLabel(b,c,a.dataType)}},inheritColor:p||"#000",defaultOpacity:o.opacity,defaultText:(null==q?a.getName(b):isFinite(q)?et(q):q)+""});var r=this.getTextContent();if(r){var s=i.normal;r.__align=r.style.align,r.__verticalAlign=r.style.verticalAlign,r.__position=s.get("position")||"middle";var t=s.get("distance");aO(t)||(t=[t,t]),r.__labelDistance=t}this.setTextConfig({position:null,local:!0,inside:!1}),hm(this,k,l,j)},b.prototype.highlight=function(){hd(this)},b.prototype.downplay=function(){he(this)},b.prototype.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},b.prototype.setLinePoints=function(a){var b=this.childOfName("line");wj(b.shape,a),b.dirty()},b.prototype.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.getTextContent();if(a||b||c&&!c.ignore){for(var d=1,e=this.parent;e;)e.scaleX&&(d/=e.scaleX),e=e.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var g=f.shape.percent,h=f.pointAt(0),i=f.pointAt(g),j=bl([],i,h);if(bo(j,j),a&&(a.setPosition(h),w(a,0),a.scaleX=a.scaleY=d*g,a.markRedraw()),b&&(b.setPosition(i),w(b,1),b.scaleX=b.scaleY=d*g,b.markRedraw()),c&&!c.ignore){c.x=c.y=0,c.originX=c.originY=0;var k=void 0,l=void 0,m=c.__labelDistance,n=m[0]*d,o=m[1]*d,p=g/2,q=f.tangentAt(p),r=[q[1],-q[0]],s=f.pointAt(p);r[1]>0&&(r[0]=-r[0],r[1]=-r[1]);var t=q[0]<0?-1:1;if("start"!==c.__position&&"end"!==c.__position){var u=-Math.atan2(q[1],q[0]);i[0]<h[0]&&(u=Math.PI+u),c.rotation=u}var v=void 0;switch(c.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":v=-o,l="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":v=o,l="top";break;default:v=0,l="middle"}switch(c.__position){case"end":c.x=j[0]*n+i[0],c.y=j[1]*o+i[1],k=j[0]>.8?"left":j[0]<-.8?"right":"center",l=j[1]>.8?"top":j[1]<-.8?"bottom":"middle";break;case"start":c.x=-j[0]*n+h[0],c.y=-j[1]*o+h[1],k=j[0]>.8?"right":j[0]<-.8?"left":"center",l=j[1]>.8?"bottom":j[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":c.x=n*t+h[0],c.y=h[1]+v,k=q[0]<0?"right":"left",c.originX=-n*t,c.originY=-v;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":c.x=s[0],c.y=s[1]+v,k="center",c.originY=-v;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":c.x=-n*t+i[0],c.y=i[1]+v,k=q[0]>=0?"right":"left",c.originX=n*t,c.originY=-v}c.scaleX=c.scaleY=d,c.setStyle({verticalAlign:c.__verticalAlign||l,align:c.__align||k})}}}function w(a,b){var c=a.__specifiedRotation;if(null==c){var d=f.tangentAt(b);a.attr("rotation",(1===b?-1:1)*Math.PI/2-Math.atan2(d[1],d[0]))}else a.attr("rotation",c)}},b}(em),wl=function(){function a(a){this.group=new em,this._LineCtor=a||wk}return a.prototype.updateData=function(a){var b=this;this._progressiveEls=null;var c=this.group,d=this._lineData;this._lineData=a,d||c.removeAll();var e=wm(a);a.diff(d).add(function(c){b._doAdd(a,c,e)}).update(function(c,f){b._doUpdate(d,a,f,c,e)}).remove(function(a){c.remove(d.getItemGraphicEl(a))}).execute()},a.prototype.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},a.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=wm(a),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(a,b){function c(a){var b;a.isGroup||(b=a).animators&&b.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var d=a.start;d<a.end;d++)if(wo(b.getItemLayout(d))){var e=new this._LineCtor(b,d,this._seriesScope);e.traverse(c),this.group.add(e),b.setItemGraphicEl(d,e),this._progressiveEls.push(e)}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(a){mp(this._progressiveEls||this.group,a)},a.prototype._doAdd=function(a,b,c){if(wo(a.getItemLayout(b))){var d=new this._LineCtor(a,b,c);a.setItemGraphicEl(b,d),this.group.add(d)}},a.prototype._doUpdate=function(a,b,c,d,e){var f=a.getItemGraphicEl(c);wo(b.getItemLayout(d))?(f?f.updateData(b,d,e):f=new this._LineCtor(b,d,e),b.setItemGraphicEl(d,f),this.group.add(f)):this.group.remove(f)},a}();function wm(a){var b=a.hostModel,c=b.getModel("emphasis");return{lineStyle:b.getModel("lineStyle").getLineStyle(),emphasisLineStyle:c.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:b.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:b.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:c.get("disabled"),blurScope:c.get("blurScope"),focus:c.get("focus"),labelStatesModels:hJ(b)}}function wn(a){return isNaN(a[0])||isNaN(a[1])}function wo(a){return a&&!wn(a[0])&&!wn(a[1])}var wp=[],wq=[],wr=[],ws=Math.abs;function wt(a,b,c){for(var d,e=a[0],f=a[1],g=a[2],h=1/0,i=c*c,j=.1,k=.1;k<=.9;k+=.1){wp[0]=cJ(e[0],f[0],g[0],k),wp[1]=cJ(e[1],f[1],g[1],k);var l=ws(bq(wp,b)-i);l<h&&(h=l,d=k)}for(var m=0;m<32;m++){var n=d+j;wq[0]=cJ(e[0],f[0],g[0],d),wq[1]=cJ(e[1],f[1],g[1],d),wr[0]=cJ(e[0],f[0],g[0],n),wr[1]=cJ(e[1],f[1],g[1],n);var l=bq(wq,b)-i;if(.01>ws(l))break;var o=bq(wr,b)-i;j/=2,l<0?o>=0?d+=j:d-=j:o>=0?d-=j:d+=j}return d}function wu(a,b){var c=[],d=[[],[],[]],e=[[],[]],f=[];b/=2,a.eachEdge(function(a,g){var h=a.getLayout(),i=a.getVisual("fromSymbol"),j=a.getVisual("toSymbol");!h.__original&&(h.__original=[bi(h[0]),bi(h[1])],h[2]&&h.__original.push(bi(h[2])));var k=h.__original;if(null!=h[2]){if(bh(d[0],k[0]),bh(d[1],k[2]),bh(d[2],k[1]),i&&"none"!==i){var l=v1(a.node1),m=wt(d,k[0],l*b);cM(d[0][0],d[1][0],d[2][0],m,c),d[0][0]=c[3],d[1][0]=c[4],cM(d[0][1],d[1][1],d[2][1],m,c),d[0][1]=c[3],d[1][1]=c[4]}if(j&&"none"!==j){var l=v1(a.node2),m=wt(d,k[1],l*b);cM(d[0][0],d[1][0],d[2][0],m,c),d[1][0]=c[1],d[2][0]=c[2],cM(d[0][1],d[1][1],d[2][1],m,c),d[1][1]=c[1],d[2][1]=c[2]}bh(h[0],d[0]),bh(h[1],d[2]),bh(h[2],d[1])}else{if(bh(e[0],k[0]),bh(e[1],k[1]),bl(f,e[1],e[0]),bo(f,f),i&&"none"!==i){var l=v1(a.node1);bk(e[0],e[0],f,l*b)}if(j&&"none"!==j){var l=v1(a.node2);bk(e[1],e[1],f,-l*b)}bh(h[0],e[0]),bh(h[1],e[1])}})}function wv(a){return"view"===a.type}var ww=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(a,b){var c=new pO,d=new wl,e=this.group;this._controller=new ti(b.getZr()),this._controllerHost={target:e},e.add(c.group),e.add(d.group),this._symbolDraw=c,this._lineDraw=d,this._firstRender=!0},b.prototype.render=function(a,b,c){var d=this,e=a.coordinateSystem;this._model=a;var f=this._symbolDraw,g=this._lineDraw,h=this.group;if(wv(e)){var i={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY};this._firstRender?h.attr(i):hy(h,i,a)}wu(a.getGraph(),v0(a));var j=a.getData();f.updateData(j);var k=a.getEdgeData();g.updateData(k),this._updateNodeAndLinkScale(),this._updateController(a,b,c),clearTimeout(this._layoutTimeout);var l=a.forceLayout,m=a.get(["force","layoutAnimation"]);l&&this._startForceLayoutIteration(l,m);var n=a.get("layout");j.graph.eachNode(function(b){var c=b.dataIndex,e=b.getGraphicEl(),f=b.getModel();if(e){e.off("drag").off("dragend");var g=f.get("draggable");g&&e.on("drag",function(f){switch(n){case"force":l.warmUp(),d._layouting||d._startForceLayoutIteration(l,m),l.setFixed(c),j.setItemLayout(c,[e.x,e.y]);break;case"circular":j.setItemLayout(c,[e.x,e.y]),b.setLayout({fixed:!0},!0),v4(a,"symbolSize",b,[f.offsetX,f.offsetY]),d.updateLayout(a);break;default:j.setItemLayout(c,[e.x,e.y]),v$(a.getGraph(),a),d.updateLayout(a)}}).on("dragend",function(){l&&l.setUnfixed(c)}),e.setDraggable(g,!!f.get("cursor")),"adjacency"===f.get(["emphasis","focus"])&&(gO(e).focus=b.getAdjacentDataIndices())}}),j.graph.eachEdge(function(a){var b=a.getGraphicEl(),c=a.getModel().get(["emphasis","focus"]);b&&"adjacency"===c&&(gO(b).focus={edge:[a.dataIndex],node:[a.node1.dataIndex,a.node2.dataIndex]})});var o="circular"===a.get("layout")&&a.get(["circular","rotateLabel"]),p=j.getLayout("cx"),q=j.getLayout("cy");j.graph.eachNode(function(a){v6(a,o,p,q)}),this._firstRender=!1},b.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},b.prototype._startForceLayoutIteration=function(a,b){var c=this;!function d(){a.step(function(a){c.updateLayout(c._model),(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(d,16):d())})}()},b.prototype._updateController=function(a,b,c){var d=this,e=this._controller,f=this._controllerHost,g=this.group;(e.setPointerChecker(function(b,d,e){var f=g.getBoundingRect();return f.applyTransform(g.transform),f.contain(d,e)&&!tp(b,c,a)}),wv(a.coordinateSystem))?(e.enable(a.get("roam")),f.zoomLimit=a.get("scaleLimit"),f.zoom=a.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",function(b){tm(f,b.dx,b.dy),c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b.dx,dy:b.dy})}).on("zoom",function(b){tn(f,b.scale,b.originX,b.originY),c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b.scale,originX:b.originX,originY:b.originY}),d._updateNodeAndLinkScale(),wu(a.getGraph(),v0(a)),d._lineDraw.updateLayout(),c.updateLabelLayout()})):e.disable()},b.prototype._updateNodeAndLinkScale=function(){var a=this._model,b=a.getData(),c=v0(a);b.eachItemGraphicEl(function(a,b){a&&a.setSymbolScale(c)})},b.prototype.updateLayout=function(a){wu(a.getGraph(),v0(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},b.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},b.type="graph",b}(ms);function wy(a){return"_EC_"+a}var wz=function(){function a(a){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=a||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(a,b){a=null==a?""+b:""+a;var c=this._nodesMap;if(!c[wy(a)]){var d=new wA(a,b);return d.hostGraph=this,this.nodes.push(d),c[wy(a)]=d,d}},a.prototype.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},a.prototype.getNodeById=function(a){return this._nodesMap[wy(a)]},a.prototype.addEdge=function(a,b,c){var d=this._nodesMap,e=this._edgesMap;if(aS(a)&&(a=this.nodes[a]),aS(b)&&(b=this.nodes[b]),a instanceof wA||(a=d[wy(a)]),b instanceof wA||(b=d[wy(b)]),a&&b){var f=a.id+"-"+b.id,g=new wB(a,b,c);return g.hostGraph=this,this._directed&&(a.outEdges.push(g),b.inEdges.push(g)),a.edges.push(g),a!==b&&b.edges.push(g),this.edges.push(g),e[f]=g,g}},a.prototype.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},a.prototype.getEdge=function(a,b){a instanceof wA&&(a=a.id),b instanceof wA&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},a.prototype.eachNode=function(a,b){for(var c=this.nodes,d=c.length,e=0;e<d;e++)c[e].dataIndex>=0&&a.call(b,c[e],e)},a.prototype.eachEdge=function(a,b){for(var c=this.edges,d=c.length,e=0;e<d;e++)c[e].dataIndex>=0&&c[e].node1.dataIndex>=0&&c[e].node2.dataIndex>=0&&a.call(b,c[e],e)},a.prototype.breadthFirstTraverse=function(a,b,c,d){if(b instanceof wA||(b=this._nodesMap[wy(b)]),b){for(var e="out"===c?"outEdges":"in"===c?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!a.call(d,b,null))for(var g=[b];g.length;)for(var h=g.shift(),i=h[e],f=0;f<i.length;f++){var j=i[f],k=j.node1===h?j.node2:j.node1;if(!k.__visited){if(a.call(d,k,h))return;g.push(k),k.__visited=!0}}}},a.prototype.update=function(){for(var a=this.data,b=this.edgeData,c=this.nodes,d=this.edges,e=0,f=c.length;e<f;e++)c[e].dataIndex=-1;for(var e=0,f=a.count();e<f;e++)c[a.getRawIndex(e)].dataIndex=e;b.filterSelf(function(a){var c=d[b.getRawIndex(a)];return c.node1.dataIndex>=0&&c.node2.dataIndex>=0});for(var e=0,f=d.length;e<f;e++)d[e].dataIndex=-1;for(var e=0,f=b.count();e<f;e++)d[b.getRawIndex(e)].dataIndex=e},a.prototype.clone=function(){for(var b=new a(this._directed),c=this.nodes,d=this.edges,e=0;e<c.length;e++)b.addNode(c[e].id,c[e].dataIndex);for(var e=0;e<d.length;e++){var f=d[e];b.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return b},a}(),wA=function(){function a(a,b){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==a?"":a,this.dataIndex=null==b?-1:b}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)},a.prototype.getAdjacentDataIndices=function(){for(var a={edge:[],node:[]},b=0;b<this.edges.length;b++){var c=this.edges[b];c.dataIndex<0||(a.edge.push(c.dataIndex),a.node.push(c.node1.dataIndex,c.node2.dataIndex))}return a},a.prototype.getTrajectoryDataIndices=function(){for(var a=a7(),b=a7(),c=0;c<this.edges.length;c++){var d=this.edges[c];if(!(d.dataIndex<0)){a.set(d.dataIndex,!0);for(var e=[d.node1],f=[d.node2],g=0;g<e.length;){var h=e[g];g++,b.set(h.dataIndex,!0);for(var i=0;i<h.inEdges.length;i++)a.set(h.inEdges[i].dataIndex,!0),e.push(h.inEdges[i].node1)}for(g=0;g<f.length;){var j=f[g];g++,b.set(j.dataIndex,!0);for(var i=0;i<j.outEdges.length;i++)a.set(j.outEdges[i].dataIndex,!0),f.push(j.outEdges[i].node2)}}}return{edge:a.keys(),node:b.keys()}},a}(),wB=function(){function a(a,b,c){this.dataIndex=-1,this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}return a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a.prototype.getTrajectoryDataIndices=function(){var a=a7(),b=a7();a.set(this.dataIndex,!0);for(var c=[this.node1],d=[this.node2],e=0;e<c.length;){var f=c[e];e++,b.set(f.dataIndex,!0);for(var g=0;g<f.inEdges.length;g++)a.set(f.inEdges[g].dataIndex,!0),c.push(f.inEdges[g].node1)}for(e=0;e<d.length;){var h=d[e];e++,b.set(h.dataIndex,!0);for(var g=0;g<h.outEdges.length;g++)a.set(h.outEdges[g].dataIndex,!0),d.push(h.outEdges[g].node2)}return{edge:a.keys(),node:b.keys()}},a}();function wC(a,b){return{getValue:function(c){var d=this[a][b];return d.getStore().get(d.getDimensionIndex(c||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c){return this[a][b].getItemVisual(this.dataIndex,c)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}}function wD(a,b,c,d,e){for(var f,g=new wz(d),h=0;h<a.length;h++)g.addNode(aY(a[h].id,a[h].name,h),h);for(var i=[],j=[],k=0,h=0;h<b.length;h++){var l=b[h],m=l.source,n=l.target;g.addEdge(m,n,k)&&(j.push(l),i.push(aY(eW(l.id,null),m+" > "+n)),k++)}var o=c.get("coordinateSystem");if("cartesian2d"===o||"polar"===o)f=pF(a,c);else{var p=js.get(o),q=p&&p.dimensions||[];0>aE(q,"value")&&q.concat(["value"]),(f=new py(pz(a,{coordDimensions:q,encodeDefine:c.getEncode()}).dimensions,c)).initData(a)}var r=new py(["value"],c);return r.initData(j,i),e&&e(f,r),u2({mainData:f,struct:g,structAttr:"graph",datas:{node:f,edge:r},datasAttr:{node:"data",edge:"edgeData"}}),g.update(),g}aF(wA,wC("hostGraph","data")),aF(wB,wC("hostGraph","edgeData"));var wE=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return af(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments);var c=this;function d(){return c._categoriesData}this.legendVisualProvider=new ro(d,d),this.fillDataTextStyle(b.edges||b.links),this._updateCategoriesData()},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(b.edges||b.links),this._updateCategoriesData()},b.prototype.mergeDefaultAndTheme=function(b){a.prototype.mergeDefaultAndTheme.apply(this,arguments),eQ(b,"edgeLabel",["show"])},b.prototype.getInitialData=function(a,b){var c=a.edges||a.links||[],d=a.data||a.nodes||[],e=this;vS(this)&&(this.__curvenessList=[],this.__edgeMap={},vT(this));var f=wD(d,c,this,!0,function(a,b){a.wrapMethod("getItemModel",function(a){var b=e._categoriesModels[a.getShallow("category")];return b&&(b.parentModel=a.parentModel,a.parentModel=b),a});var c=h2.prototype.getModel;function d(a,b){var d=c.call(this,a,b);return d.resolveParentPath=f,d}function f(a){if(a&&("label"===a[0]||"label"===a[1])){var b=a.slice();return"label"===a[0]?b[0]="edgeLabel":"label"===a[1]&&(b[1]="edgeLabel"),b}return a}b.wrapMethod("getItemModel",function(a){return a.resolveParentPath=f,a.getModel=d,a})});return aH(f.edges,function(a){!function(a,b,c,d){if(vS(c)){var e=vU(a,b,c),f=c.__edgeMap,g=f[vV(e)];f[e]&&!g?f[e].isForward=!0:g&&f[e]&&(g.isForward=!0,f[e].isForward=!1),f[e]=f[e]||[],f[e].push(d)}}(a.node1,a.node2,this,a.dataIndex)},this),f.data},b.prototype.getGraph=function(){return this.getData().graph},b.prototype.getEdgeData=function(){return this.getGraph().edgeData},b.prototype.getCategoriesData=function(){return this._categoriesData},b.prototype.formatTooltip=function(a,b,c){if("edge"===c){var d=this.getData(),e=this.getDataParams(a,c),f=d.graph.getEdgeByIndex(a),g=d.getName(f.node1.dataIndex),h=d.getName(f.node2.dataIndex),i=[];return null!=g&&i.push(g),null!=h&&i.push(h),kD("nameValue",{name:i.join(" > "),value:e.value,noValue:null==e.value})}return kN({series:this,dataIndex:a,multipleSeries:b})},b.prototype._updateCategoriesData=function(){var a=aI(this.option.categories||[],function(a){return null!=a.value?a:aC({value:0},a)}),b=new py(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a)})},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},b.type="series.graph",b.dependencies=["grid","polar","geo","singleAxis","calendar"],b.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},b}(kR),wF={type:"graphRoam",event:"graphRoam",update:"none"},wG=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},wH=function(a){function b(b){var c=a.call(this,b)||this;return c.type="pointer",c}return af(b,a),b.prototype.getDefaultShape=function(){return new wG},b.prototype.buildPath=function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),i=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2,a.moveTo(h,i),a.lineTo(b.x+c(g)*f,b.y+d(g)*f),a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e),a.lineTo(b.x-c(g)*f,b.y-d(g)*f),a.lineTo(h,i)},b}(gm);function wI(a,b){var c=null==a?"":a+"";return b&&(aQ(b)?c=b.replace("{value}",c):aP(b)&&(c=b(a))),c}var wJ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){this.group.removeAll();var d,e,f=a.get(["axisLine","lineStyle","color"]),g=(d=a.get("center"),e=Math.min(c.getWidth(),c.getHeight()),{cx:es(d[0],c.getWidth()),cy:es(d[1],c.getHeight()),r:es(a.get("radius"),e/2)});this._renderMain(a,b,c,f,g),this._data=a.getData()},b.prototype.dispose=function(){},b.prototype._renderMain=function(a,b,c,d,e){var f=this.group,g=a.get("clockwise"),h=-a.get("startAngle")/180*Math.PI,i=-a.get("endAngle")/180*Math.PI,j=a.getModel("axisLine"),k=j.get("roundCap")?qu:ly,l=j.get("show"),m=j.getModel("lineStyle"),n=m.get("width"),o=[h,i];f6(o,!g),h=o[0];for(var p=(i=o[1])-h,q=h,r=[],s=0;l&&s<d.length;s++){var t=new k({shape:{startAngle:q,endAngle:i=h+p*Math.min(Math.max(d[s][0],0),1),cx:e.cx,cy:e.cy,clockwise:g,r0:e.r-n,r:e.r},silent:!0});t.setStyle({fill:d[s][1]}),t.setStyle(m.getLineStyle(["color","width"])),r.push(t),q=i}r.reverse(),aH(r,function(a){return f.add(a)});var u=function(a){var b;if(a<=0)return d[0][1];for(b=0;b<d.length;b++)if(d[b][0]>=a&&(0===b?0:d[b-1][0])<a)return d[b][1];return d[b-1][1]};this._renderTicks(a,b,c,u,e,h,i,g,n),this._renderTitleAndDetail(a,b,c,u,e),this._renderAnchor(a,e),this._renderPointer(a,b,c,u,e,h,i,g,n)},b.prototype._renderTicks=function(a,b,c,d,e,f,g,h,i){for(var j,k,l=this.group,m=e.cx,n=e.cy,o=e.r,p=+a.get("min"),q=+a.get("max"),r=a.getModel("splitLine"),s=a.getModel("axisTick"),t=a.getModel("axisLabel"),u=a.get("splitNumber"),v=s.get("splitNumber"),w=es(r.get("length"),o),x=es(s.get("length"),o),y=f,z=(g-f)/u,A=z/v,B=r.getModel("lineStyle").getLineStyle(),C=s.getModel("lineStyle").getLineStyle(),D=r.get("distance"),E=0;E<=u;E++){if(j=Math.cos(y),k=Math.sin(y),r.get("show")){var F=D?D+i:i,G=new lI({shape:{x1:j*(o-F)+m,y1:k*(o-F)+n,x2:j*(o-w-F)+m,y2:k*(o-w-F)+n},style:B,silent:!0});"auto"===B.stroke&&G.setStyle({stroke:d(E/u)}),l.add(G)}if(t.get("show")){var F=t.get("distance")+D,H=wI(et(E/u*(q-p)+p),t.get("formatter")),I=d(E/u),J=j*(o-w-F)+m,K=k*(o-w-F)+n,L=t.get("rotate"),M=0;"radial"===L?(M=-y+2*Math.PI)>Math.PI/2&&(M+=Math.PI):"tangential"===L?M=-y-Math.PI/2:aS(L)&&(M=L*Math.PI/180),0===M?l.add(new gB({style:hK(t,{text:H,x:J,y:K,verticalAlign:k<-.8?"top":k>.8?"bottom":"middle",align:j<-.4?"left":j>.4?"right":"center"},{inheritColor:I}),silent:!0})):l.add(new gB({style:hK(t,{text:H,x:J,y:K,verticalAlign:"middle",align:"center"},{inheritColor:I}),silent:!0,originX:J,originY:K,rotation:M}))}if(s.get("show")&&E!==u){var F=s.get("distance");F=F?F+i:i;for(var N=0;N<=v;N++){var O=new lI({shape:{x1:(j=Math.cos(y))*(o-F)+m,y1:(k=Math.sin(y))*(o-F)+n,x2:j*(o-x-F)+m,y2:k*(o-x-F)+n},silent:!0,style:C});"auto"===C.stroke&&O.setStyle({stroke:d((E+N/v)/u)}),l.add(O),y+=A}y-=A}else y+=z}},b.prototype._renderPointer=function(a,b,c,d,e,f,g,h,i){var j=this.group,k=this._data,l=this._progressEls,m=[],n=a.get(["pointer","show"]),o=a.getModel("progress"),p=o.get("show"),q=a.getData(),r=q.mapDimension("value"),s=+a.get("min"),t=+a.get("max"),u=[s,t],v=[f,g];function w(b,c){var d,f=q.getItemModel(b).getModel("pointer"),g=es(f.get("width"),e.r),h=es(f.get("length"),e.r),i=a.get(["pointer","icon"]),j=f.get("offsetCenter"),k=es(j[0],e.r),l=es(j[1],e.r),m=f.get("keepAspect");return(d=i?nm(i,k-g/2,l-h,g,h,null,m):new wH({shape:{angle:-Math.PI/2,width:g,r:h,x:k,y:l}})).rotation=-(c+Math.PI/2),d.x=e.cx,d.y=e.cy,d}function x(a,b){var c=o.get("roundCap")?qu:ly,d=o.get("overlap"),g=d?o.get("width"):i/q.count(),j=d?e.r-g:e.r-(a+1)*g,k=d?e.r:e.r-a*g,l=new c({shape:{startAngle:f,endAngle:b,cx:e.cx,cy:e.cy,clockwise:h,r0:j,r:k}});return d&&(l.z2=t-q.get(r,a)%t),l}(p||n)&&(q.diff(k).add(function(b){var c=q.get(r,b);if(n){var d=w(b,f);hz(d,{rotation:-((isNaN(+c)?v[0]:er(c,u,v,!0))+Math.PI/2)},a),j.add(d),q.setItemGraphicEl(b,d)}if(p){var e=x(b,f);hz(e,{shape:{endAngle:er(c,u,v,o.get("clip"))}},a),j.add(e),gP(a.seriesIndex,q.dataType,b,e),m[b]=e}}).update(function(b,c){var d=q.get(r,b);if(n){var e=k.getItemGraphicEl(c),g=e?e.rotation:f,h=w(b,g);h.rotation=g,hy(h,{rotation:-((isNaN(+d)?v[0]:er(d,u,v,!0))+Math.PI/2)},a),j.add(h),q.setItemGraphicEl(b,h)}if(p){var i=l[c],s=x(b,i?i.shape.endAngle:f);hy(s,{shape:{endAngle:er(d,u,v,o.get("clip"))}},a),j.add(s),gP(a.seriesIndex,q.dataType,b,s),m[b]=s}}).execute(),q.each(function(a){var b=q.getItemModel(a),c=b.getModel("emphasis"),e=c.get("focus"),f=c.get("blurScope"),g=c.get("disabled");if(n){var h=q.getItemGraphicEl(a),i=q.getItemVisual(a,"style"),j=i.fill;if(h instanceof gr){var k=h.style;h.useStyle(aC({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},i))}else h.useStyle(i),"pointer"!==h.type&&h.setColor(j);h.setStyle(b.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===h.style.fill&&h.setStyle("fill",d(er(q.get(r,a),u,[0,1],!0))),h.z2EmphasisLift=0,hq(h,b),hm(h,e,f,g)}if(p){var l=m[a];l.useStyle(q.getItemVisual(a,"style")),l.setStyle(b.getModel(["progress","itemStyle"]).getItemStyle()),l.z2EmphasisLift=0,hq(l,b),hm(l,e,f,g)}}),this._progressEls=m)},b.prototype._renderAnchor=function(a,b){var c=a.getModel("anchor");if(c.get("show")){var d=c.get("size"),e=c.get("icon"),f=c.get("offsetCenter"),g=c.get("keepAspect"),h=nm(e,b.cx-d/2+es(f[0],b.r),b.cy-d/2+es(f[1],b.r),d,d,null,g);h.z2=+!!c.get("showAbove"),h.setStyle(c.getModel("itemStyle").getItemStyle()),this.group.add(h)}},b.prototype._renderTitleAndDetail=function(a,b,c,d,e){var f=this,g=a.getData(),h=g.mapDimension("value"),i=+a.get("min"),j=+a.get("max"),k=new em,l=[],m=[],n=a.isAnimationEnabled(),o=a.get(["pointer","showAbove"]);g.diff(this._data).add(function(a){l[a]=new gB({silent:!0}),m[a]=new gB({silent:!0})}).update(function(a,b){l[a]=f._titleEls[b],m[a]=f._detailEls[b]}).execute(),g.each(function(b){var c=g.getItemModel(b),f=g.get(h,b),p=new em,q=d(er(f,[i,j],[0,1],!0)),r=c.getModel("title");if(r.get("show")){var s=r.get("offsetCenter"),t=e.cx+es(s[0],e.r),u=e.cy+es(s[1],e.r),v=l[b];v.attr({z2:2*!o,style:hK(r,{x:t,y:u,text:g.getName(b),align:"center",verticalAlign:"middle"},{inheritColor:q})}),p.add(v)}var w=c.getModel("detail");if(w.get("show")){var x=w.get("offsetCenter"),y=e.cx+es(x[0],e.r),z=e.cy+es(x[1],e.r),A=es(w.get("width"),e.r),B=es(w.get("height"),e.r),C=a.get(["progress","show"])?g.getItemVisual(b,"style").fill:q,v=m[b],D=w.get("formatter");v.attr({z2:2*!o,style:hK(w,{x:y,y:z,text:wI(f,D),width:isNaN(A)?null:A,height:isNaN(B)?null:B,align:"center",verticalAlign:"middle"},{inheritColor:C})}),hS(v,{normal:w},f,function(a){return wI(a,D)}),n&&hT(v,b,g,a,{getFormattedLabel:function(a,b,c,d,e,g){return wI(g?g.interpolatedValue:f,D)}}),p.add(v)}k.add(p)}),this.group.add(k),this._titleEls=l,this._detailEls=m},b.type="gauge",b}(ms),wK=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.visualStyleAccessPath="itemStyle",c}return af(b,a),b.prototype.getInitialData=function(a,b){return rn(this,["value"])},b.type="series.gauge",b.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},b}(kR),wL=["itemStyle","opacity"],wM=function(a){function b(b,c){var d=a.call(this)||this,e=new lF,f=new gB;return d.setTextContent(f),d.setTextGuideLine(e),d.updateData(b,c,!0),d}return af(b,a),b.prototype.updateData=function(a,b,c){var d=a.hostModel,e=a.getItemModel(b),f=a.getItemLayout(b),g=e.getModel("emphasis"),h=e.get(wL);h=null==h?1:h,c||hE(this),this.useStyle(a.getItemVisual(b,"style")),this.style.lineJoin="round",c?(this.setShape({points:f.points}),this.style.opacity=0,hz(this,{style:{opacity:h}},d,b)):hy(this,{style:{opacity:h},shape:{points:f.points}},d,b),hq(this,e),this._updateLabel(a,b),hm(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},b.prototype._updateLabel=function(a,b){var c=this.getTextGuideLine(),d=this.getTextContent(),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label,h=a.getItemVisual(b,"style"),i=h.fill;hI(d,hJ(f),{labelFetcher:a.hostModel,labelDataIndex:b,defaultOpacity:h.opacity,defaultText:a.getName(b)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),this.setTextConfig({local:!0,inside:!!g.inside,insideStroke:i,outsideFill:i});var j=g.linePoints;c.setShape({points:j}),this.textGuideLineConfig={anchor:j?new b1(j[0][0],j[0][1]):null},hy(d,{style:{x:g.x,y:g.y}},e,b),d.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),rb(this,rc(f),{stroke:i})},b}(lD),wN=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.ignoreLabelLineUpdate=!0,c}return af(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this._data,f=this.group;d.diff(e).add(function(a){var b=new wM(d,a);d.setItemGraphicEl(a,b),f.add(b)}).update(function(a,b){var c=e.getItemGraphicEl(b);c.updateData(d,a),f.add(c),d.setItemGraphicEl(a,c)}).remove(function(b){hD(e.getItemGraphicEl(b),a,b)}).execute(),this._data=d},b.prototype.remove=function(){this.group.removeAll(),this._data=null},b.prototype.dispose=function(){},b.type="funnel",b}(ms),wO=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new ro(aM(this.getData,this),aM(this.getRawData,this)),this._defaultLabelLine(b)},b.prototype.getInitialData=function(a,b){return rn(this,{coordDimensions:["value"],encodeDefaulter:aN(i8,this)})},b.prototype._defaultLabelLine=function(a){eQ(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},b.prototype.getDataParams=function(b){var c=this.getData(),d=a.prototype.getDataParams.call(this,b),e=c.mapDimension("value"),f=c.getSum(e);return d.percent=f?+(c.get(e,b)/f*100).toFixed(2):0,d.$vars.push("percent"),d},b.type="series.funnel",b.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},b}(kR);function wP(a,b){a.eachSeriesByType("funnel",function(a){var c,d=a.getData(),e=d.mapDimension("value"),f=a.get("sort"),g=iN(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),h=a.get("orient"),i=g.width,j=g.height,k=function(a,b){for(var c=a.mapDimension("value"),d=a.mapArray(c,function(a){return a}),e=[],f="ascending"===b,g=0,h=a.count();g<h;g++)e[g]=g;return aP(b)?e.sort(b):"none"!==b&&e.sort(function(a,b){return f?d[a]-d[b]:d[b]-d[a]}),e}(d,f),l=g.x,m=g.y,n="horizontal"===h?[es(a.get("minSize"),j),es(a.get("maxSize"),j)]:[es(a.get("minSize"),i),es(a.get("maxSize"),i)],o=d.getDataExtent(e),p=a.get("min"),q=a.get("max");null==p&&(p=Math.min(o[0],0)),null==q&&(q=o[1]);var r=a.get("funnelAlign"),s=a.get("gap"),t=(("horizontal"===h?i:j)-s*(d.count()-1))/d.count(),u=function(a,b){if("horizontal"===h){var c,f=er(d.get(e,a)||0,[p,q],n,!0),g=void 0;switch(r){case"top":g=m;break;case"center":g=m+(j-f)/2;break;case"bottom":g=m+(j-f)}return[[b,g],[b,g+f]]}var k=er(d.get(e,a)||0,[p,q],n,!0);switch(r){case"left":c=l;break;case"center":c=l+(i-k)/2;break;case"right":c=l+i-k}return[[c,b],[c+k,b]]};"ascending"===f&&(t=-t,s=-s,"horizontal"===h?l+=i:m+=j,k=k.reverse());for(var v=0;v<k.length;v++){var w=k[v],x=k[v+1],y=d.getItemModel(w);if("horizontal"===h){var z=y.get(["itemStyle","width"]);null==z?z=t:(z=es(z,i),"ascending"===f&&(z=-z));var A=u(w,l),B=u(x,l+z);l+=z+s,d.setItemLayout(w,{points:A.concat(B.slice().reverse())})}else{var C=y.get(["itemStyle","height"]);null==C?C=t:(C=es(C,j),"ascending"===f&&(C=-C));var A=u(w,m),B=u(x,m+C);m+=C+s,d.setItemLayout(w,{points:A.concat(B.slice().reverse())})}}c=d.hostModel.get("orient"),d.each(function(a){var b,e,f,g,h=d.getItemModel(a),i=h.getModel("label").get("position"),j=h.getModel("labelLine"),k=d.getItemLayout(a),l=k.points,m="inner"===i||"inside"===i||"center"===i||"insideLeft"===i||"insideRight"===i;if(m)"insideLeft"===i?(e=(l[0][0]+l[3][0])/2+5,f=(l[0][1]+l[3][1])/2,b="left"):"insideRight"===i?(e=(l[1][0]+l[2][0])/2-5,f=(l[1][1]+l[2][1])/2,b="right"):(e=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,f=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4,b="center"),g=[[e,f],[e,f]];else{var n=void 0,o=void 0,p=void 0,q=void 0,r=j.get("length");"left"===i?(n=(l[3][0]+l[0][0])/2,o=(l[3][1]+l[0][1])/2,e=(p=n-r)-5,b="right"):"right"===i?(n=(l[1][0]+l[2][0])/2,o=(l[1][1]+l[2][1])/2,e=(p=n+r)+5,b="left"):"top"===i?(n=(l[3][0]+l[0][0])/2,f=(q=(o=(l[3][1]+l[0][1])/2)-r)-5,b="center"):"bottom"===i?(n=(l[1][0]+l[2][0])/2,f=(q=(o=(l[1][1]+l[2][1])/2)+r)+5,b="center"):"rightTop"===i?(n="horizontal"===c?l[3][0]:l[1][0],o="horizontal"===c?l[3][1]:l[1][1],"horizontal"===c?(f=(q=o-r)-5,b="center"):(e=(p=n+r)+5,b="top")):"rightBottom"===i?(n=l[2][0],o=l[2][1],"horizontal"===c?(f=(q=o+r)+5,b="center"):(e=(p=n+r)+5,b="bottom")):"leftTop"===i?(n=l[0][0],o="horizontal"===c?l[0][1]:l[1][1],"horizontal"===c?(f=(q=o-r)-5,b="center"):(e=(p=n-r)-5,b="right")):"leftBottom"===i?(n="horizontal"===c?l[1][0]:l[3][0],o="horizontal"===c?l[1][1]:l[2][1],"horizontal"===c?(f=(q=o+r)+5,b="center"):(e=(p=n-r)-5,b="right")):(n=(l[1][0]+l[2][0])/2,o=(l[1][1]+l[2][1])/2,"horizontal"===c?(f=(q=o+r)+5,b="center"):(e=(p=n+r)+5,b="left")),"horizontal"===c?e=p=n:f=q=o,g=[[n,o],[p,q]]}k.label={linePoints:g,x:e,y:f,verticalAlign:"middle",textAlign:b,inside:m}})})}var wQ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._dataGroup=new em,c._initialized=!1,c}return af(b,a),b.prototype.init=function(){this.group.add(this._dataGroup)},b.prototype.render=function(a,b,c,d){this._progressiveEls=null;var e=this._dataGroup,f=a.getData(),g=this._data,h=a.coordinateSystem,i=h.dimensions,j=wT(a);if(f.diff(g).add(function(a){wU(wS(f,e,a,i,h),f,a,j)}).update(function(b,c){var d=g.getItemGraphicEl(c),e=wR(f,b,i,h);f.setItemGraphicEl(b,d),hy(d,{shape:{points:e}},a,b),hE(d),wU(d,f,b,j)}).remove(function(a){var b=g.getItemGraphicEl(a);e.remove(b)}).execute(),!this._initialized){this._initialized=!0;var k,l,m,n,o,p,q,r=(k=h,l=a,m=function(){setTimeout(function(){e.removeClipPath()})},n=k.model,p=new gy({shape:{x:(o=k.getRect()).x,y:o.y,width:o.width,height:o.height}}),q="horizontal"===n.get("layout")?"width":"height",p.setShape(q,0),hz(p,{shape:{width:o.width,height:o.height}},l,m),p);e.setClipPath(r)}this._data=f},b.prototype.incrementalPrepareRender=function(a,b,c){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},b.prototype.incrementalRender=function(a,b,c){for(var d=b.getData(),e=b.coordinateSystem,f=e.dimensions,g=wT(b),h=this._progressiveEls=[],i=a.start;i<a.end;i++){var j=wS(d,this._dataGroup,i,f,e);j.incremental=!0,wU(j,d,i,g),h.push(j)}},b.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},b.type="parallel",b}(ms);function wR(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var g,h=c[f],i=a.get(a.mapDimension(h),b);g=i,("category"===d.getAxis(h).type?null==g:null==g||isNaN(g))||e.push(d.dataToPoint(i,h))}return e}function wS(a,b,c,d,e){var f=new lF({shape:{points:wR(a,c,d,e)},z2:10});return b.add(f),a.setItemGraphicEl(c,f),f}function wT(a){var b,c=a.get("smooth",!0);return!0===c&&(c=.3),(b=c=eJ(c))!=b&&(c=0),{smooth:c}}function wU(a,b,c,d){a.useStyle(b.getItemVisual(c,"style")),a.style.fill=null,a.setShape("smooth",d.smooth);var e=b.getItemModel(c),f=e.getModel("emphasis");hq(a,e,"lineStyle"),hm(a,f.get("focus"),f.get("blurScope"),f.get("disabled"))}var wV=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.visualStyleAccessPath="lineStyle",c.visualDrawType="stroke",c}return af(b,a),b.prototype.getInitialData=function(a,b){return pF(null,this,{useEncodeDefaulter:aM(wW,null,this)})},b.prototype.getRawIndicesByActiveState=function(a){var b=this.coordinateSystem,c=this.getData(),d=[];return b.eachActiveState(c,function(b,e){a===b&&d.push(c.getRawIndex(e))}),d},b.type="series.parallel",b.dependencies=["parallel"],b.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},b}(kR);function wW(a){var b=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(b){var c={};return aH(b.dimensions,function(a){var b=+a.replace("dim","");c[a]=b}),c}}var wX=["lineStyle","opacity"];let wY={seriesType:"parallel",reset:function(a,b){var c=a.coordinateSystem,d={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(a,b){c.eachActiveState(b,function(a,c){var e=d[a];if("normal"===a&&b.hasItemOption){var f=b.getItemModel(c).get(wX,!0);null!=f&&(e=f)}b.ensureUniqueItemVisual(c,"style").opacity=e},a.start,a.end)}}}};function wZ(a){var b;(function(a){if(!a.parallel){var b=!1;aH(a.series,function(a){a&&"parallel"===a.type&&(b=!0)}),b&&(a.parallel=[{}])}})(a),aH(eP((b=a).parallelAxis),function(a){if(aT(a)){var c=a.parallelIndex||0,d=eP(b.parallel)[c];d&&d.parallelAxisDefault&&aA(a,d.parallelAxisDefault,!1)}})}var w$=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){this._model=a,this._api=c,this._handlers||(this._handlers={},aH(w_,function(a,b){c.getZr().on(b,this._handlers[b]=aM(a,this))},this)),mC(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},b.prototype.dispose=function(a,b){mD(this,"_throttledDispatchExpand"),aH(this._handlers,function(a,c){b.getZr().off(c,a)}),this._handlers=null},b.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},b.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(aC({type:"parallelAxisExpand"},a))},b.type="parallel",b}(kZ),w_={mousedown:function(a){w0(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(w0(this,"click")&&b){var c=[a.offsetX,a.offsetY];if(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2)>5)return;var d=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==d.behavior&&this._dispatchExpand({axisExpandWindow:d.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&w0(this,"mousemove")){var b=this._model,c=b.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),d=c.behavior;"jump"===d&&this._throttledDispatchExpand.debounceNextCall(b.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===d?null:{axisExpandWindow:c.axisExpandWindow,animation:"jump"===d?null:{duration:0}})}}};function w0(a,b){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===b}var w1=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},b.prototype.mergeOption=function(a){var b=this.option;a&&aA(b,a,!0),this._initDimensions()},b.prototype.contains=function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},b.prototype.setAxisExpand=function(a){aH(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},b.prototype._initDimensions=function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[];aH(aK(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(c){a.push("dim"+c.get("dim")),b.push(c.componentIndex)})},b.type="parallel",b.dependencies=["parallelAxis"],b.layoutMode="box",b.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},b}(iU),w2=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.type=e||"value",g.axisIndex=f,g}return af(b,a),b.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},b}(st);function w3(a,b,c,d,e,f){a=a||0;var g,h=c[1]-c[0];if(null!=e&&(e=w5(e,[0,h])),null!=f&&(f=Math.max(f,null!=e?e:0)),"all"===d){var i=Math.abs(b[1]-b[0]);i=w5(i,[0,h]),e=f=w5(i,[e,f]),d=0}b[0]=w5(b[0],c),b[1]=w5(b[1],c);var j=w4(b,d);b[d]+=a;var k=e||0,l=c.slice();return j.sign<0?l[0]+=k:l[1]-=k,b[d]=w5(b[d],l),g=w4(b,d),null!=e&&(g.sign!==j.sign||g.span<e)&&(b[1-d]=b[d]+j.sign*e),g=w4(b,d),null!=f&&g.span>f&&(b[1-d]=b[d]+g.sign*f),b}function w4(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:c>0?-1:c<0?1:b?-1:1}}function w5(a,b){return Math.min(null!=b[1]?b[1]:1/0,Math.max(null!=b[0]?b[0]:-1/0,a))}var w6=Math.min,w7=Math.max,w8=Math.floor,w9=Math.ceil,xa=Math.PI,xb=function(){function a(a,b,c){this.type="parallel",this._axesMap=a7(),this._axesLayout={},this.dimensions=a.dimensions,this._model=a,this._init(a,b,c)}return a.prototype._init=function(a,b,c){var d=a.dimensions,e=a.parallelAxisIndex;aH(d,function(a,c){var d=e[c],f=b.getComponent("parallelAxis",d),g=this._axesMap.set(a,new w2(a,sb(f),[0,0],f.get("type"),d)),h="category"===g.type;g.onBand=h&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.coordinateSystem=f.coordinateSystem=this},this)},a.prototype.update=function(a,b){this._updateAxesFromSeries(this._model,a)},a.prototype.containPoint=function(a){var b=this._makeLayoutInfo(),c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,f=a[1-e],g=a[e];return f>=c&&f<=c+b.axisLength&&g>=d&&g<=d+b.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();aH(this.dimensions,function(a){var b=this._axesMap.get(a);b.scale.unionExtentFromData(d,d.mapDimension(a)),sa(b.scale,b.model)},this)}},this)},a.prototype.resize=function(a,b){this._rect=iN(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var a,b=this._model,c=this._rect,d=["x","y"],e=["width","height"],f=b.get("layout"),g=+("horizontal"!==f),h=c[e[g]],i=[0,h],j=this.dimensions.length,k=xc(b.get("axisExpandWidth"),i),l=xc(b.get("axisExpandCount")||0,[0,j]),m=b.get("axisExpandable")&&j>3&&j>l&&l>1&&k>0&&h>0,n=b.get("axisExpandWindow");n?(a=xc(n[1]-n[0],i),n[1]=n[0]+a):(a=xc(k*(l-1),i),(n=[k*(b.get("axisExpandCenter")||w8(j/2))-a/2])[1]=n[0]+a);var o=(h-a)/(j-l);o<3&&(o=0);var p=[w8(et(n[0]/k,1))+1,w9(et(n[1]/k,1))-1],q=o/k*n[0];return{layout:f,pixelDimIndex:g,layoutBase:c[d[g]],layoutLength:h,axisBase:c[d[1-g]],axisLength:c[e[1-g]],axisExpandable:m,axisExpandWidth:k,axisCollapseWidth:o,axisExpandWindow:n,axisCount:j,winInnerIndices:p,axisExpandWindow0Pos:q}},a.prototype._layoutAxes=function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(a){var b=[0,d.axisLength],c=+!!a.inverse;a.setExtent(b[c],b[1-c])}),aH(c,function(b,c){var f=(d.axisExpandable?function(a,b){var c,d,e=b.layoutLength,f=b.axisExpandWidth,g=b.axisCount,h=b.axisCollapseWidth,i=b.winInnerIndices,j=h,k=!1;return a<i[0]?(c=a*h,d=h):a<=i[1]?(c=b.axisExpandWindow0Pos+a*f-b.axisExpandWindow[0],j=f,k=!0):(c=e-(g-1-a)*h,d=h),{position:c,axisNameAvailableWidth:j,axisLabelShow:k,nameTruncateMaxWidth:d}}:function(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}})(c,d),g={horizontal:{x:f.position,y:d.axisLength},vertical:{x:0,y:f.position}},h=[g[e].x+a.x,g[e].y+a.y],i={horizontal:xa/2,vertical:0}[e],j=bV();b$(j,j,i),bZ(j,j,h),this._axesLayout[b]={position:h,rotation:i,transform:j,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(a){return this._axesMap.get(a)},a.prototype.dataToPoint=function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},a.prototype.eachActiveState=function(a,b,c,d){null==c&&(c=0),null==d&&(d=a.count());var e=this._axesMap,f=this.dimensions,g=[],h=[];aH(f,function(b){g.push(a.mapDimension(b)),h.push(e.get(b).model)});for(var i=this.hasAxisBrushed(),j=c;j<d;j++){var k=void 0;if(i){k="active";for(var l=a.getValues(g,j),m=0,n=f.length;m<n;m++)if("inactive"===h[m].getActiveState(l[m])){k="inactive";break}}else k="normal";b(k,j)}},a.prototype.hasAxisBrushed=function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b.get(a[d]).model.getActiveState()&&(c=!0);return c},a.prototype.axisCoordToPoint=function(a,b){return mf([a,0],this._axesLayout[b].transform)},a.prototype.getAxisLayout=function(a){return az(this._axesLayout[a])},a.prototype.getSlidedAxisExpandWindow=function(a){var b,c=this._makeLayoutInfo(),d=c.pixelDimIndex,e=c.axisExpandWindow.slice(),f=e[1]-e[0],g=[0,c.axisExpandWidth*(c.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:e};var h=a[d]-c.layoutBase-c.axisExpandWindow0Pos,i="slide",j=c.axisCollapseWidth,k=this._model.get("axisExpandSlideTriggerArea"),l=null!=k[0];if(j)l&&j&&h<f*k[0]?(i="jump",b=h-f*k[2]):l&&j&&h>f*(1-k[0])?(i="jump",b=h-f*(1-k[2])):(b=h-f*k[1])>=0&&(b=h-f*(1-k[1]))<=0&&(b=0),(b*=c.axisExpandWidth/j)?w3(b,e,g,"all"):i="none";else{var m=e[1]-e[0];(e=[w7(0,g[1]*h/m-m/2)])[1]=w6(g[1],e[0]+m),e[0]=e[1]-m}return{axisExpandWindow:e,behavior:i}},a}();function xc(a,b){return w6(w7(a,b[0]),b[1])}let xd={create:function(a,b){var c=[];return a.eachComponent("parallel",function(d,e){var f=new xb(d,a,b);f.name="parallel_"+e,f.resize(d,b),d.coordinateSystem=f,f.model=d,c.push(f)}),a.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var b=a.getReferringComponents("parallel",e2).models[0];a.coordinateSystem=b.coordinateSystem}}),c}};var xe=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.activeIntervals=[],c}return af(b,a),b.prototype.getAreaSelectStyle=function(){return fg([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},b.prototype.setActiveIntervals=function(a){var b=this.activeIntervals=az(a);if(b)for(var c=b.length-1;c>=0;c--)eu(b[c])},b.prototype.getActiveState=function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(null==a||isNaN(+a))return"inactive";if(1===b.length){var c=b[0];if(c[0]<=a&&a<=c[1])return"active"}else for(var d=0,e=b.length;d<e;d++)if(b[d][0]<=a&&a<=b[d][1])return"active";return"inactive"},b}(iU);aF(xe,rx);var xf=Math.min,xg=Math.max,xh=Math.pow,xi="globalPan",xj={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},xk={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},xl={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},xm=0,xn=function(a){function b(b){var c=a.call(this)||this;return c._track=[],c._covers=[],c._handlers={},c._zr=b,c.group=new em,c._uid="brushController_"+xm++,aH(xO,function(a,b){this._handlers[b]=aM(a,this)},c),c}return af(b,a),b.prototype.enableBrush=function(a){return this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},b.prototype._doEnableBrush=function(a){var b,c=this._zr;this._enableGlobalPan||(b=this._uid,th(c)[xi]=b),aH(this._handlers,function(a,b){c.on(b,a)}),this._brushType=a.brushType,this._brushOption=aA(az(xl),a,!0)},b.prototype._doDisableBrush=function(){var a,b,c=this._zr;a=this._uid,(b=th(c))[xi]===a&&(b[xi]=null),aH(this._handlers,function(a,b){c.off(b,a)}),this._brushType=this._brushOption=null},b.prototype.setPanels=function(a){if(a&&a.length){var b=this._panels={};aH(a,function(a){b[a.panelId]=az(a)})}else this._panels=null;return this},b.prototype.mount=function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=b.getLocalTransform(),this},b.prototype.updateCovers=function(a){a=aI(a,function(a){return aA(az(xl),a,!0)});var b=this._covers,c=this._covers=[],d=this,e=this._creatingCover;return new pj(b,a,function(a,b){return f(a.__brushOption,b)},f).add(g).update(g).remove(function(a){b[a]!==e&&d.group.remove(b[a])}).execute(),this;function f(a,b){return(null!=a.id?a.id:"\0-brush-index-"+b)+"-"+a.brushType}function g(f,g){var h=a[f];if(null!=g&&b[g]===e)c[f]=b[g];else{var i=c[f]=null!=g?(b[g].__brushOption=h,b[g]):xp(d,xo(d,h));xs(d,i)}}},b.prototype.unmount=function(){return this.enableBrush(!1),xw(this),this._zr.remove(this.group),this},b.prototype.dispose=function(){this.unmount(),this.off()},b}(bx);function xo(a,b){var c=xQ[b.brushType].createCover(a,b);return c.__brushOption=b,xr(c,b),a.group.add(c),c}function xp(a,b){var c=xt(b);return c.endCreating&&(c.endCreating(a,b),xr(b,b.__brushOption)),b}function xq(a,b){var c=b.__brushOption;xt(b).updateCoverShape(a,b,c.range,c)}function xr(a,b){var c=b.z;null==c&&(c=1e4),a.traverse(function(a){a.z=c,a.z2=c})}function xs(a,b){xt(b).updateCommon(a,b),xq(a,b)}function xt(a){return xQ[a.__brushOption.brushType]}function xu(a,b,c){var d,e=a._panels;if(!e)return!0;var f=a._transform;return aH(e,function(a){a.isTargetByCursor(b,c,f)&&(d=a)}),d}function xv(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null==d||c[d]}function xw(a){var b=a._covers,c=b.length;return aH(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function xx(a,b){var c=aI(a._covers,function(a){var b=a.__brushOption,c=az(b.range);return{brushType:b.brushType,panelId:b.panelId,range:c}});a.trigger("brush",{areas:c,isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function xy(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function xz(a,b,c,d){var e=new em;return e.add(new gy({name:"main",style:xD(c),silent:!0,draggable:!0,cursor:"move",drift:aN(xG,a,b,e,["n","s","w","e"]),ondragend:aN(xx,b,{isEnd:!0})})),aH(d,function(c){e.add(new gy({name:c.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:aN(xG,a,b,e,c),ondragend:aN(xx,b,{isEnd:!0})}))}),e}function xA(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=xg(e,6),g=c[0][0],h=c[1][0],i=g-e/2,j=h-e/2,k=c[0][1],l=c[1][1],m=k-f+e/2,n=l-f+e/2,o=k-g,p=l-h,q=o+e,r=p+e;xC(a,b,"main",g,h,o,p),d.transformable&&(xC(a,b,"w",i,j,f,r),xC(a,b,"e",m,j,f,r),xC(a,b,"n",i,j,q,f),xC(a,b,"s",i,n,q,f),xC(a,b,"nw",i,j,f,f),xC(a,b,"ne",m,j,f,f),xC(a,b,"sw",i,n,f,f),xC(a,b,"se",m,n,f,f))}function xB(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(xD(c)),e.attr({silent:!d,cursor:d?"move":"default"}),aH([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(c){var e,f,g,h=b.childOfName(c.join("")),i=1===c.length?xF(a,c[0]):(("e"===(g=[xF(e=a,(f=c)[0]),xF(e,f[1])])[0]||"w"===g[0])&&g.reverse(),g.join(""));h&&h.attr({silent:!d,invisible:!d,cursor:d?xk[i]+"-resize":null})})}function xC(a,b,c,d,e,f,g){var h,i,j,k=b.childOfName(c);k&&k.setShape((i=xf((h=xJ(a,b,[[d,e],[d+f,e+g]]))[0][0],h[1][0]),{x:i,y:j=xf(h[0][1],h[1][1]),width:xg(h[0][0],h[1][0])-i,height:xg(h[0][1],h[1][1])-j}))}function xD(a){return aD({strokeNoScale:!0},a.brushStyle)}function xE(a,b,c,d){var e=[xf(a,c),xf(b,d)],f=[xg(a,c),xg(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function xF(a,b){return({left:"w",right:"e",top:"n",bottom:"s"})[mg({w:"left",e:"right",n:"top",s:"bottom"}[b],me(a.group))]}function xG(a,b,c,d,e,f){var g=c.__brushOption,h=a.toRectRange(g.range),i=xI(b,e,f);aH(d,function(a){var b=xj[a];h[b[0]][b[1]]+=i[b[0]]}),g.range=a.fromRectRange(xE(h[0][0],h[1][0],h[0][1],h[1][1])),xs(b,c),xx(b,{isEnd:!1})}function xH(a,b,c,d){var e=b.__brushOption.range,f=xI(a,c,d);aH(e,function(a){a[0]+=f[0],a[1]+=f[1]}),xs(a,b),xx(a,{isEnd:!1})}function xI(a,b,c){var d=a.group,e=d.transformCoordToLocal(b,c),f=d.transformCoordToLocal(0,0);return[e[0]-f[0],e[1]-f[1]]}function xJ(a,b,c){var d=xv(a,b);return d&&!0!==d?d.clipPath(c,a._transform):az(c)}function xK(a){var b=a.event;b.preventDefault&&b.preventDefault()}function xL(a,b,c){return a.childOfName("main").contain(b,c)}function xM(a,b,c,d){var e,f=a._creatingCover,g=a._creatingPanel,h=a._brushOption;if(a._track.push(c.slice()),function(a){var b=a._track;if(!b.length)return!1;var c=b[b.length-1],d=b[0],e=c[0]-d[0],f=c[1]-d[1];return xh(e*e+f*f,.5)>6}(a)||f){if(g&&!f){"single"===h.brushMode&&xw(a);var i=az(h);i.brushType=xN(i.brushType,g),i.panelId=!0===g?null:g.panelId,f=a._creatingCover=xo(a,i),a._covers.push(f)}if(f){var j=xQ[xN(a._brushType,g)];f.__brushOption.range=j.getCreatingRange(xJ(a,f,a._track)),d&&(xp(a,f),j.updateCommon(a,f)),xq(a,f),e={isEnd:d}}}else d&&"single"===h.brushMode&&h.removeOnClick&&xu(a,b,c)&&xw(a)&&(e={isEnd:d,removeOnClick:!0});return e}function xN(a,b){return"auto"===a?b.defaultBrushType:a}var xO={mousedown:function(a){if(this._dragging)xP(this,a);else if(!a.target||!a.target.draggable){xK(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=xu(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=a.offsetX,c=a.offsetY,d=this.group.transformCoordToLocal(b,c);if(!function(a,b,c){if(!(!a._brushType||(d=a,e=b.offsetX,f=b.offsetY,g=d._zr,e<0||e>g.getWidth()||f<0||f>g.getHeight()))){var d,e,f,g,h=a._zr,i=a._covers,j=xu(a,b,c);if(!a._dragging)for(var k=0;k<i.length;k++){var l=i[k].__brushOption;if(j&&(!0===j||l.panelId===j.panelId)&&xQ[l.brushType].contain(i[k],c[0],c[1]))return}j&&h.setCursorStyle("crosshair")}}(this,a,d),this._dragging){xK(a);var e=xM(this,a,d,!1);e&&xx(this,e)}},mouseup:function(a){xP(this,a)}};function xP(a,b){if(a._dragging){xK(b);var c=b.offsetX,d=b.offsetY,e=a.group.transformCoordToLocal(c,d),f=xM(a,b,e,!0);a._dragging=!1,a._track=[],a._creatingCover=null,f&&xx(a,f)}}var xQ={lineX:xR(0),lineY:xR(1),rect:{createCover:function(a,b){function c(a){return a}return xz({toRectRange:c,fromRectRange:c},a,b,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var b=xy(a);return xE(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(a,b,c,d){xA(a,b,c,d)},updateCommon:xB,contain:xL},polygon:{createCover:function(a,b){var c=new em;return c.add(new lF({name:"main",style:xD(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new lD({name:"main",draggable:!0,drift:aN(xH,a,b),ondragend:aN(xx,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:xJ(a,b,c)})},updateCommon:xB,contain:xL}};function xR(a){return{createCover:function(b,c){return xz({toRectRange:function(b){var c=[b,[0,100]];return a&&c.reverse(),c},fromRectRange:function(b){return b[a]}},b,c,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(b){var c=xy(b);return[xf(c[0][a],c[1][a]),xg(c[0][a],c[1][a])]},updateCoverShape:function(b,c,d,e){var f,g=xv(b,c);if(!0!==g&&g.getLinearBrushOtherExtent)f=g.getLinearBrushOtherExtent(a);else{var h=b._zr;f=[0,[h.getWidth(),h.getHeight()][1-a]]}var i=[d,f];a&&i.reverse(),xA(b,c,i,e)},updateCommon:xB,contain:xL}}function xS(a){return a=xV(a),function(b){return mi(b,a)}}function xT(a,b){return a=xV(a),function(c){var d=null!=b?b:c,e=d?a.width:a.height,f=d?a.x:a.y;return[f,f+(e||0)]}}function xU(a,b,c){var d=xV(a);return function(a,e){return d.contain(e[0],e[1])&&!tp(a,b,c)}}function xV(a){return ca.create(a)}var xW=["axisLine","axisTickLabel","axisName"],xX=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(b,c){a.prototype.init.apply(this,arguments),(this._brushController=new xn(c.getZr())).on("brush",aM(this._onBrush,this))},b.prototype.render=function(a,b,c,d){var e,f,g;if(e=a,f=b,!(g=d)||"axisAreaSelect"!==g.type||f.findComponents({mainType:"parallelAxis",query:g})[0]!==e){this.axisModel=a,this.api=c,this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new em,this.group.add(this._axisGroup),a.get("show")){var i,j=(i=a,b.getComponent("parallel",i.get("parallelIndex"))),k=j.coordinateSystem,l=a.getAreaSelectStyle(),m=l.width,n=a.axis.dim,o=aC({strokeContainThreshold:m},k.getAxisLayout(n)),p=new sG(a,o);aH(xW,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(o,l,a,j,m,c),mh(h,this._axisGroup,a)}}},b.prototype._refreshBrushController=function(a,b,c,d,e,f){var g,h,i=c.axis.getExtent(),j=i[1]-i[0],k=Math.min(30,.1*Math.abs(j)),l=ca.create({x:i[0],y:-e/2,width:j,height:e});l.x-=k,l.width+=2*k,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,x:a.position[0],y:a.position[1]}).setPanels([{panelId:"pl",clipPath:xS(l),isTargetByCursor:xU(l,f,d),getLinearBrushOtherExtent:xT(l,0)}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers((h=(g=c).axis,aI(g.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[h.dataToCoord(a[0],!0),h.dataToCoord(a[1],!0)]}})))},b.prototype._onBrush=function(a){var b=a.areas,c=this.axisModel,d=c.axis,e=aI(b,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!c.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:e})},b.prototype.dispose=function(){this._brushController.dispose()},b.type="parallelAxis",b}(kZ),xY={type:"axisAreaSelect",event:"axisAreaSelected"},xZ={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function x$(a){a.registerComponentView(w$),a.registerComponentModel(w1),a.registerCoordinateSystem("parallel",xd),a.registerPreprocessor(wZ),a.registerComponentModel(xe),a.registerComponentView(xX),rJ(a,"parallel",xe,xZ),a.registerAction(xY,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})}),a.registerAction("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})})}var x_=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},x0=function(a){function b(b){return a.call(this,b)||this}return af(b,a),b.prototype.getDefaultShape=function(){return new x_},b.prototype.buildPath=function(a,b){var c=b.extent;a.moveTo(b.x1,b.y1),a.bezierCurveTo(b.cpx1,b.cpy1,b.cpx2,b.cpy2,b.x2,b.y2),"vertical"===b.orient?(a.lineTo(b.x2+c,b.y2),a.bezierCurveTo(b.cpx2+c,b.cpy2,b.cpx1+c,b.cpy1,b.x1+c,b.y1)):(a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c)),a.closePath()},b.prototype.highlight=function(){hd(this)},b.prototype.downplay=function(){he(this)},b}(gm),x1=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._focusAdjacencyDisabled=!1,c}return af(b,a),b.prototype.render=function(a,b,c){var d,e,f,g,h=this,i=a.getGraph(),j=this.group,k=a.layoutInfo,l=k.width,m=k.height,n=a.getData(),o=a.getData("edge"),p=a.get("orient");this._model=a,j.removeAll(),j.x=k.x,j.y=k.y,i.eachEdge(function(b){var c,d,e,f,g,h,i,k,n=new x0,q=gO(n);q.dataIndex=b.dataIndex,q.seriesIndex=a.seriesIndex,q.dataType="edge";var r=b.getModel(),s=r.getModel("lineStyle"),t=s.get("curveness"),u=b.node1.getLayout(),v=b.node1.getModel(),w=v.get("localX"),x=v.get("localY"),y=b.node2.getLayout(),z=b.node2.getModel(),A=z.get("localX"),B=z.get("localY"),C=b.getLayout();n.shape.extent=Math.max(1,C.dy),n.shape.orient=p,"vertical"===p?(c=(null!=w?w*l:u.x)+C.sy,d=(null!=x?x*m:u.y)+u.dy,e=(null!=A?A*l:y.x)+C.ty,f=null!=B?B*m:y.y,g=c,h=d*(1-t)+f*t,i=e,k=d*t+f*(1-t)):(c=(null!=w?w*l:u.x)+u.dx,d=(null!=x?x*m:u.y)+C.sy,e=null!=A?A*l:y.x,f=(null!=B?B*m:y.y)+C.ty,g=c*(1-t)+e*t,h=d,i=c*t+e*(1-t),k=f),n.setShape({x1:c,y1:d,x2:e,y2:f,cpx1:g,cpy1:h,cpx2:i,cpy2:k}),n.useStyle(s.getItemStyle()),x2(n.style,p,b);var D=""+r.get("value"),E=hJ(r,"edgeLabel");hI(n,E,{labelFetcher:{getFormattedLabel:function(b,c,d,e,f,g){return a.getFormattedLabel(b,c,"edge",e,a$(f,E.normal&&E.normal.get("formatter"),D),g)}},labelDataIndex:b.dataIndex,defaultText:D}),n.setTextConfig({position:"inside"});var F=r.getModel("emphasis");hq(n,r,"lineStyle",function(a){var c=a.getItemStyle();return x2(c,p,b),c}),j.add(n),o.setItemGraphicEl(b.dataIndex,n);var G=F.get("focus");hm(n,"adjacency"===G?b.getAdjacentDataIndices():"trajectory"===G?b.getTrajectoryDataIndices():G,F.get("blurScope"),F.get("disabled"))}),i.eachNode(function(b){var c=b.getLayout(),d=b.getModel(),e=d.get("localX"),f=d.get("localY"),g=d.getModel("emphasis"),h=new gy({shape:{x:null!=e?e*l:c.x,y:null!=f?f*m:c.y,width:c.dx,height:c.dy},style:d.getModel("itemStyle").getItemStyle(),z2:10});hI(h,hJ(d),{labelFetcher:{getFormattedLabel:function(b,c){return a.getFormattedLabel(b,c,"node")}},labelDataIndex:b.dataIndex,defaultText:b.id}),h.disableLabelAnimation=!0,h.setStyle("fill",b.getVisual("color")),h.setStyle("decal",b.getVisual("style").decal),hq(h,d),j.add(h),n.setItemGraphicEl(b.dataIndex,h),gO(h).dataType="node";var i=g.get("focus");hm(h,"adjacency"===i?b.getAdjacentDataIndices():"trajectory"===i?b.getTrajectoryDataIndices():i,g.get("blurScope"),g.get("disabled"))}),n.eachItemGraphicEl(function(b,d){n.getItemModel(d).get("draggable")&&(b.drift=function(b,e){h._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=e,this.dirty(),c.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:n.getRawIndex(d),localX:this.shape.x/l,localY:this.shape.y/m})},b.ondragend=function(){h._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor="move")}),!this._data&&a.isAnimationEnabled()&&j.setClipPath((d=j.getBoundingRect(),e=a,f=function(){j.removeClipPath()},hz(g=new gy({shape:{x:d.x-10,y:d.y-10,width:0,height:d.height+20}}),{shape:{width:d.width+20}},e,f),g)),this._data=a.getData()},b.prototype.dispose=function(){},b.type="sankey",b}(ms);function x2(a,b,c){switch(a.fill){case"source":a.fill=c.node1.getVisual("color"),a.decal=c.node1.getVisual("style").decal;break;case"target":a.fill=c.node2.getVisual("color"),a.decal=c.node2.getVisual("style").decal;break;case"gradient":var d=c.node1.getVisual("color"),e=c.node2.getVisual("color");aQ(d)&&aQ(e)&&(a.fill=new lR(0,0,+("horizontal"===b),+("vertical"===b),[{color:d,offset:0},{color:e,offset:1}]))}}var x3=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.getInitialData=function(a,b){var c=a.edges||a.links,d=a.data||a.nodes,e=a.levels;this.levelModels=[];for(var f=this.levelModels,g=0;g<e.length;g++)null!=e[g].depth&&e[g].depth>=0&&(f[e[g].depth]=new h2(e[g],this,b));if(d&&c)return wD(d,c,this,!0,function(a,b){a.wrapMethod("getItemModel",function(a,b){var c=a.parentModel,d=c.getData().getItemLayout(b);if(d){var e=d.depth,f=c.levelModels[e];f&&(a.parentModel=f)}return a}),b.wrapMethod("getItemModel",function(a,b){var c=a.parentModel,d=c.getGraph().getEdgeByIndex(b).node1.getLayout();if(d){var e=d.depth,f=c.levelModels[e];f&&(a.parentModel=f)}return a})}).data},b.prototype.setNodePosition=function(a,b){var c=(this.option.data||this.option.nodes)[a];c.localX=b[0],c.localY=b[1]},b.prototype.getGraph=function(){return this.getData().graph},b.prototype.getEdgeData=function(){return this.getGraph().edgeData},b.prototype.formatTooltip=function(a,b,c){function d(a){return isNaN(a)||null==a}if("edge"===c){var e=this.getDataParams(a,c),f=e.data,g=e.value;return kD("nameValue",{name:f.source+" -- "+f.target,value:g,noValue:d(g)})}var h=this.getGraph().getNodeByIndex(a).getLayout().value,i=this.getDataParams(a,c).data.name;return kD("nameValue",{name:null!=i?i+"":null,value:h,noValue:d(h)})},b.prototype.optionUpdated=function(){},b.prototype.getDataParams=function(b,c){var d=a.prototype.getDataParams.call(this,b,c);return null==d.value&&"node"===c&&(d.value=this.getGraph().getNodeByIndex(b).getLayout().value),d},b.type="series.sankey",b.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},b}(kR);function x4(a,b){a.eachSeriesByType("sankey",function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o=a.get("nodeWidth"),p=a.get("nodeGap"),q=(c=a,d=b,iN(c.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()}));a.layoutInfo=q;var r=q.width,s=q.height,t=a.getGraph(),u=t.nodes,v=t.edges;aH(u,function(a){var b=Math.max(yd(a.outEdges,yc),yd(a.inEdges,yc),a.getValue()||0);a.setLayout({value:b},!0)});var w=0!==aK(u,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");e=u,f=v,g=o,h=p,i=r,j=s,k=w,l=a.get("orient"),function(a,b,c,d,e,f,g){for(var h,i,j,k=[],l=[],m=[],n=[],o=0,p=0;p<b.length;p++)k[p]=1;for(var p=0;p<a.length;p++)l[p]=a[p].inEdges.length,0===l[p]&&m.push(a[p]);for(var q=-1;m.length;){for(var r=0;r<m.length;r++){var s=m[r],t=s.hostGraph.data.getRawDataItem(s.dataIndex),u=null!=t.depth&&t.depth>=0;u&&t.depth>q&&(q=t.depth),s.setLayout({depth:u?t.depth:o},!0),"vertical"===f?s.setLayout({dy:c},!0):s.setLayout({dx:c},!0);for(var v=0;v<s.outEdges.length;v++){var w=s.outEdges[v];k[b.indexOf(w)]=0;var x=w.node2,y=a.indexOf(x);0==--l[y]&&0>n.indexOf(x)&&n.push(x)}}++o,m=n,n=[]}for(var p=0;p<k.length;p++)if(1===k[p])throw Error("Sankey is a DAG, the original data has cycle!");var z=q>o-1?q:o-1;g&&"left"!==g&&function(a,b,c,d){if("right"===b){for(var e,f,g=[],h=a,i=0;h.length;){for(var j=0;j<h.length;j++){var k=h[j];k.setLayout({skNodeHeight:i},!0);for(var l=0;l<k.inEdges.length;l++){var m=k.inEdges[l];0>g.indexOf(m.node1)&&g.push(m.node1)}}h=g,g=[],++i}aH(a,function(a){x5(a)||a.setLayout({depth:Math.max(0,d-a.getLayout().skNodeHeight)},!0)})}else{"justify"===b&&(e=a,f=d,aH(e,function(a){x5(a)||a.outEdges.length||a.setLayout({depth:f},!0)}))}}(a,g,0,z),h=a,i="vertical"===f?(e-c)/z:(d-c)/z,j=f,aH(h,function(a){var b=a.getLayout().depth*i;"vertical"===j?a.setLayout({y:b},!0):a.setLayout({x:b},!0)})}(e,f,g,i,j,l,a.get("nodeAlign")),function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s=(h=a,i=[],j="vertical"===g?"y":"x",(k=e5(h,function(a){return a.getLayout()[j]})).keys.sort(function(a,b){return a-b}),aH(k.keys,function(a){i.push(k.buckets.get(a))}),i);l=s,m=b,n=c,o=d,p=e,q=g,r=1/0,aH(l,function(a){var b=a.length,c=0;aH(a,function(a){c+=a.getLayout().value});var d="vertical"===q?(o-(b-1)*p)/c:(n-(b-1)*p)/c;d<r&&(r=d)}),aH(l,function(a){aH(a,function(a,b){var c=a.getLayout().value*r;"vertical"===q?(a.setLayout({x:b},!0),a.setLayout({dx:c},!0)):(a.setLayout({y:b},!0),a.setLayout({dy:c},!0))})}),aH(m,function(a){var b=a.getValue()*r;a.setLayout({dy:b},!0)}),x6(s,e,c,d,g);for(var t=1;f>0;f--)(function(a,b,c){aH(a.slice().reverse(),function(a){aH(a,function(a){if(a.outEdges.length){var d=yd(a.outEdges,x7,c)/yd(a.outEdges,yc);if(isNaN(d)){var e=a.outEdges.length;d=e?yd(a.outEdges,x8,c)/e:0}if("vertical"===c){var f=a.getLayout().x+(d-yb(a,c))*b;a.setLayout({x:f},!0)}else{var g=a.getLayout().y+(d-yb(a,c))*b;a.setLayout({y:g},!0)}}})})})(s,t*=.99,g),x6(s,e,c,d,g),function(a,b,c){aH(a,function(a){aH(a,function(a){if(a.inEdges.length){var d=yd(a.inEdges,x9,c)/yd(a.inEdges,yc);if(isNaN(d)){var e=a.inEdges.length;d=e?yd(a.inEdges,ya,c)/e:0}if("vertical"===c){var f=a.getLayout().x+(d-yb(a,c))*b;a.setLayout({x:f},!0)}else{var g=a.getLayout().y+(d-yb(a,c))*b;a.setLayout({y:g},!0)}}})})}(s,t,g),x6(s,e,c,d,g)}(e,f,j,i,h,k,l),m=e,n="vertical"===l?"x":"y",aH(m,function(a){a.outEdges.sort(function(a,b){return a.node2.getLayout()[n]-b.node2.getLayout()[n]}),a.inEdges.sort(function(a,b){return a.node1.getLayout()[n]-b.node1.getLayout()[n]})}),aH(m,function(a){var b=0,c=0;aH(a.outEdges,function(a){a.setLayout({sy:b},!0),b+=a.getLayout().dy}),aH(a.inEdges,function(a){a.setLayout({ty:c},!0),c+=a.getLayout().dy})})})}function x5(a){var b=a.hostGraph.data.getRawDataItem(a.dataIndex);return null!=b.depth&&b.depth>=0}function x6(a,b,c,d,e){var f="vertical"===e?"x":"y";aH(a,function(a){a.sort(function(a,b){return a.getLayout()[f]-b.getLayout()[f]});for(var g,h,i,j=0,k=a.length,l="vertical"===e?"dx":"dy",m=0;m<k;m++)(i=j-(h=a[m]).getLayout()[f])>0&&(g=h.getLayout()[f]+i,"vertical"===e?h.setLayout({x:g},!0):h.setLayout({y:g},!0)),j=h.getLayout()[f]+h.getLayout()[l]+b;if((i=j-b-("vertical"===e?d:c))>0){g=h.getLayout()[f]-i,"vertical"===e?h.setLayout({x:g},!0):h.setLayout({y:g},!0),j=g;for(var m=k-2;m>=0;--m)(i=(h=a[m]).getLayout()[f]+h.getLayout()[l]+b-j)>0&&(g=h.getLayout()[f]-i,"vertical"===e?h.setLayout({x:g},!0):h.setLayout({y:g},!0)),j=h.getLayout()[f]}})}function x7(a,b){return yb(a.node2,b)*a.getValue()}function x8(a,b){return yb(a.node2,b)}function x9(a,b){return yb(a.node1,b)*a.getValue()}function ya(a,b){return yb(a.node1,b)}function yb(a,b){return"vertical"===b?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function yc(a){return a.getValue()}function yd(a,b,c){for(var d=0,e=a.length,f=-1;++f<e;){var g=+b(a[f],c);isNaN(g)||(d+=g)}return d}function ye(a){a.eachSeriesByType("sankey",function(a){var b=a.getGraph(),c=b.nodes,d=b.edges;if(c.length){var e=1/0,f=-1/0;aH(c,function(a){var b=a.getLayout().value;b<e&&(e=b),b>f&&(f=b)}),aH(c,function(b){var c=new vp({type:"color",mappingMethod:"linear",dataExtent:[e,f],visual:a.get("color")}).mapValueToVisual(b.getLayout().value),d=b.getModel().get(["itemStyle","color"]);null!=d?(b.setVisual("color",d),b.setVisual("style",{fill:d})):(b.setVisual("color",c),b.setVisual("style",{fill:c}))})}d.length&&aH(d,function(a){var b=a.getModel().get("lineStyle");a.setVisual("style",b)})})}var yf=function(){function a(){}return a.prototype.getInitialData=function(a,b){var c,d,e=b.getComponent("xAxis",this.get("xAxisIndex")),f=b.getComponent("yAxis",this.get("yAxisIndex")),g=e.get("type"),h=f.get("type");"category"===g?(a.layout="horizontal",c=e.getOrdinalMeta(),d=!0):"category"===h?(a.layout="vertical",c=f.getOrdinalMeta(),d=!0):a.layout=a.layout||"horizontal";var i=["x","y"],j=+("horizontal"!==a.layout),k=this._baseAxisDim=i[j],l=i[1-j],m=[e,f],n=m[j].get("type"),o=m[1-j].get("type"),p=a.data;if(p&&d){var q=[];aH(p,function(a,b){var c;aO(a)?(c=a.slice(),a.unshift(b)):aO(a.value)?((c=aC({},a)).value=c.value.slice(),a.value.unshift(b)):c=a,q.push(c)}),a.data=q}var r=this.defaultValueDimensions,s=[{name:k,type:pm(n),ordinalMeta:c,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:l,type:pm(o),dimsDef:r.slice()}];return rn(this,{coordDimensions:s,dimensionsCount:r.length+1,encodeDefaulter:aN(i7,s,this)})},a.prototype.getBaseAxis=function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis},a}(),yg=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],c.visualDrawType="stroke",c}return af(b,a),b.type="series.boxplot",b.dependencies=["xAxis","yAxis","grid"],b.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},b}(kR);aF(yg,yf,!0);var yh=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this.group,f=this._data;this._data||e.removeAll();var g=+("horizontal"===a.get("layout"));d.diff(f).add(function(a){if(d.hasValue(a)){var b=yk(d.getItemLayout(a),d,a,g,!0);d.setItemGraphicEl(a,b),e.add(b)}}).update(function(a,b){var c=f.getItemGraphicEl(b);if(!d.hasValue(a))return void e.remove(c);var h=d.getItemLayout(a);c?(hE(c),yl(h,c,d,a)):c=yk(h,d,a,g),e.add(c),d.setItemGraphicEl(a,c)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&e.remove(b)}).execute(),this._data=d},b.prototype.remove=function(a){var b=this.group,c=this._data;this._data=null,c&&c.eachItemGraphicEl(function(a){a&&b.remove(a)})},b.type="boxplot",b}(ms),yi=function(){},yj=function(a){function b(b){var c=a.call(this,b)||this;return c.type="boxplotBoxPath",c}return af(b,a),b.prototype.getDefaultShape=function(){return new yi},b.prototype.buildPath=function(a,b){var c=b.points,d=0;for(a.moveTo(c[d][0],c[d][1]),d++;d<4;d++)a.lineTo(c[d][0],c[d][1]);for(a.closePath();d<c.length;d++)a.moveTo(c[d][0],c[d][1]),d++,a.lineTo(c[d][0],c[d][1])},b}(gm);function yk(a,b,c,d,e){var f,g,h,i=a.ends,j=new yj({shape:{points:e?(f=i,g=d,h=a,aI(f,function(a){return(a=a.slice())[g]=h.initBaseline,a})):i}});return yl(a,j,b,c,e),j}function yl(a,b,c,d,e){var f=c.hostModel;(0,s5[e?"initProps":"updateProps"])(b,{shape:{points:a.ends}},f,d),b.useStyle(c.getItemVisual(d,"style")),b.style.strokeNoScale=!0,b.z2=100;var g=c.getItemModel(d),h=g.getModel("emphasis");hq(b,g),hm(b,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function ym(a){var b,c;aH((b=[],c=[],a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),e=aE(c,d);e<0&&(e=c.length,c[e]=d,b[e]={axis:d,seriesModels:[]}),b[e].seriesModels.push(a)}),b),function(a){var b=a.seriesModels;b.length&&(function(a){var b,c=a.axis,d=a.seriesModels,e=d.length,f=a.boxWidthList=[],g=a.boxOffsetList=[],h=[];if("category"===c.type)b=c.getBandWidth();else{var i=0;aH(d,function(a){i=Math.max(i,a.getData().count())});var j=c.getExtent();b=Math.abs(j[1]-j[0])/i}aH(d,function(a){var c=a.get("boxWidth");aO(c)||(c=[c,c]),h.push([es(c[0],b)||0,es(c[1],b)||0])});var k=.8*b-2,l=k/e*.3,m=(k-l*(e-1))/e,n=m/2-k/2;aH(d,function(a,b){g.push(n),n+=l+m,f.push(Math.min(Math.max(m,h[b][0]),h[b][1]))})}(a),aH(b,function(b,c){!function(a,b,c){var d=a.coordinateSystem,e=a.getData(),f=c/2,g=+("horizontal"!==a.get("layout")),h=1-g,i=["x","y"],j=e.mapDimension(i[g]),k=e.mapDimensionsAll(i[h]);if(null!=j&&!(k.length<5))for(var l=0;l<e.count();l++){var m=e.get(j,l),n=t(m,k[2],l),o=t(m,k[0],l),p=t(m,k[1],l),q=t(m,k[3],l),r=t(m,k[4],l),s=[];u(s,p,!1),u(s,q,!0),s.push(o,p,r,q),v(s,o),v(s,r),v(s,n),e.setItemLayout(l,{initBaseline:n[h],ends:s})}function t(a,c,f){var i,j=e.get(c,f),k=[];return k[g]=a,k[h]=j,isNaN(a)||isNaN(j)?i=[NaN,NaN]:(i=d.dataToPoint(k),i[g]+=b),i}function u(a,b,c){var d=b.slice(),e=b.slice();d[g]+=f,e[g]-=f,c?a.push(d,e):a.push(e,d)}function v(a,b){var c=b.slice(),d=b.slice();c[g]-=f,d[g]+=f,a.push(c,d)}}(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}var yn={type:"echarts:boxplot",transform:function(a){var b=a.upstream;b.sourceFormat!==i0&&jj("");var c=function(a,b){for(var c=[],d=[],e=(b=b||{}).boundIQR,f="none"===e||0===e,g=0;g<a.length;g++){var h=eu(a[g].slice()),i=eH(h,.25),j=eH(h,.5),k=eH(h,.75),l=h[0],m=h[h.length-1],n=(null==e?1.5:e)*(k-i),o=f?l:Math.max(l,i-n),p=f?m:Math.min(m,k+n),q=b.itemNameFormatter,r=aP(q)?q({value:g}):aQ(q)?q.replace("{value}",g+""):g+"";c.push([r,o,i,j,k,p]);for(var s=0;s<h.length;s++){var t=h[s];if(t<o||t>p){var u=[r,t];d.push(u)}}}return{boxData:c,outliers:d}}(b.getRawData(),a.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:c.boxData},{data:c.outliers}]}},yo=["color","borderColor"],yp=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},b.prototype.incrementalPrepareRender=function(a,b,c){this._clear(),this._updateDrawMode(a)},b.prototype.incrementalRender=function(a,b,c,d){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(a,b):this._incrementalRenderNormal(a,b)},b.prototype.eachRendered=function(a){mp(this._progressiveEls||this.group,a)},b.prototype._updateDrawMode=function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b!==this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},b.prototype._renderNormal=function(a){var b=a.getData(),c=this._data,d=this.group,e=b.getLayout("isSimpleBox"),f=a.get("clip",!0),g=a.coordinateSystem,h=g.getArea&&g.getArea();this._data||d.removeAll(),b.diff(c).add(function(c){if(b.hasValue(c)){var g=b.getItemLayout(c);if(!(f&&yt(h,g))){var i=ys(g,c,!0);hz(i,{shape:{points:g.ends}},a,c),yu(i,b,c,e),d.add(i),b.setItemGraphicEl(c,i)}}}).update(function(g,i){var j=c.getItemGraphicEl(i);if(!b.hasValue(g))return void d.remove(j);var k=b.getItemLayout(g);f&&yt(h,k)?d.remove(j):(j?(hy(j,{shape:{points:k.ends}},a,g),hE(j)):j=ys(k,g),yu(j,b,g,e),d.add(j),b.setItemGraphicEl(g,j))}).remove(function(a){var b=c.getItemGraphicEl(a);b&&d.remove(b)}).execute(),this._data=b},b.prototype._renderLarge=function(a){this._clear(),yx(a,this.group);var b=a.get("clip",!0)?p2(a.coordinateSystem,!1,a):null;b?this.group.setClipPath(b):this.group.removeClipPath()},b.prototype._incrementalRenderNormal=function(a,b){for(var c,d=b.getData(),e=d.getLayout("isSimpleBox");null!=(c=a.next());){var f=ys(d.getItemLayout(c),c);yu(f,d,c,e),f.incremental=!0,this.group.add(f),this._progressiveEls.push(f)}},b.prototype._incrementalRenderLarge=function(a,b){yx(b,this.group,this._progressiveEls,!0)},b.prototype.remove=function(a){this._clear()},b.prototype._clear=function(){this.group.removeAll(),this._data=null},b.type="candlestick",b}(ms),yq=function(){},yr=function(a){function b(b){var c=a.call(this,b)||this;return c.type="normalCandlestickBox",c}return af(b,a),b.prototype.getDefaultShape=function(){return new yq},b.prototype.buildPath=function(a,b){var c=b.points;this.__simpleBox?(a.moveTo(c[4][0],c[4][1]),a.lineTo(c[6][0],c[6][1])):(a.moveTo(c[0][0],c[0][1]),a.lineTo(c[1][0],c[1][1]),a.lineTo(c[2][0],c[2][1]),a.lineTo(c[3][0],c[3][1]),a.closePath(),a.moveTo(c[4][0],c[4][1]),a.lineTo(c[5][0],c[5][1]),a.moveTo(c[6][0],c[6][1]),a.lineTo(c[7][0],c[7][1]))},b}(gm);function ys(a,b,c){var d,e,f=a.ends;return new yr({shape:{points:c?(d=f,e=a,aI(d,function(a){return(a=a.slice())[1]=e.initBaseline,a})):f},z2:100})}function yt(a,b){for(var c=!0,d=0;d<b.ends.length;d++)if(a.contain(b.ends[d][0],b.ends[d][1])){c=!1;break}return c}function yu(a,b,c,d){var e=b.getItemModel(c);a.useStyle(b.getItemVisual(c,"style")),a.style.strokeNoScale=!0,a.__simpleBox=d,hq(a,e)}var yv=function(){},yw=function(a){function b(b){var c=a.call(this,b)||this;return c.type="largeCandlestickBox",c}return af(b,a),b.prototype.getDefaultShape=function(){return new yv},b.prototype.buildPath=function(a,b){for(var c=b.points,d=0;d<c.length;)if(this.__sign===c[d++]){var e=c[d++];a.moveTo(e,c[d++]),a.lineTo(e,c[d++])}else d+=3},b}(gm);function yx(a,b,c,d){var e=a.getData(),f=e.getLayout("largePoints"),g=new yw({shape:{points:f},__sign:1,ignoreCoarsePointer:!0});b.add(g);var h=new yw({shape:{points:f},__sign:-1,ignoreCoarsePointer:!0});b.add(h);var i=new yw({shape:{points:f},__sign:0,ignoreCoarsePointer:!0});b.add(i),yy(1,g,a,e),yy(-1,h,a,e),yy(0,i,a,e),d&&(g.incremental=!0,h.incremental=!0),c&&c.push(g,h)}function yy(a,b,c,d){var e=c.get(["itemStyle",a>0?"borderColor":"borderColor0"])||c.get(["itemStyle",a>0?"color":"color0"]);0===a&&(e=c.get(["itemStyle","borderColorDoji"]));var f=c.getModel("itemStyle").getItemStyle(yo);b.useStyle(f),b.style.fill=null,b.style.stroke=e}var yz=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],c}return af(b,a),b.prototype.getShadowDim=function(){return"open"},b.prototype.brushSelector=function(a,b,c){var d=b.getItemLayout(a);return d&&c.rect(d.brushRect)},b.type="series.candlestick",b.dependencies=["xAxis","yAxis","grid"],b.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},b}(kR);function yA(a){a&&aO(a.series)&&aH(a.series,function(a){aT(a)&&"k"===a.type&&(a.type="candlestick")})}aF(yz,yf,!0);var yB=["itemStyle","borderColor"],yC=["itemStyle","borderColor0"],yD=["itemStyle","borderColorDoji"],yE=["itemStyle","color"],yF=["itemStyle","color0"],yG={seriesType:"candlestick",plan:k$(),performRawSeries:!0,reset:function(a,b){if(!b.isSeriesFiltered(a))return!a.pipelineContext.large&&{progress:function(a,b){for(var c;null!=(c=a.next());){var d=b.getItemModel(c),e=b.getItemLayout(c).sign,f=d.getItemStyle();f.fill=d.get(e>0?yE:yF),f.stroke=d.get(0===e?yD:e>0?yB:yC)||f.fill,aC(b.ensureUniqueItemVisual(c,"style"),f)}}}}},yH={seriesType:"candlestick",plan:k$(),reset:function(a){var b,c,d,e,f,g,h,i,j=a.coordinateSystem,k=a.getData(),l=(b=a,c=k,f="category"===(e=b.getBaseAxis()).type?e.getBandWidth():Math.abs((d=e.getExtent())[1]-d[0])/c.count(),g=es(aZ(b.get("barMaxWidth"),f),f),h=es(aZ(b.get("barMinWidth"),1),f),null!=(i=b.get("barWidth"))?es(i,f):Math.max(Math.min(f/2,g),h)),m=k.getDimensionIndex(k.mapDimension("x")),n=aI(k.mapDimensionsAll("y"),k.getDimensionIndex,k),o=n[0],p=n[1],q=n[2],r=n[3];if(k.setLayout({candleWidth:l,isSimpleBox:l<=1.3}),!(m<0)&&!(n.length<4))return{progress:a.pipelineContext.large?function(b,c){for(var d,e,f=pT(4*b.count),g=0,h=[],i=[],k=c.getStore(),l=!!a.get(["itemStyle","borderColorDoji"]);null!=(e=b.next());){var n=k.get(m,e),s=k.get(o,e),t=k.get(p,e),u=k.get(q,e),v=k.get(r,e);if(isNaN(n)||isNaN(u)||isNaN(v)){f[g++]=NaN,g+=3;continue}f[g++]=yI(k,e,s,t,p,l),h[0]=n,h[1]=u,d=j.dataToPoint(h,null,i),f[g++]=d?d[0]:NaN,f[g++]=d?d[1]:NaN,h[1]=v,d=j.dataToPoint(h,null,i),f[g++]=d?d[1]:NaN}c.setLayout("largePoints",f)}:function(a,b){for(var c,d=b.getStore();null!=(c=a.next());){var e=d.get(m,c),f=d.get(o,c),g=d.get(p,c),h=d.get(q,c),i=d.get(r,c),k=Math.min(f,g),n=Math.max(f,g),s=y(k,e),t=y(n,e),u=y(h,e),v=y(i,e),w=[];z(w,t,0),z(w,s,1),w.push(A(v),A(t),A(u),A(s));var x=!!b.getItemModel(c).get(["itemStyle","borderColorDoji"]);b.setItemLayout(c,{sign:yI(d,c,f,g,p,x),initBaseline:f>g?t[1]:s[1],ends:w,brushRect:function(a,b,c){var d=y(a,c),e=y(b,c);return d[0]-=l/2,e[0]-=l/2,{x:d[0],y:d[1],width:l,height:e[1]-d[1]}}(h,i,e)})}function y(a,b){var c=[];return c[0]=b,c[1]=a,isNaN(b)||isNaN(a)?[NaN,NaN]:j.dataToPoint(c)}function z(a,b,c){var d=b.slice(),e=b.slice();d[0]=md(d[0]+l/2,1,!1),e[0]=md(e[0]-l/2,1,!0),c?a.push(d,e):a.push(e,d)}function A(a){return a[0]=md(a[0],1),a}}}}};function yI(a,b,c,d,e,f){return c>d?-1:c<d?1:f?0:b>0?a.get(e,b-1)<=d?1:-1:1}function yJ(a,b){var c=b.rippleEffectColor||b.color;a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?c:null,fill:"fill"===b.brushType?c:null}})})}var yK=function(a){function b(b,c){var d=a.call(this)||this,e=new pJ(b,c),f=new em;return d.add(e),d.add(f),d.updateData(b,c),d}return af(b,a),b.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},b.prototype.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=a.rippleNumber,e=this.childAt(1),f=0;f<d;f++){var g=nm(b,-1,-1,2,2,c);g.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var h=-f/d*a.period+a.effectOffset;g.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(h).start(),g.animateStyle(!0).when(a.period,{opacity:0}).delay(h).start(),e.add(g)}yJ(e,a)},b.prototype.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale","rippleNumber"],e=0;e<d.length;e++){var f=d[e];if(b[f]!==a[f]){this.stopEffectAnimation(),this.startEffectAnimation(a);return}}yJ(c,a)},b.prototype.highlight=function(){hd(this)},b.prototype.downplay=function(){he(this)},b.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},b.prototype.updateData=function(a,b){var c=this,d=a.hostModel;this.childAt(0).updateData(a,b);var e=this.childAt(1),f=a.getItemModel(b),g=a.getItemVisual(b,"symbol"),h=nn(a.getItemVisual(b,"symbolSize")),i=a.getItemVisual(b,"style"),j=i&&i.fill,k=f.getModel("emphasis");e.setScale(h),e.traverse(function(a){a.setStyle("fill",j)});var l=no(a.getItemVisual(b,"symbolOffset"),h);l&&(e.x=l[0],e.y=l[1]),e.rotation=(a.getItemVisual(b,"symbolRotate")||0)*Math.PI/180||0;var m={};m.showEffectOn=d.get("showEffectOn"),m.rippleScale=f.get(["rippleEffect","scale"]),m.brushType=f.get(["rippleEffect","brushType"]),m.period=1e3*f.get(["rippleEffect","period"]),m.effectOffset=b/a.count(),m.z=d.getShallow("z")||0,m.zlevel=d.getShallow("zlevel")||0,m.symbolType=g,m.color=j,m.rippleEffectColor=f.get(["rippleEffect","color"]),m.rippleNumber=f.get(["rippleEffect","number"]),"render"===m.showEffectOn?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(a){"emphasis"===a?"render"!==m.showEffectOn&&c.startEffectAnimation(m):"normal"===a&&"render"!==m.showEffectOn&&c.stopEffectAnimation()}),this._effectCfg=m,hm(this,k.get("focus"),k.get("blurScope"),k.get("disabled"))},b.prototype.fadeOut=function(a){a&&a()},b}(em),yL=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(){this._symbolDraw=new pO(yK)},b.prototype.render=function(a,b,c){var d=a.getData(),e=this._symbolDraw;e.updateData(d,{clipShape:this._getClipShape(a)}),this.group.add(e.group)},b.prototype._getClipShape=function(a){var b=a.coordinateSystem,c=b&&b.getArea&&b.getArea();return a.get("clip",!0)?c:null},b.prototype.updateTransform=function(a,b,c){var d=a.getData();this.group.dirty();var e=qd("").reset(a,b,c);e.progress&&e.progress({start:0,end:d.count(),count:d.count()},d),this._symbolDraw.updateLayout()},b.prototype._updateGroupTransform=function(a){var b,c,d=a.coordinateSystem;d&&d.getRoamTransform&&(this.group.transform=(b=d.getRoamTransform(),bX(c=bV(),b),c),this.group.decomposeTransform())},b.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0)},b.type="effectScatter",b}(ms),yM=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return af(b,a),b.prototype.getInitialData=function(a,b){return pF(null,this,{useEncodeDefaulter:!0})},b.prototype.brushSelector=function(a,b,c){return c.point(b.getItemLayout(a))},b.type="series.effectScatter",b.dependencies=["grid","polar"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},b}(kR),yN=function(a){function b(b,c,d){var e=a.call(this)||this;return e.add(e.createLine(b,c,d)),e._updateEffectSymbol(b,c),e}return af(b,a),b.prototype.createLine=function(a,b,c){return new wk(a,b,c)},b.prototype._updateEffectSymbol=function(a,b){var c=a.getItemModel(b).getModel("effect"),d=c.get("symbolSize"),e=c.get("symbol");aO(d)||(d=[d,d]);var f=a.getItemVisual(b,"style"),g=c.get("color")||f&&f.stroke,h=this.childAt(1);this._symbolType!==e&&(this.remove(h),(h=nm(e,-.5,-.5,1,1,g)).z2=100,h.culling=!0,this.add(h)),h&&(h.setStyle("shadowColor",g),h.setStyle(c.getItemStyle(["color"])),h.scaleX=d[0],h.scaleY=d[1],h.setColor(g),this._symbolType=e,this._symbolScale=d,this._updateEffectAnimation(a,c,b))},b.prototype._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=a.getItemLayout(c),f=1e3*b.get("period"),g=b.get("loop"),h=b.get("roundTrip"),i=b.get("constantSpeed"),j=aY(b.get("delay"),function(b){return b/a.count()*f/3});if(d.ignore=!0,this._updateAnimationPoints(d,e),i>0&&(f=this._getLineLength(d)/i*1e3),f!==this._period||g!==this._loop||h!==this._roundTrip){d.stopAnimation();var k=void 0;k=aP(j)?j(c):j,d.__t>0&&(k=-f*d.__t),this._animateSymbol(d,f,k,g,h)}this._period=f,this._loop=g,this._roundTrip=h}},b.prototype._animateSymbol=function(a,b,c,d,e){if(b>0){a.__t=0;var f=this,g=a.animate("",d).when(e?2*b:b,{__t:e?2:1}).delay(c).during(function(){f._updateSymbolPosition(a)});d||g.done(function(){f.remove(a)}),g.start()}},b.prototype._getLineLength=function(a){return bp(a.__p1,a.__cp1)+bp(a.__cp1,a.__p2)},b.prototype._updateAnimationPoints=function(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]},b.prototype.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},b.prototype._updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t<1?a.__t:2-a.__t,f=[a.x,a.y],g=f.slice();f[0]=cJ(b[0],d[0],c[0],e),f[1]=cJ(b[1],d[1],c[1],e);var h=a.__t<1?cK(b[0],d[0],c[0],e):cK(c[0],d[0],b[0],1-e),i=a.__t<1?cK(b[1],d[1],c[1],e):cK(c[1],d[1],b[1],1-e);a.rotation=-Math.atan2(i,h)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==a.__lastT&&a.__lastT<a.__t?(a.scaleY=1.05*bp(g,f),1===e&&(f[0]=g[0]+(f[0]-g[0])/2,f[1]=g[1]+(f[1]-g[1])/2)):1===a.__lastT?a.scaleY=2*bp(b,f):a.scaleY=this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=f[0],a.y=f[1]},b.prototype.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},b}(em),yO=function(a){function b(b,c,d){var e=a.call(this)||this;return e._createPolyline(b,c,d),e}return af(b,a),b.prototype._createPolyline=function(a,b,c){var d=new lF({shape:{points:a.getItemLayout(b)}});this.add(d),this._updateCommonStl(a,b,c)},b.prototype.updateData=function(a,b,c){var d=a.hostModel;hy(this.childAt(0),{shape:{points:a.getItemLayout(b)}},d,b),this._updateCommonStl(a,b,c)},b.prototype._updateCommonStl=function(a,b,c){var d=this.childAt(0),e=a.getItemModel(b),f=c&&c.emphasisLineStyle,g=c&&c.focus,h=c&&c.blurScope,i=c&&c.emphasisDisabled;if(!c||a.hasItemOption){var j=e.getModel("emphasis");f=j.getModel("lineStyle").getLineStyle(),i=j.get("disabled"),g=j.get("focus"),h=j.get("blurScope")}d.useStyle(a.getItemVisual(b,"style")),d.style.fill=null,d.style.strokeNoScale=!0,d.ensureState("emphasis").style=f,hm(this,g,h,i)},b.prototype.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))},b}(em),yP=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b._lastFrame=0,b._lastFramePercent=0,b}return af(b,a),b.prototype.createLine=function(a,b,c){return new yO(a,b,c)},b.prototype._updateAnimationPoints=function(a,b){this._points=b;for(var c=[0],d=0,e=1;e<b.length;e++)d+=bp(b[e-1],b[e]),c.push(d);if(0===d){this._length=0;return}for(var e=0;e<c.length;e++)c[e]/=d;this._offsets=c,this._length=d},b.prototype._getLineLength=function(){return this._length},b.prototype._updateSymbolPosition=function(a){var b,c=a.__t<1?a.__t:2-a.__t,d=this._points,e=this._offsets,f=d.length;if(e){var g=this._lastFrame;if(c<this._lastFramePercent){for(b=Math.min(g+1,f-1);b>=0&&!(e[b]<=c);b--);b=Math.min(b,f-2)}else{for(b=g;b<f&&!(e[b]>c);b++);b=Math.min(b-1,f-2)}var h=(c-e[b])/(e[b+1]-e[b]),i=d[b],j=d[b+1];a.x=i[0]*(1-h)+h*j[0],a.y=i[1]*(1-h)+h*j[1];var k=a.__t<1?j[0]-i[0]:i[0]-j[0],l=a.__t<1?j[1]-i[1]:i[1]-j[1];a.rotation=-Math.atan2(l,k)-Math.PI/2,this._lastFrame=b,this._lastFramePercent=c,a.ignore=!1}},b}(yN),yQ=function(){this.polyline=!1,this.curveness=0,this.segs=[]},yR=function(a){function b(b){var c=a.call(this,b)||this;return c._off=0,c.hoverDataIdx=-1,c}return af(b,a),b.prototype.reset=function(){this.notClear=!1,this._off=0},b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new yQ},b.prototype.buildPath=function(a,b){var c,d=b.segs,e=b.curveness;if(b.polyline)for(c=this._off;c<d.length;){var f=d[c++];if(f>0){a.moveTo(d[c++],d[c++]);for(var g=1;g<f;g++)a.lineTo(d[c++],d[c++])}}else for(c=this._off;c<d.length;){var h=d[c++],i=d[c++],j=d[c++],k=d[c++];if(a.moveTo(h,i),e>0){var l=(h+j)/2-(i-k)*e,m=(i+k)/2-(j-h)*e;a.quadraticCurveTo(l,m,j,k)}else a.lineTo(j,k)}this.incremental&&(this._off=c,this.notClear=!0)},b.prototype.findDataIndex=function(a,b){var c=this.shape,d=c.segs,e=c.curveness,f=this.style.lineWidth;if(c.polyline)for(var g=0,h=0;h<d.length;){var i=d[h++];if(i>0)for(var j=d[h++],k=d[h++],l=1;l<i;l++){var m=d[h++],n=d[h++];if(f8(j,k,m,n,f,a,b))return g}g++}else for(var g=0,h=0;h<d.length;){var j=d[h++],k=d[h++],m=d[h++],n=d[h++];if(e>0){var o=(j+m)/2-(k-n)*e,p=(k+n)/2-(m-j)*e;if(f9(j,k,o,p,m,n,f,a,b))return g}else if(f8(j,k,m,n,f,a,b))return g;g++}return -1},b.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return(a=c[0],b=c[1],d.contain(a,b))?(this.hoverDataIdx=this.findDataIndex(a,b))>=0:(this.hoverDataIdx=-1,!1)},b.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var b=this.shape.segs,c=1/0,d=1/0,e=-1/0,f=-1/0,g=0;g<b.length;){var h=b[g++],i=b[g++];c=Math.min(h,c),e=Math.max(h,e),d=Math.min(i,d),f=Math.max(i,f)}a=this._rect=new ca(c,d,e,f)}return a},b}(gm),yS=function(){function a(){this.group=new em}return a.prototype.updateData=function(a){this._clear();var b=this._create();b.setShape({segs:a.getLayout("linesPoints")}),this._setCommon(b,a)},a.prototype.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(a,b){var c=this._newAdded[0],d=b.getLayout("linesPoints"),e=c&&c.shape.segs;if(e&&e.length<2e4){var f=e.length,g=new Float32Array(f+d.length);g.set(e),g.set(d,f),c.setShape({segs:g})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:d}),this._setCommon(h,b),h.__startIndex=a.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(a){this._newAdded[0]&&a(this._newAdded[0])},a.prototype._create=function(){var a=new yR({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(a),this.group.add(a),a},a.prototype._setCommon=function(a,b,c){var d=b.hostModel;a.setShape({polyline:d.get("polyline"),curveness:d.get(["lineStyle","curveness"])}),a.useStyle(d.getModel("lineStyle").getLineStyle()),a.style.strokeNoScale=!0;var e=b.getVisual("style");e&&e.stroke&&a.setStyle("stroke",e.stroke),a.setStyle("fill",null);var f=gO(a);f.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){f.dataIndex=null;var c=a.hoverDataIdx;c>0&&(f.dataIndex=c+a.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),yT={seriesType:"lines",plan:k$(),reset:function(a){var b=a.coordinateSystem;if(b){var c=a.get("polyline"),d=a.pipelineContext.large;return{progress:function(e,f){var g=[];if(d){var h=void 0,i=e.end-e.start;if(c){for(var j=0,k=e.start;k<e.end;k++)j+=a.getLineCoordsCount(k);h=new Float32Array(i+2*j)}else h=new Float32Array(4*i);for(var l=0,m=[],k=e.start;k<e.end;k++){var n=a.getLineCoords(k,g);c&&(h[l++]=n);for(var o=0;o<n;o++)m=b.dataToPoint(g[o],!1,m),h[l++]=m[0],h[l++]=m[1]}f.setLayout("linesPoints",h)}else for(var k=e.start;k<e.end;k++){var p=f.getItemModel(k),n=a.getLineCoords(k,g),q=[];if(c)for(var r=0;r<n;r++)q.push(b.dataToPoint(g[r]));else{q[0]=b.dataToPoint(g[0]),q[1]=b.dataToPoint(g[1]);var s=p.get(["lineStyle","curveness"]);+s&&(q[2]=[(q[0][0]+q[1][0])/2-(q[0][1]-q[1][1])*s,(q[0][1]+q[1][1])/2-(q[1][0]-q[0][0])*s])}f.setItemLayout(k,q)}}}}}},yU=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this._updateLineDraw(d,a),f=a.get("zlevel"),g=a.get(["effect","trailLength"]),h=c.getZr(),i="svg"===h.painter.getType();i||h.painter.getLayer(f).clear(!0),null==this._lastZlevel||i||h.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&g>0&&(i||h.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),e.updateData(d);var j=a.get("clip",!0)&&p2(a.coordinateSystem,!1,a);j?this.group.setClipPath(j):this.group.removeClipPath(),this._lastZlevel=f,this._finished=!0},b.prototype.incrementalPrepareRender=function(a,b,c){var d=a.getData();this._updateLineDraw(d,a).incrementalPrepareUpdate(d),this._clearLayer(c),this._finished=!1},b.prototype.incrementalRender=function(a,b,c){this._lineDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},b.prototype.eachRendered=function(a){this._lineDraw&&this._lineDraw.eachRendered(a)},b.prototype.updateTransform=function(a,b,c){var d=a.getData(),e=a.pipelineContext;if(!this._finished||e.large||e.progressiveRender)return{update:!0};var f=yT.reset(a,b,c);f.progress&&f.progress({start:0,end:d.count(),count:d.count()},d),this._lineDraw.updateLayout(),this._clearLayer(c)},b.prototype._updateLineDraw=function(a,b){var c=this._lineDraw,d=this._showEffect(b),e=!!b.get("polyline"),f=b.pipelineContext.large;return c&&d===this._hasEffet&&e===this._isPolyline&&f===this._isLargeDraw||(c&&c.remove(),c=this._lineDraw=f?new yS:new wl(e?d?yP:yO:d?yN:wk),this._hasEffet=d,this._isPolyline=e,this._isLargeDraw=f),this.group.add(c.group),c},b.prototype._showEffect=function(a){return!!a.get(["effect","show"])},b.prototype._clearLayer=function(a){var b=a.getZr();"svg"!==b.painter.getType()&&null!=this._lastZlevel&&b.painter.getLayer(this._lastZlevel).clear(!0)},b.prototype.remove=function(a,b){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(b)},b.prototype.dispose=function(a,b){this.remove(a,b)},b.type="lines",b}(ms),yV="undefined"==typeof Uint32Array?Array:Uint32Array,yW="undefined"==typeof Float64Array?Array:Float64Array;function yX(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=aI(b,function(a){var b={coords:[a[0].coord,a[1].coord]};return a[0].name&&(b.fromName=a[0].name),a[1].name&&(b.toName=a[1].name),aB([b,a[0],a[1]])}))}var yY=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.visualStyleAccessPath="lineStyle",c.visualDrawType="stroke",c}return af(b,a),b.prototype.init=function(b){b.data=b.data||[],yX(b);var c=this._processFlatCoordsArray(b.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(b.data=new Float32Array(c.count)),a.prototype.init.apply(this,arguments)},b.prototype.mergeOption=function(b){if(yX(b),b.data){var c=this._processFlatCoordsArray(b.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(b.data=new Float32Array(c.count))}a.prototype.mergeOption.apply(this,arguments)},b.prototype.appendData=function(a){var b=this._processFlatCoordsArray(a.data);b.flatCoords&&(this._flatCoords?(this._flatCoords=a8(this._flatCoords,b.flatCoords),this._flatCoordsOffset=a8(this._flatCoordsOffset,b.flatCoordsOffset)):(this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset),a.data=new Float32Array(b.count)),this.getRawData().appendData(a.data)},b.prototype._getCoordsFromItemModel=function(a){var b=this.getData().getItemModel(a);return b.option instanceof Array?b.option:b.getShallow("coords")},b.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},b.prototype.getLineCoords=function(a,b){if(this._flatCoordsOffset){for(var c=this._flatCoordsOffset[2*a],d=this._flatCoordsOffset[2*a+1],e=0;e<d;e++)b[e]=b[e]||[],b[e][0]=this._flatCoords[c+2*e],b[e][1]=this._flatCoords[c+2*e+1];return d}for(var f=this._getCoordsFromItemModel(a),e=0;e<f.length;e++)b[e]=b[e]||[],b[e][0]=f[e][0],b[e][1]=f[e][1];return f.length},b.prototype._processFlatCoordsArray=function(a){var b=0;if(this._flatCoords&&(b=this._flatCoords.length),aS(a[0])){for(var c=a.length,d=new yV(c),e=new yW(c),f=0,g=0,h=0,i=0;i<c;){h++;var j=a[i++];d[g++]=f+b,d[g++]=j;for(var k=0;k<j;k++){var l=a[i++],m=a[i++];e[f++]=l,e[f++]=m}}return{flatCoordsOffset:new Uint32Array(d.buffer,0,g),flatCoords:e,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},b.prototype.getInitialData=function(a,b){var c=new py(["value"],this);return c.hasItemOption=!1,c.initData(a.data,[],function(a,b,d,e){if(a instanceof Array)return NaN;c.hasItemOption=!0;var f=a.value;if(null!=f)return f instanceof Array?f[e]:f}),c},b.prototype.formatTooltip=function(a,b,c){var d=this.getData().getItemModel(a),e=d.get("name");if(e)return e;var f=d.get("fromName"),g=d.get("toName"),h=[];return null!=f&&h.push(f),null!=g&&h.push(g),kD("nameValue",{name:h.join(" > ")})},b.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},b.prototype.getProgressive=function(){var a=this.option.progressive;return null==a?this.option.large?1e4:this.get("progressive"):a},b.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?2e4:this.get("progressiveThreshold"):a},b.prototype.getZLevelKey=function(){var a=this.getModel("effect"),b=a.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:a.get("show")&&b>0?b+"":""},b.type="series.lines",b.dependencies=["grid","polar","geo","calendar"],b.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},b}(kR);function yZ(a){return a instanceof Array||(a=[a,a]),a}let y$={seriesType:"lines",reset:function(a){var b=yZ(a.get("symbol")),c=yZ(a.get("symbolSize")),d=a.getData();return d.setVisual("fromSymbol",b&&b[0]),d.setVisual("toSymbol",b&&b[1]),d.setVisual("fromSymbolSize",c&&c[0]),d.setVisual("toSymbolSize",c&&c[1]),{dataEach:d.hasItemOption?function(a,b){var c=a.getItemModel(b),d=yZ(c.getShallow("symbol",!0)),e=yZ(c.getShallow("symbolSize",!0));d[0]&&a.setItemVisual(b,"fromSymbol",d[0]),d[1]&&a.setItemVisual(b,"toSymbol",d[1]),e[0]&&a.setItemVisual(b,"fromSymbolSize",e[0]),e[1]&&a.setItemVisual(b,"toSymbolSize",e[1])}:null}}};var y_=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var a=al.createCanvas();this.canvas=a}return a.prototype.update=function(a,b,c,d,e,f){var g=this._getBrush(),h=this._getGradient(e,"inRange"),i=this._getGradient(e,"outOfRange"),j=this.pointSize+this.blurSize,k=this.canvas,l=k.getContext("2d"),m=a.length;k.width=b,k.height=c;for(var n=0;n<m;++n){var o=a[n],p=o[0],q=o[1],r=d(o[2]);l.globalAlpha=r,l.drawImage(g,p-j,q-j)}if(!k.width||!k.height)return k;for(var s=l.getImageData(0,0,k.width,k.height),t=s.data,u=0,v=t.length,w=this.minOpacity,x=this.maxOpacity-w;u<v;){var r=t[u+3]/256,y=4*Math.floor(255*r);if(r>0){var z=f(r)?h:i;r>0&&(r=r*x+w),t[u++]=z[y],t[u++]=z[y+1],t[u++]=z[y+2],t[u++]=z[y+3]*r*256}else u+=4}return l.putImageData(s,0,0),k},a.prototype._getBrush=function(){var a=this._brushCanvas||(this._brushCanvas=al.createCanvas()),b=this.pointSize+this.blurSize,c=2*b;a.width=c,a.height=c;var d=a.getContext("2d");return d.clearRect(0,0,c,c),d.shadowOffsetX=c,d.shadowBlur=this.blurSize,d.shadowColor="#000",d.beginPath(),d.arc(-b,b,this.pointSize,0,2*Math.PI,!0),d.closePath(),d.fill(),a},a.prototype._getGradient=function(a,b){for(var c=this._gradientPixels,d=c[b]||(c[b]=new Uint8ClampedArray(1024)),e=[0,0,0,0],f=0,g=0;g<256;g++)a[b](g/255,!0,e),d[f++]=e[0],d[f++]=e[1],d[f++]=e[2],d[f++]=e[3];return d},a}();function y0(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}var y1=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})}),this._progressiveEls=null,this.group.removeAll();var d,e=a.coordinateSystem;"cartesian2d"===e.type||"calendar"===e.type?this._renderOnCartesianAndCalendar(a,c,0,a.getData().count()):y0(e)&&this._renderOnGeo(e,a,d,c)},b.prototype.incrementalPrepareRender=function(a,b,c){this.group.removeAll()},b.prototype.incrementalRender=function(a,b,c,d){var e=b.coordinateSystem;e&&(y0(e)?this.render(b,c,d):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(b,d,a.start,a.end,!0)))},b.prototype.eachRendered=function(a){mp(this._progressiveEls||this.group,a)},b.prototype._renderOnCartesianAndCalendar=function(a,b,c,d,e){var f,g,h,i,j=a.coordinateSystem,k=p3(j,"cartesian2d");if(k){var l=j.getAxis("x"),m=j.getAxis("y");f=l.getBandWidth()+.5,g=m.getBandWidth()+.5,h=l.scale.getExtent(),i=m.scale.getExtent()}for(var n=this.group,o=a.getData(),p=a.getModel(["emphasis","itemStyle"]).getItemStyle(),q=a.getModel(["blur","itemStyle"]).getItemStyle(),r=a.getModel(["select","itemStyle"]).getItemStyle(),s=a.get(["itemStyle","borderRadius"]),t=hJ(a),u=a.getModel("emphasis"),v=u.get("focus"),w=u.get("blurScope"),x=u.get("disabled"),y=k?[o.mapDimension("x"),o.mapDimension("y"),o.mapDimension("value")]:[o.mapDimension("time"),o.mapDimension("value")],z=c;z<d;z++){var A=void 0,B=o.getItemVisual(z,"style");if(k){var C=o.get(y[0],z),D=o.get(y[1],z);if(isNaN(o.get(y[2],z))||isNaN(C)||isNaN(D)||C<h[0]||C>h[1]||D<i[0]||D>i[1])continue;var E=j.dataToPoint([C,D]);A=new gy({shape:{x:E[0]-f/2,y:E[1]-g/2,width:f,height:g},style:B})}else{if(isNaN(o.get(y[1],z)))continue;A=new gy({z2:1,shape:j.dataToRect([o.get(y[0],z)]).contentShape,style:B})}if(o.hasItemOption){var F=o.getItemModel(z),G=F.getModel("emphasis");p=G.getModel("itemStyle").getItemStyle(),q=F.getModel(["blur","itemStyle"]).getItemStyle(),r=F.getModel(["select","itemStyle"]).getItemStyle(),s=F.get(["itemStyle","borderRadius"]),v=G.get("focus"),w=G.get("blurScope"),x=G.get("disabled"),t=hJ(F)}A.shape.r=s;var H=a.getRawValue(z),I="-";H&&null!=H[2]&&(I=H[2]+""),hI(A,t,{labelFetcher:a,labelDataIndex:z,defaultOpacity:B.opacity,defaultText:I}),A.ensureState("emphasis").style=p,A.ensureState("blur").style=q,A.ensureState("select").style=r,hm(A,v,w,x),A.incremental=e,e&&(A.states.emphasis.hoverLayer=!0),n.add(A),o.setItemGraphicEl(z,A),this._progressiveEls&&this._progressiveEls.push(A)}},b.prototype._renderOnGeo=function(a,b,c,d){var e,f,g,h,i,j,k,l=c.targetVisuals.inRange,m=c.targetVisuals.outOfRange,n=b.getData(),o=this._hmLayer||this._hmLayer||new y_;o.blurSize=b.get("blurSize"),o.pointSize=b.get("pointSize"),o.minOpacity=b.get("minOpacity"),o.maxOpacity=b.get("maxOpacity");var p=a.getViewRect().clone(),q=a.getRoamTransform();p.applyTransform(q);var r=Math.max(p.x,0),s=Math.max(p.y,0),t=Math.min(p.width+p.x,d.getWidth()),u=Math.min(p.height+p.y,d.getHeight()),v=t-r,w=u-s,x=[n.mapDimension("lng"),n.mapDimension("lat"),n.mapDimension("value")],y=n.mapArray(x,function(b,c,d){var e=a.dataToPoint([b,c]);return e[0]-=r,e[1]-=s,e.push(d),e}),z=c.getExtent(),A="visualMap.continuous"===c.type?(e=c.option.range,f=z[1]-z[0],e=[(e[0]-z[0])/f,(e[1]-z[0])/f],function(a){return a>=e[0]&&a<=e[1]}):(g=c.getPieceList(),h=c.option.selected,i=z[1]-z[0],j=(g=aI(g,function(a){return{interval:[(a.interval[0]-z[0])/i,(a.interval[1]-z[0])/i]}})).length,k=0,function(a){var b;for(b=k;b<j;b++){var c=g[b].interval;if(c[0]<=a&&a<=c[1]){k=b;break}}if(b===j)for(b=k-1;b>=0;b--){var c=g[b].interval;if(c[0]<=a&&a<=c[1]){k=b;break}}return b>=0&&b<j&&h[b]});o.update(y,v,w,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:m.color.getColorMapper()},A);var B=new gr({style:{width:v,height:w,x:r,y:s,image:o.canvas},silent:!0});this.group.add(B)},b.type="heatmap",b}(ms),y2=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.getInitialData=function(a,b){return pF(null,this,{generateCoord:"value"})},b.prototype.preventIncremental=function(){var a=js.get(this.get("coordinateSystem"));if(a&&a.dimensions)return"lng"===a.dimensions[0]&&"lat"===a.dimensions[1]},b.type="series.heatmap",b.dependencies=["grid","geo","calendar"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},b}(kR),y3=["itemStyle","borderWidth"],y4=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],y5=new s5.Circle,y6=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=this.group,e=a.getData(),f=this._data,g=a.coordinateSystem,h=g.getBaseAxis().isHorizontal(),i=g.master.getRect(),j={ecSize:{width:c.getWidth(),height:c.getHeight()},seriesModel:a,coordSys:g,coordSysExtent:[[i.x,i.x+i.width],[i.y,i.y+i.height]],isHorizontal:h,valueDim:y4[+h],categoryDim:y4[1-h]};e.diff(f).add(function(a){if(e.hasValue(a)){var b=ze(e,a),c=y7(e,a,b,j),f=zh(e,j,c);e.setItemGraphicEl(a,f),d.add(f),zm(f,j,c)}}).update(function(a,b){var c,g,h,i,k,l,m=f.getItemGraphicEl(b);if(!e.hasValue(a))return void d.remove(m);var n=ze(e,a),o=y7(e,a,n,j),p=zj(e,o);m&&p!==m.__pictorialShapeStr&&(d.remove(m),e.setItemGraphicEl(a,null),m=null),m?(c=m,g=j,i=(h=o).animationModel,k=h.dataIndex,l=c.__pictorialBundle,s5.updateProps(l,{x:h.bundlePosition[0],y:h.bundlePosition[1]},i,k),h.symbolRepeat?za(c,g,h,!0):zb(c,g,h,!0),zc(c,h,!0),zd(c,g,h,!0)):m=zh(e,j,o,!0),e.setItemGraphicEl(a,m),m.__pictorialSymbolMeta=o,d.add(m),zm(m,j,o)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&zi(f,a,b.__pictorialSymbolMeta.animationModel,b)}).execute();var k=a.get("clip",!0)?p2(a.coordinateSystem,!1,a):null;return k?d.setClipPath(k):d.removeClipPath(),this._data=e,this.group},b.prototype.remove=function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){zi(d,gO(b).dataIndex,a,b)}):c.removeAll()},b.type="pictorialBar",b}(ms);function y7(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=a.getItemLayout(b),A=c.get("symbolRepeat"),B=c.get("symbolClip"),C=c.get("symbolPosition")||"start",D=(c.get("symbolRotate")||0)*Math.PI/180||0,E=c.get("symbolPatternSize")||2,F=c.isAnimationEnabled(),G={dataIndex:b,layout:z,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",style:a.getItemVisual(b,"style"),symbolClip:B,symbolRepeat:A,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:E,rotation:D,animationModel:F?c:null,hoverScale:F&&c.get(["emphasis","scale"]),z2:c.getShallow("z",!0)||0};(function(a,b,c,d,e){var f,g=d.valueDim,h=a.get("symbolBoundingData"),i=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),j=i.toGlobalCoord(i.dataToCoord(0)),k=1-(c[g.wh]<=0);if(aO(h)){var l=[y8(i,h[0])-j,y8(i,h[1])-j];l[1]<l[0]&&l.reverse(),f=l[k]}else f=null!=h?y8(i,h)-j:b?d.coordSysExtent[g.index][k]-j:c[g.wh];e.boundingLength=f,b&&(e.repeatCutLength=c[g.wh]),e.pxSign=f>0?1:-1})(c,A,z,d,G),e=a,f=b,g=z,h=A,i=G.boundingLength,j=G.pxSign,k=E,l=d,m=G,o=l.valueDim,q=Math.abs(g[(p=l.categoryDim).wh]),(n=aO(r=e.getItemVisual(f,"symbolSize"))?r.slice():null==r?["100%","100%"]:[r,r])[p.index]=es(n[p.index],q),n[o.index]=es(n[o.index],h?q:Math.abs(i)),m.symbolSize=n,s=m.symbolScale=[n[0]/k,n[1]/k],s[o.index]*=(l.isHorizontal?-1:1)*j,t=c,u=G.symbolScale,v=D,w=d,x=G,(y=t.get(y3)||0)&&(y5.attr({scaleX:u[0],scaleY:u[1],rotation:v}),y5.updateTransform(),y/=y5.getLineScale(),y*=u[w.valueDim.index]),x.valueLineWidth=y||0;var H=G.symbolSize,I=no(c.get("symbolOffset"),H);return function(a,b,c,d,e,f,g,h,i,j,k,l){var m=k.categoryDim,n=k.valueDim,o=l.pxSign,p=Math.max(b[n.index]+h,0),q=p;if(d){var r=Math.abs(i),s=aY(a.get("symbolMargin"),"15%")+"",t=!1;s.lastIndexOf("!")===s.length-1&&(t=!0,s=s.slice(0,s.length-1));var u=es(s,b[n.index]),v=Math.max(p+2*u,0),w=t?0:2*u,x=eK(d),y=x?d:zn((r+w)/v);u=(r-y*p)/2/(t?y:Math.max(y-1,1)),v=p+2*u,w=t?0:2*u,x||"fixed"===d||(y=j?zn((Math.abs(j)+w)/v):0),q=y*v-w,l.repeatTimes=y,l.symbolMargin=u}var z=q/2*o,A=l.pathPosition=[];A[m.index]=c[m.wh]/2,A[n.index]="start"===g?z:"end"===g?i-z:i/2,f&&(A[0]+=f[0],A[1]+=f[1]);var B=l.bundlePosition=[];B[m.index]=c[m.xy],B[n.index]=c[n.xy];var C=l.barRectShape=aC({},c);C[n.wh]=o*Math.max(Math.abs(c[n.wh]),Math.abs(A[n.index]+z)),C[m.wh]=c[m.wh];var D=l.clipShape={};D[m.xy]=-c[m.xy],D[m.wh]=k.ecSize[m.wh],D[n.xy]=0,D[n.wh]=c[n.wh]}(c,H,z,A,0,I,C,G.valueLineWidth,G.boundingLength,G.repeatCutLength,d,G),G}function y8(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function y9(a){var b=a.symbolPatternSize,c=nm(a.symbolType,-b/2,-b/2,b,b);return c.attr({culling:!0}),"image"!==c.type&&c.setStyle({strokeNoScale:!0}),c}function za(a,b,c,d){var e=a.__pictorialBundle,f=c.symbolSize,g=c.valueLineWidth,h=c.pathPosition,i=b.valueDim,j=c.repeatTimes||0,k=0,l=f[b.valueDim.index]+g+2*c.symbolMargin;for(zk(a,function(a){a.__pictorialAnimationIndex=k,a.__pictorialRepeatTimes=j,k<j?zl(a,null,o(k),c,d):zl(a,null,{scaleX:0,scaleY:0},c,d,function(){e.remove(a)}),k++});k<j;k++){var m=y9(c);m.__pictorialAnimationIndex=k,m.__pictorialRepeatTimes=j,e.add(m);var n=o(k);zl(m,{x:n.x,y:n.y,scaleX:0,scaleY:0},{scaleX:n.scaleX,scaleY:n.scaleY,rotation:n.rotation},c,d)}function o(a){var b=h.slice(),d=c.pxSign,e=a;return("start"===c.symbolRepeatDirection?d>0:d<0)&&(e=j-1-a),b[i.index]=l*(e-j/2+.5)+h[i.index],{x:b[0],y:b[1],scaleX:c.symbolScale[0],scaleY:c.symbolScale[1],rotation:c.rotation}}}function zb(a,b,c,d){var e=a.__pictorialBundle,f=a.__pictorialMainPath;f?zl(f,null,{x:c.pathPosition[0],y:c.pathPosition[1],scaleX:c.symbolScale[0],scaleY:c.symbolScale[1],rotation:c.rotation},c,d):(f=a.__pictorialMainPath=y9(c),e.add(f),zl(f,{x:c.pathPosition[0],y:c.pathPosition[1],scaleX:0,scaleY:0,rotation:c.rotation},{scaleX:c.symbolScale[0],scaleY:c.symbolScale[1]},c,d))}function zc(a,b,c){var d=aC({},b.barRectShape),e=a.__pictorialBarRect;e?zl(e,null,{shape:d},b,c):((e=a.__pictorialBarRect=new s5.Rect({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,a.add(e))}function zd(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,f=aC({},c.clipShape),g=b.valueDim,h=c.animationModel,i=c.dataIndex;if(e)s5.updateProps(e,{shape:f},h,i);else{f[g.wh]=0,e=new s5.Rect({shape:f}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e;var j={};j[g.wh]=c.clipShape[g.wh],s5[d?"updateProps":"initProps"](e,{shape:j},h,i)}}}function ze(a,b){var c=a.getItemModel(b);return c.getAnimationDelayParams=zf,c.isAnimationEnabled=zg,c}function zf(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function zg(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function zh(a,b,c,d){var e=new s5.Group,f=new s5.Group;return e.add(f),e.__pictorialBundle=f,f.x=c.bundlePosition[0],f.y=c.bundlePosition[1],c.symbolRepeat?za(e,b,c):zb(e,b,c),zc(e,c,d),zd(e,b,c,d),e.__pictorialShapeStr=zj(a,c),e.__pictorialSymbolMeta=c,e}function zi(a,b,c,d){var e=d.__pictorialBarRect;e&&e.removeTextContent();var f=[];zk(d,function(a){f.push(a)}),d.__pictorialMainPath&&f.push(d.__pictorialMainPath),d.__pictorialClipPath&&(c=null),aH(f,function(a){s5.removeElement(a,{scaleX:0,scaleY:0},c,b,function(){d.parent&&d.parent.remove(d)})}),a.setItemGraphicEl(b,null)}function zj(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function zk(a,b,c){aH(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function zl(a,b,c,d,e,f){b&&a.attr(b),d.symbolClip&&!e?c&&a.attr(c):c&&s5[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,f)}function zm(a,b,c){var d=c.dataIndex,e=c.itemModel,f=e.getModel("emphasis"),g=f.getModel("itemStyle").getItemStyle(),h=e.getModel(["blur","itemStyle"]).getItemStyle(),i=e.getModel(["select","itemStyle"]).getItemStyle(),j=e.getShallow("cursor"),k=f.get("focus"),l=f.get("blurScope"),m=f.get("scale");zk(a,function(a){if(a instanceof gr){var b=a.style;a.useStyle(aC({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},c.style))}else a.useStyle(c.style);var d=a.ensureState("emphasis");d.style=g,m&&(d.scaleX=1.1*a.scaleX,d.scaleY=1.1*a.scaleY),a.ensureState("blur").style=h,a.ensureState("select").style=i,j&&(a.cursor=j),a.z2=c.z2});var n=b.valueDim.posDesc[+(c.boundingLength>0)],o=a.__pictorialBarRect;o.ignoreClip=!0,hI(o,hJ(e),{labelFetcher:b.seriesModel,labelDataIndex:d,defaultText:pH(b.seriesModel.getData(),d),inheritColor:c.style.fill,defaultOpacity:c.style.opacity,defaultOutsidePosition:n}),hm(a,k,l,f.get("disabled"))}function zn(a){var b=Math.round(a);return 1e-4>Math.abs(a-b)?b:Math.ceil(a)}var zo=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c.defaultSymbol="roundRect",c}return af(b,a),b.prototype.getInitialData=function(b){return b.stack=null,a.prototype.getInitialData.apply(this,arguments)},b.type="series.pictorialBar",b.dependencies=["grid"],b.defaultOption=h5(qr.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),b}(qr),zp=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._layers=[],c}return af(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this,f=this.group,g=a.getLayerSeries(),h=d.getLayout("layoutInfo"),i=h.rect,j=h.boundaryGap;function k(a){return a.name}f.x=0,f.y=i.y+j[0];var l=new pj(this._layersSeries||[],g,k,k),m=[];function n(b,c,h){var i,j,k=e._layers;if("remove"===b)return void f.remove(k[c]);for(var l=[],n=[],o=g[c].indices,p=0;p<o.length;p++){var q=d.getItemLayout(o[p]),r=q.x,s=q.y0,t=q.y;l.push(r,s),n.push(r,s+t),i=d.getItemVisual(o[p],"style")}var u=d.getItemLayout(o[0]),v=a.getModel("label").get("margin"),w=a.getModel("emphasis");if("add"===b){var x,y,z,A,B=m[c]=new em;j=new p_({shape:{points:l,stackedOnPoints:n,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),B.add(j),f.add(B),a.isAnimationEnabled()&&j.setClipPath((x=j.getBoundingRect(),y=a,z=function(){j.removeClipPath()},hz(A=new gy({shape:{x:x.x-10,y:x.y-10,width:0,height:x.height+20}}),{shape:{x:x.x-50,width:x.width+100,height:x.height+20}},y,z),A))}else{var B=k[h];j=B.childAt(0),f.add(B),m[c]=B,hy(j,{shape:{points:l,stackedOnPoints:n}},a),hE(j)}hI(j,hJ(a),{labelDataIndex:o[p-1],defaultText:d.getName(o[p-1]),inheritColor:i.fill},{normal:{verticalAlign:"middle"}}),j.setTextConfig({position:null,local:!0});var C=j.getTextContent();C&&(C.x=u.x-v,C.y=u.y0+u.y/2),j.useStyle(i),d.setItemGraphicEl(c,j),hq(j,a),hm(j,w.get("focus"),w.get("blurScope"),w.get("disabled"))}l.add(aM(n,this,"add")).update(aM(n,this,"update")).remove(aM(n,this,"remove")).execute(),this._layersSeries=g,this._layers=m},b.type="themeRiver",b}(ms),zq=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new ro(aM(this.getData,this),aM(this.getRawData,this))},b.prototype.fixData=function(a){var b=a.length,c={},d=e5(a,function(a){return c.hasOwnProperty(a[0]+"")||(c[a[0]+""]=-1),a[2]}),e=[];d.buckets.each(function(a,b){e.push({name:b,dataList:a})});for(var f=e.length,g=0;g<f;++g){for(var h=e[g].name,i=0;i<e[g].dataList.length;++i){var j=e[g].dataList[i][0]+"";c[j]=g}for(var j in c)c.hasOwnProperty(j)&&c[j]!==g&&(c[j]=g,a[b]=[j,0,h],b++)}return a},b.prototype.getInitialData=function(a,b){for(var c=this.getReferringComponents("singleAxis",e2).models[0].get("type"),d=aK(a.data,function(a){return void 0!==a[2]}),e=this.fixData(d||[]),f=[],g=this.nameMap=a7(),h=0,i=0;i<e.length;++i)f.push(e[i][2]),!g.get(e[i][2])&&(g.set(e[i][2],h),h++);var j=new py(pz(e,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:pm(c)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,this);return j.initData(e),j},b.prototype.getLayerSeries=function(){for(var a=this.getData(),b=a.count(),c=[],d=0;d<b;++d)c[d]=d;var e=a.mapDimension("single"),f=e5(c,function(b){return a.get("name",b)}),g=[];return f.buckets.each(function(b,c){b.sort(function(b,c){return a.get(e,b)-a.get(e,c)}),g.push({name:c,indices:b})}),g},b.prototype.getAxisTooltipData=function(a,b,c){aO(a)||(a=a?[a]:[]);for(var d,e=this.getData(),f=this.getLayerSeries(),g=[],h=f.length,i=0;i<h;++i){for(var j=Number.MAX_VALUE,k=-1,l=f[i].indices.length,m=0;m<l;++m){var n=e.get(a[0],f[i].indices[m]),o=Math.abs(n-b);o<=j&&(d=n,j=o,k=f[i].indices[m])}g.push(k)}return{dataIndices:g,nestestValue:d}},b.prototype.formatTooltip=function(a,b,c){var d=this.getData();return kD("nameValue",{name:d.getName(a),value:d.get(d.mapDimension("value"),a)})},b.type="series.themeRiver",b.dependencies=["singleAxis"],b.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},b}(kR);function zr(a,b){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.coordinateSystem,d={},e=c.getRect();d.rect=e;var f=a.get("boundaryGap"),g=c.getAxis();d.boundaryGap=f,"horizontal"===g.orient?(f[0]=es(f[0],e.height),f[1]=es(f[1],e.height),zs(b,a,e.height-f[0]-f[1])):(f[0]=es(f[0],e.width),f[1]=es(f[1],e.width),zs(b,a,e.width-f[0]-f[1])),b.setLayout("layoutInfo",d)})}function zs(a,b,c){if(a.count())for(var d,e=b.coordinateSystem,f=b.getLayerSeries(),g=a.mapDimension("single"),h=a.mapDimension("value"),i=aI(f,function(b){return aI(b.indices,function(b){var c=e.dataToPoint(a.get(g,b));return c[1]=a.get(h,b),c})}),j=function(a){for(var b=a.length,c=a[0].length,d=[],e=[],f=0,g=0;g<c;++g){for(var h=0,i=0;i<b;++i)h+=a[i][g][1];h>f&&(f=h),d.push(h)}for(var j=0;j<c;++j)e[j]=(f-d[j])/2;f=0;for(var k=0;k<c;++k){var l=d[k]+e[k];l>f&&(f=l)}return{y0:e,max:f}}(i),k=j.y0,l=c/j.max,m=f.length,n=f[0].indices.length,o=0;o<n;++o){d=k[o]*l,a.setItemLayout(f[0].indices[o],{layerIndex:0,x:i[0][o][0],y0:d,y:i[0][o][1]*l});for(var p=1;p<m;++p)d+=i[p-1][o][1]*l,a.setItemLayout(f[p].indices[o],{layerIndex:p,x:i[p][o][0],y0:d,y:i[p][o][1]*l})}}var zt=function(a){function b(b,c,d,e){var f=a.call(this)||this;f.z2=2,f.textConfig={inside:!0},gO(f).seriesIndex=c.seriesIndex;var g=new gB({z2:4,silent:b.getModel().get(["label","silent"])});return f.setTextContent(g),f.updateData(!0,b,c,d,e),f}return af(b,a),b.prototype.updateData=function(a,b,c,d,e){this.node=b,b.piece=this,c=c||this._seriesModel,d=d||this._ecModel;var f=this;gO(f).dataIndex=b.dataIndex;var g=b.getModel(),h=g.getModel("emphasis"),i=b.getLayout(),j=aC({},i);j.label=null;var k=b.getVisual("style");k.lineJoin="bevel";var l=b.getVisual("decal");l&&(k.decal=nN(l,e));var m=qx(g.getModel("itemStyle"),j,!0);aC(j,m),aH(gU,function(a){var b=f.ensureState(a),c=g.getModel([a,"itemStyle"]);b.style=c.getItemStyle();var d=qx(c,j);d&&(b.shape=d)}),a?(f.setShape(j),f.shape.r=i.r0,hz(f,{shape:{r:i.r}},c,b.dataIndex)):(hy(f,{shape:j},c),hE(f)),f.useStyle(k),this._updateLabel(c);var n=g.getShallow("cursor");n&&f.attr("cursor",n),this._seriesModel=c||this._seriesModel,this._ecModel=d||this._ecModel;var o=h.get("focus");hm(this,"ancestor"===o?b.getAncestorsIndices():"descendant"===o?b.getDescendantIndices():o,h.get("blurScope"),h.get("disabled"))},b.prototype._updateLabel=function(a){var b=this,c=this.node.getModel(),d=c.getModel("label"),e=this.node.getLayout(),f=e.endAngle-e.startAngle,g=(e.startAngle+e.endAngle)/2,h=Math.cos(g),i=Math.sin(g),j=this,k=j.getTextContent(),l=this.node.dataIndex,m=d.get("minAngle")/180*Math.PI;function n(a,b){var c=a.get(b);return null==c?d.get(b):c}k.ignore=!(d.get("show")&&!(null!=m&&Math.abs(f)<m)),aH(gV,function(d){var m,o="normal"===d?c.getModel("label"):c.getModel([d,"label"]),p="normal"===d,q=p?k:k.ensureState(d),r=a.getFormattedLabel(l,d);p&&(r=r||b.node.name),q.style=hK(o,{},null,"normal"!==d,!0),r&&(q.style.text=r);var s=o.get("show");null==s||p||(q.ignore=!s);var t=n(o,"position"),u=p?j:j.states[d],v=u.style.fill;u.textConfig={outsideFill:"inherit"===o.get("color")?v:null,inside:"outside"!==t};var w=n(o,"distance")||0,x=n(o,"align"),y=n(o,"rotate"),z=.5*Math.PI,A=1.5*Math.PI,B=gb("tangential"===y?Math.PI/2-g:g),C=B>z&&!eB(B-z)&&B<A;"outside"===t?(m=e.r+w,x=C?"right":"left"):x&&"center"!==x?"left"===x?(m=e.r0+w,x=C?"right":"left"):"right"===x&&(m=e.r-w,x=C?"left":"right"):(m=f===2*Math.PI&&0===e.r0?0:(e.r+e.r0)/2,x="center"),q.style.align=x,q.style.verticalAlign=n(o,"verticalAlign")||"middle",q.x=m*h+e.cx,q.y=m*i+e.cy;var D=0;"radial"===y?D=gb(-g)+(C?Math.PI:0):"tangential"===y?D=gb(Math.PI/2-g)+(C?Math.PI:0):aS(y)&&(D=y*Math.PI/180),q.rotation=gb(D)}),k.dirtyStyle()},b}(ly),zu="sunburstRootToNode",zv="sunburstHighlight",zw=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c,d){var e,f,g=this;this.seriesModel=a,this.api=c,this.ecModel=b;var h=a.getData(),i=h.tree.root,j=a.getViewRoot(),k=this.group,l=a.get("renderLabelForZeroData"),m=[];j.eachNode(function(a){m.push(a)}),function(d,e){function f(a){return a.getId()}function g(f,g){!function(d,e){if(l||!d||d.getValue()||(d=null),d!==i&&e!==i){if(e&&e.piece){var f;d?(e.piece.updateData(!1,d,a,b,c),h.setItemGraphicEl(d.dataIndex,e.piece)):(f=e)&&f.piece&&(k.remove(f.piece),f.piece=null)}else if(d){var g=new zt(d,a,b,c);k.add(g),h.setItemGraphicEl(d.dataIndex,g)}}}(null==f?null:d[f],null==g?null:e[g])}(0!==d.length||0!==e.length)&&new pj(e,d,f,f).add(g).update(g).remove(aN(g,null)).execute()}(m,this._oldChildren||[]),e=i,(f=j).depth>0?(g.virtualPiece?g.virtualPiece.updateData(!1,e,a,b,c):(g.virtualPiece=new zt(e,a,b,c),k.add(g.virtualPiece)),f.piece.off("click"),g.virtualPiece.on("click",function(a){g._rootToNode(f.parentNode)})):g.virtualPiece&&(k.remove(g.virtualPiece),g.virtualPiece=null),this._initEvents(),this._oldChildren=m},b.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(b){var c=!1;a.seriesModel.getViewRoot().eachNode(function(d){if(!c&&d.piece&&d.piece===b.target){var e=d.getModel().get("nodeClick");if("rootToNode"===e)a._rootToNode(d);else if("link"===e){var f=d.getModel(),g=f.get("link");g&&iJ(g,f.get("target",!0)||"_blank")}c=!0}})})},b.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:zu,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},b.prototype.containPoint=function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,f=Math.sqrt(d*d+e*e);return f<=c.r&&f>=c.r0}},b.type="sunburst",b}(ms),zx=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.ignoreStyleOnData=!0,c}return af(b,a),b.prototype.getInitialData=function(a,b){var c={name:a.name,children:a.data};!function a(b){var c=0;aH(b.children,function(b){a(b);var d=b.value;aO(d)&&(d=d[0]),c+=d});var d=b.value;aO(d)&&(d=d[0]),(null==d||isNaN(d))&&(d=c),d<0&&(d=0),aO(b.value)?b.value[0]=d:b.value=d}(c);var d=this._levelModels=aI(a.levels||[],function(a){return new h2(a,this,b)},this),e=u4.createTree(c,this,function(a){a.wrapMethod("getItemModel",function(a,b){var c=d[e.getNodeByDataIndex(b).depth];return c&&(a.parentModel=c),a})});return e.data},b.prototype.optionUpdated=function(){this.resetViewRoot()},b.prototype.getDataParams=function(b){var c=a.prototype.getDataParams.apply(this,arguments);return c.treePathInfo=u8(this.getData().tree.getNodeByDataIndex(b),this),c},b.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},b.prototype.getViewRoot=function(){return this._viewRoot},b.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)},b.prototype.enableAriaDecal=function(){ve(this)},b.type="series.sunburst",b.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},b}(kR),zy=Math.PI/180;function zz(a,b,c){b.eachSeriesByType(a,function(a){var b=a.get("center"),d=a.get("radius");aO(d)||(d=[0,d]),aO(b)||(b=[b,b]);var e=c.getWidth(),f=c.getHeight(),g=Math.min(e,f),h=es(b[0],e),i=es(b[1],f),j=es(d[0],g/2),k=es(d[1],g/2),l=-a.get("startAngle")*zy,m=a.get("minAngle")*zy,n=a.getData().tree.root,o=a.getViewRoot(),p=o.depth,q=a.get("sort");null!=q&&function a(b,c){var d=b.children||[];b.children=function(a,b){if(aP(b)){var c=aI(a,function(a,b){var c=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return c}},index:b}});return c.sort(function(a,c){return b(a.params,c.params)}),aI(c,function(b){return a[b.index]})}var d="asc"===b;return a.sort(function(a,b){var c=(a.getValue()-b.getValue())*(d?1:-1);return 0===c?(a.dataIndex-b.dataIndex)*(d?-1:1):c})}(d,c),d.length&&aH(b.children,function(b){a(b,c)})}(o,q);var r=0;aH(o.children,function(a){!isNaN(a.getValue())&&r++});var s=o.getValue(),t=Math.PI/(s||r)*2,u=o.depth>0,v=(k-j)/(o.height-(u?-1:1)||1),w=a.get("clockwise"),x=a.get("stillShowZeroSum"),y=w?1:-1,z=function(b,c){if(b){var d=c;if(b!==n){var e=b.getValue(),f=0===s&&x?t:e*t;f<m&&(f=m),d=c+y*f;var k=b.depth-p-(u?-1:1),l=j+v*k,o=j+v*(k+1),q=a.getLevelModel(b);if(q){var r=q.get("r0",!0),A=q.get("r",!0),B=q.get("radius",!0);null!=B&&(r=B[0],A=B[1]),null!=r&&(l=es(r,g/2)),null!=A&&(o=es(A,g/2))}b.setLayout({angle:f,startAngle:c,endAngle:d,clockwise:w,cx:h,cy:i,r0:l,r:o})}if(b.children&&b.children.length){var C=0;aH(b.children,function(a){C+=z(a,c+C)})}return d-c}};if(u){var A=2*Math.PI;n.setLayout({angle:A,startAngle:l,endAngle:l+A,clockwise:w,cx:h,cy:i,r0:j,r:j+v})}z(o,l)})}function zA(a){var b={};a.eachSeriesByType("sunburst",function(a){var c=a.getData(),d=c.tree;d.eachNode(function(e){var f=e.getModel().getModel("itemStyle").getItemStyle();f.fill||(f.fill=function(a,c,d){for(var e=a;e&&e.depth>1;)e=e.parentNode;var f=c.getColorFromPalette(e.name||e.dataIndex+"",b);return a.depth>1&&aQ(f)&&(f=c5(f,(a.depth-1)/(d-1)*.5)),f}(e,a,d.root.height)),aC(c.ensureUniqueItemVisual(e.dataIndex,"style"),f)})})}var zB={color:"fill",borderColor:"stroke"},zC={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},zD=e$(),zE=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},b.prototype.getInitialData=function(a,b){return pF(null,this)},b.prototype.getDataParams=function(b,c,d){var e=a.prototype.getDataParams.call(this,b,c);return d&&(e.info=zD(d).info),e},b.type="series.custom",b.dependencies=["grid","polar","geo","singleAxis","calendar"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},b}(kR);function zF(a,b){return b=b||[0,0],aI(["x","y"],function(c,d){var e=this.getAxis(c),f=b[d],g=a[d]/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(f-g)-e.dataToCoord(f+g))},this)}function zG(a,b){return b=b||[0,0],aI([0,1],function(c){var d=b[c],e=a[c]/2,f=[],g=[];return f[c]=d-e,g[c]=d+e,f[1-c]=g[1-c]=b[1-c],Math.abs(this.dataToPoint(f)[c]-this.dataToPoint(g)[c])},this)}function zH(a,b){var c=this.getAxis(),d=b instanceof Array?b[0]:b,e=(a instanceof Array?a[0]:a)/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(d-e)-c.dataToCoord(d+e))}function zI(a,b){return b=b||[0,0],aI(["Radius","Angle"],function(c,d){var e=this["get"+c+"Axis"](),f=b[d],g=a[d]/2,h="category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(f-g)-e.dataToCoord(f+g));return"Angle"===c&&(h=h*Math.PI/180),h},this)}function zJ(a,b,c,d){return a&&(a.legacy||!1!==a.legacy&&!c&&!d&&"tspan"!==b&&("text"===b||bb(a,"text")))}function zK(a,b,c){var d,e,f;if("text"===b)f=a;else{f={},bb(a,"text")&&(f.text=a.text),bb(a,"rich")&&(f.rich=a.rich),bb(a,"textFill")&&(f.fill=a.textFill),bb(a,"textStroke")&&(f.stroke=a.textStroke),bb(a,"fontFamily")&&(f.fontFamily=a.fontFamily),bb(a,"fontSize")&&(f.fontSize=a.fontSize),bb(a,"fontStyle")&&(f.fontStyle=a.fontStyle),bb(a,"fontWeight")&&(f.fontWeight=a.fontWeight),e={type:"text",style:f,silent:!0},d={};var g=bb(a,"textPosition");c?d.position=g?a.textPosition:"inside":g&&(d.position=a.textPosition),bb(a,"textPosition")&&(d.position=a.textPosition),bb(a,"textOffset")&&(d.offset=a.textOffset),bb(a,"textRotation")&&(d.rotation=a.textRotation),bb(a,"textDistance")&&(d.distance=a.textDistance)}return zL(f,a),aH(f.rich,function(a){zL(a,a)}),{textConfig:d,textContent:e}}function zL(a,b){b&&(b.font=b.textFont||b.font,bb(b,"textStrokeWidth")&&(a.lineWidth=b.textStrokeWidth),bb(b,"textAlign")&&(a.align=b.textAlign),bb(b,"textVerticalAlign")&&(a.verticalAlign=b.textVerticalAlign),bb(b,"textLineHeight")&&(a.lineHeight=b.textLineHeight),bb(b,"textWidth")&&(a.width=b.textWidth),bb(b,"textHeight")&&(a.height=b.textHeight),bb(b,"textBackgroundColor")&&(a.backgroundColor=b.textBackgroundColor),bb(b,"textPadding")&&(a.padding=b.textPadding),bb(b,"textBorderColor")&&(a.borderColor=b.textBorderColor),bb(b,"textBorderWidth")&&(a.borderWidth=b.textBorderWidth),bb(b,"textBorderRadius")&&(a.borderRadius=b.textBorderRadius),bb(b,"textBoxShadowColor")&&(a.shadowColor=b.textBoxShadowColor),bb(b,"textBoxShadowBlur")&&(a.shadowBlur=b.textBoxShadowBlur),bb(b,"textBoxShadowOffsetX")&&(a.shadowOffsetX=b.textBoxShadowOffsetX),bb(b,"textBoxShadowOffsetY")&&(a.shadowOffsetY=b.textBoxShadowOffsetY))}function zM(a,b,c){a.textPosition=a.textPosition||c.position||"inside",null!=c.offset&&(a.textOffset=c.offset),null!=c.rotation&&(a.textRotation=c.rotation),null!=c.distance&&(a.textDistance=c.distance);var d=a.textPosition.indexOf("inside")>=0,e=a.fill||"#000";zN(a,b);var f=null==a.textFill;return d?f&&(a.textFill=c.insideFill||"#fff",!a.textStroke&&c.insideStroke&&(a.textStroke=c.insideStroke),a.textStroke||(a.textStroke=e),null==a.textStrokeWidth&&(a.textStrokeWidth=2)):(f&&(a.textFill=a.fill||c.outsideFill||"#000"),!a.textStroke&&c.outsideStroke&&(a.textStroke=c.outsideStroke)),a.text=b.text,a.rich=b.rich,aH(b.rich,function(a){zN(a,a)}),a}function zN(a,b){b&&(bb(b,"fill")&&(a.textFill=b.fill),bb(b,"stroke")&&(a.textStroke=b.fill),bb(b,"lineWidth")&&(a.textStrokeWidth=b.lineWidth),bb(b,"font")&&(a.font=b.font),bb(b,"fontStyle")&&(a.fontStyle=b.fontStyle),bb(b,"fontWeight")&&(a.fontWeight=b.fontWeight),bb(b,"fontSize")&&(a.fontSize=b.fontSize),bb(b,"fontFamily")&&(a.fontFamily=b.fontFamily),bb(b,"align")&&(a.textAlign=b.align),bb(b,"verticalAlign")&&(a.textVerticalAlign=b.verticalAlign),bb(b,"lineHeight")&&(a.textLineHeight=b.lineHeight),bb(b,"width")&&(a.textWidth=b.width),bb(b,"height")&&(a.textHeight=b.height),bb(b,"backgroundColor")&&(a.textBackgroundColor=b.backgroundColor),bb(b,"padding")&&(a.textPadding=b.padding),bb(b,"borderColor")&&(a.textBorderColor=b.borderColor),bb(b,"borderWidth")&&(a.textBorderWidth=b.borderWidth),bb(b,"borderRadius")&&(a.textBorderRadius=b.borderRadius),bb(b,"shadowColor")&&(a.textBoxShadowColor=b.shadowColor),bb(b,"shadowBlur")&&(a.textBoxShadowBlur=b.shadowBlur),bb(b,"shadowOffsetX")&&(a.textBoxShadowOffsetX=b.shadowOffsetX),bb(b,"shadowOffsetY")&&(a.textBoxShadowOffsetY=b.shadowOffsetY),bb(b,"textShadowColor")&&(a.textShadowColor=b.textShadowColor),bb(b,"textShadowBlur")&&(a.textShadowBlur=b.textShadowBlur),bb(b,"textShadowOffsetX")&&(a.textShadowOffsetX=b.textShadowOffsetX),bb(b,"textShadowOffsetY")&&(a.textShadowOffsetY=b.textShadowOffsetY))}var zO={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},zP=aL(zO);aJ(d3,function(a,b){return a[b]=1,a},{}),d3.join(", ");var zQ=["","style","shape","extra"],zR=e$();function zS(a,b,c,d,e){var f=a+"Animation",g=hw(a,d,e)||{},h=zR(b).userDuring;return g.duration>0&&(g.during=h?aM(zZ,{el:b,userDuring:h}):null,g.setToFinal=!0,g.scope=a),aC(g,c[f]),g}function zT(a,b,c,d){var e,f,g=(d=d||{}).dataIndex,h=d.isInit,i=d.clearStyle,j=c.isAnimationEnabled(),k=zR(a),l=b.style;k.userDuring=b.during;var m={},n={};if(function(a,b,c){for(var d=0;d<zP.length;d++){var e=zP[d],f=zO[e],g=b[e];g&&(c[f[0]]=g[0],c[f[1]]=g[1])}for(var d=0;d<d3.length;d++){var h=d3[d];null!=b[h]&&(c[h]=b[h])}}(0,b,n),z_("shape",b,n),z_("extra",b,n),!h&&j&&(function(a,b,c){for(var d=b.transition,e=zW(d)?d3:eP(d||[]),f=0;f<e.length;f++){var g=e[f];if("style"!==g&&"shape"!==g&&"extra"!==g){var h=a[g];c[g]=h}}}(a,b,m),z$("shape",a,b,m),z$("extra",a,b,m),function(a,b,c,d){if(c){var e,f=a.style;if(f){var g=c.transition,h=b.transition;if(g&&!zW(g)){var i=eP(g);e||(e=d.style={});for(var j=0;j<i.length;j++){var k=i[j],l=f[k];e[k]=l}}else if(a.getAnimationStyleProps&&(zW(h)||zW(g)||aE(h,"style")>=0)){var m=a.getAnimationStyleProps(),n=m?m.style:null;if(n){e||(e=d.style={});for(var o=aL(c),j=0;j<o.length;j++){var k=o[j];if(n[k]){var l=f[k];e[k]=l}}}}}}}(a,b,l,m)),n.style=l,function(a,b,c){var d=b.style;if(!a.isGroup&&d){if(c){a.useStyle({});for(var e=a.animators,f=0;f<e.length;f++){var g=e[f];"style"===g.targetName&&g.changeTarget(a.style)}}a.setStyle(d)}b&&(b.style=null,b&&a.attr(b),b.style=d)}(a,n,i),e=a,bb(f=b,"silent")&&(e.silent=f.silent),bb(f,"ignore")&&(e.ignore=f.ignore),e instanceof fC&&bb(f,"invisible")&&(e.invisible=f.invisible),e instanceof gm&&bb(f,"autoBatch")&&(e.autoBatch=f.autoBatch),j)if(h){var o={};aH(zQ,function(a){var c=a?b[a]:b;c&&c.enterFrom&&(a&&(o[a]=o[a]||{}),aC(a?o[a]:o,c.enterFrom))});var p=zS("enter",a,b,c,g);p.duration>0&&a.animateFrom(o,p)}else{var q=a,r=b,s=g||0,t=c,u=m;if(u){var v=zS("update",q,r,t,s);v.duration>0&&q.animateFrom(u,v)}}zU(a,b),l?a.dirty():a.markRedraw()}function zU(a,b){for(var c=zR(a).leaveToProps,d=0;d<zQ.length;d++){var e=zQ[d],f=e?b[e]:b;f&&f.leaveTo&&(c||(c=zR(a).leaveToProps={}),e&&(c[e]=c[e]||{}),aC(e?c[e]:c,f.leaveTo))}}function zV(a,b,c,d){if(a){var e=a.parent,f=zR(a).leaveToProps;if(f){var g=zS("update",a,b,c,0);g.done=function(){e.remove(a),d&&d()},a.animateTo(f,g)}else e.remove(a),d&&d()}}function zW(a){return"all"===a}var zX={},zY={setTransform:function(a,b){return zX.el[a]=b,this},getTransform:function(a){return zX.el[a]},setShape:function(a,b){var c=zX.el;return(c.shape||(c.shape={}))[a]=b,c.dirtyShape&&c.dirtyShape(),this},getShape:function(a){var b=zX.el.shape;if(b)return b[a]},setStyle:function(a,b){var c=zX.el,d=c.style;return d&&(d[a]=b,c.dirtyStyle&&c.dirtyStyle()),this},getStyle:function(a){var b=zX.el.style;if(b)return b[a]},setExtra:function(a,b){return(zX.el.extra||(zX.el.extra={}))[a]=b,this},getExtra:function(a){var b=zX.el.extra;if(b)return b[a]}};function zZ(){var a=this.el;if(a){var b=zR(a).userDuring,c=this.userDuring;if(b!==c){this.el=this.userDuring=null;return}zX.el=a,c(zY)}}function z$(a,b,c,d){var e,f=c[a];if(f){var g=b[a];if(g){var h=c.transition,i=f.transition;if(i)if(e||(e=d[a]={}),zW(i))aC(e,g);else for(var j=eP(i),k=0;k<j.length;k++){var l=j[k],m=g[l];e[l]=m}else if(zW(h)||aE(h,a)>=0){e||(e=d[a]={});for(var n=aL(g),k=0;k<n.length;k++){var o,p,l=n[k],m=g[l];o=f[l],p=m,(aG(o)?o!==p:null!=o&&isFinite(o))&&(e[l]=m)}}}}}function z_(a,b,c){var d=b[a];if(d)for(var e=c[a]={},f=aL(d),g=0;g<f.length;g++){var h=f[g];e[h]=dx(d[h])}}var z0=e$(),z1=["percent","easing","shape","style","extra"];function z2(a){a.stopAnimation("keyframe"),a.attr(z0(a))}function z3(a,b,c){if(c.isAnimationEnabled()&&b){if(aO(b))return void aH(b,function(b){z3(a,b,c)});var d=b.keyframes,e=b.duration;if(c&&null==e){var f=hw("enter",c,0);e=f&&f.duration}if(d&&e){var g=z0(a);aH(zQ,function(c){var f;c&&!a[c]||(d.sort(function(a,b){return a.percent-b.percent}),aH(d,function(d){var h=a.animators,i=c?d[c]:d;if(i){var j=aL(i);if(c||(j=aK(j,function(a){return 0>aE(z1,a)})),j.length){f||((f=a.animate(c,b.loop,!0)).scope="keyframe");for(var k=0;k<h.length;k++)h[k]!==f&&h[k].targetName===f.targetName&&h[k].stopTracks(j);c&&(g[c]=g[c]||{});var l=c?g[c]:g;aH(j,function(b){l[b]=((c?a[c]:a)||{})[b]}),f.whenWithKeys(e*d.percent,i,j,d.easing)}}}),f&&f.delay(b.delay||0).duration(e).start(b.easing))})}}}var z4="emphasis",z5="normal",z6="blur",z7="select",z8=[z5,z4,z6,z7],z9={normal:["itemStyle"],emphasis:[z4,"itemStyle"],blur:[z6,"itemStyle"],select:[z7,"itemStyle"]},Aa={normal:["label"],emphasis:[z4,"label"],blur:[z6,"label"],select:[z7,"label"]},Ab=["x","y"],Ac={normal:{},emphasis:{},blur:{},select:{}},Ad={cartesian2d:function(a){var b=a.master.getRect();return{coordSys:{type:"cartesian2d",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(b){return a.dataToPoint(b)},size:aM(zF,a)}}},geo:function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height,zoom:a.getZoom()},api:{coord:function(b){return a.dataToPoint(b)},size:aM(zG,a)}}},single:function(a){var b=a.getRect();return{coordSys:{type:"singleAxis",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(b){return a.dataToPoint(b)},size:aM(zH,a)}}},polar:function(a){var b=a.getRadiusAxis(),c=a.getAngleAxis(),d=b.getExtent();return d[0]>d[1]&&d.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:d[1],r0:d[0]},api:{coord:function(d){var e=b.dataToRadius(d[0]),f=c.dataToAngle(d[1]),g=a.coordToPoint([e,f]);return g.push(e,f*Math.PI/180),g},size:aM(zI,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(b,c){return a.dataToPoint(b,c)}}}}};function Ae(a){return a instanceof gm}function Af(a){return a instanceof fC}var Ag=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c,d){this._progressiveEls=null;var e=this._data,f=a.getData(),g=this.group,h=Ak(a,f,b,c);e||g.removeAll(),f.diff(e).add(function(b){Al(c,null,b,h(b,d),a,g,f)}).remove(function(b){var c=e.getItemGraphicEl(b);c&&zV(c,zD(c).option,a)}).update(function(b,i){Al(c,e.getItemGraphicEl(i),b,h(b,d),a,g,f)}).execute();var i=a.get("clip",!0)?p2(a.coordinateSystem,!1,a):null;i?g.setClipPath(i):g.removeClipPath(),this._data=f},b.prototype.incrementalPrepareRender=function(a,b,c){this.group.removeAll(),this._data=null},b.prototype.incrementalRender=function(a,b,c,d,e){var f=b.getData(),g=Ak(b,f,c,d),h=this._progressiveEls=[];function i(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var j=a.start;j<a.end;j++){var k=Al(null,null,j,g(j,e),b,this.group,f);k&&(k.traverse(i),h.push(k))}},b.prototype.eachRendered=function(a){mp(this._progressiveEls||this.group,a)},b.prototype.filterForExposedEvent=function(a,b,c,d){var e=b.element;if(null==e||c.name===e)return!0;for(;(c=c.__hostTarget||c.parent)&&c!==this.group;)if(c.name===e)return!0;return!1},b.type="custom",b}(ms);function Ah(a){var b,c=a.type;if("path"===c){var d=a.shape,e=null!=d.width&&null!=d.height?{x:d.x||0,y:d.y||0,width:d.width,height:d.height}:null,f=Au(d);zD(b=l6(f,null,e,d.layout||"center")).customPathData=f}else if("image"===c)zD(b=new gr({})).customImagePath=a.style.image;else if("text"===c)b=new gB({});else if("group"===c)b=new em;else if("compoundPath"===c)throw Error('"compoundPath" is not supported yet.');else{var g=l5(c);g||jj(""),b=new g}return zD(b).customGraphicType=c,b.name=a.name,b.z2EmphasisLift=1,b.z2SelectLift=1,b}function Ai(a,b,c,d,e,f,g){z2(b);var h=e&&e.normal.cfg;h&&b.setTextConfig(h),d&&null==d.transition&&(d.transition=Ab);var i=d&&d.style;if(i){"text"===b.type&&(bb(i,"textFill")&&(i.fill=i.textFill),bb(i,"textStroke")&&(i.stroke=i.textStroke));var j=void 0,k=Ae(b)?i.decal:null;a&&k&&(k.dirty=!0,j=nN(k,a)),i.__decalPattern=j}if(Af(b)&&i){var j=i.__decalPattern;j&&(i.decal=j)}zT(b,d,f,{dataIndex:c,isInit:g,clearStyle:!0}),z3(b,d.keyframeAnimation,f)}function Aj(a,b,c,d,e){var f=b.isGroup?null:b,g=e&&e[a].cfg;if(f){var h=f.ensureState(a);if(!1===d){var i=f.getState(a);i&&(i.style=null)}else h.style=d||null;g&&(h.textConfig=g),ha(f)}}function Ak(a,b,c,d){var e,f,g,h,i=a.get("renderItem"),j=a.coordinateSystem,k={};j&&(k=j.prepareCustoms?j.prepareCustoms(j):Ad[j.type](j));for(var l=aD({getWidth:d.getWidth,getHeight:d.getHeight,getZr:d.getZr,getDevicePixelRatio:d.getDevicePixelRatio,value:function(a,c){return null==c&&(c=g),b.getStore().get(b.getDimensionIndex(a||0),c)},style:function(c,d){null==d&&(d=g);var e=b.getItemVisual(d,"style"),f=e&&e.fill,h=e&&e.opacity,i=u(d,z5).getItemStyle();null!=f&&(i.fill=f),null!=h&&(i.opacity=h);var j={inheritColor:aQ(f)?f:"#000"},k=v(d,z5),l=hK(k,null,j,!1,!0);l.text=k.getShallow("show")?aZ(a.getFormattedLabel(d,z5),pH(b,d)):null;var m=hL(k,j,!1);return x(c,i),i=zM(i,l,m),c&&w(i,c),i.legacy=!0,i},ordinalRawValue:function(a,c){null==c&&(c=g),a=a||0;var d=b.getDimensionInfo(a);if(!d){var e=b.getDimensionIndex(a);return e>=0?b.getStore().get(e,c):void 0}var f=b.get(d.name,c),h=d&&d.ordinalMeta;return h?h.categories[f]:f},styleEmphasis:function(c,d){null==d&&(d=g);var e=u(d,z4).getItemStyle(),f=v(d,z4),h=hK(f,null,null,!0,!0);h.text=f.getShallow("show")?a$(a.getFormattedLabel(d,z4),a.getFormattedLabel(d,z5),pH(b,d)):null;var i=hL(f,null,!0);return x(c,e),e=zM(e,h,i),c&&w(e,c),e.legacy=!0,e},visual:function(a,c){if(null==c&&(c=g),bb(zB,a)){var d=b.getItemVisual(c,"style");return d?d[zB[a]]:null}if(bb(zC,a))return b.getItemVisual(c,a)},barLayout:function(a){if("cartesian2d"===j.type)return function(a){var b=[],c=a.axis,d="axis0";if("category"===c.type){for(var e=c.getBandWidth(),f=0;f<a.count||0;f++)b.push(aD({bandWidth:e,axisKey:d,stackId:qh+f},a));for(var g=qm(b),h=[],f=0;f<a.count;f++){var i=g[d][qh+f];i.offsetCenter=i.offset+i.width/2,h.push(i)}return h}}(aD({axis:j.getBaseAxis()},a))},currentSeriesIndices:function(){return c.getCurrentSeriesIndices()},font:function(a){return hQ(a,c)}},k.api||{}),m={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:k.coordSys,dataInsideLength:b.count(),encode:(e=a.getData(),f={},aH(e.dimensions,function(a){var b=e.getDimensionInfo(a);if(!b.isExtraCoord){var c=b.coordDim;(f[c]=f[c]||[])[b.coordDimIndex]=e.getDimensionIndex(a)}}),f)},n={},o={},p={},q={},r=0;r<z8.length;r++){var s=z8[r];p[s]=a.getModel(z9[s]),q[s]=a.getModel(Aa[s])}function t(a){return a===g?h||(h=b.getItemModel(a)):b.getItemModel(a)}function u(a,c){return b.hasItemOption?a===g?n[c]||(n[c]=t(a).getModel(z9[c])):t(a).getModel(z9[c]):p[c]}function v(a,c){return b.hasItemOption?a===g?o[c]||(o[c]=t(a).getModel(Aa[c])):t(a).getModel(Aa[c]):q[c]}return function(a,c){return g=a,h=null,n={},o={},i&&i(aD({dataIndexInside:a,dataIndex:b.getRawIndex(a),actionType:c?c.type:null},m),l)};function w(a,b){for(var c in b)bb(b,c)&&(a[c]=b[c])}function x(a,b){a&&(a.textFill&&(b.textFill=a.textFill),a.textPosition&&(b.textPosition=a.textPosition))}}function Al(a,b,c,d,e,f,g){if(!d)return void f.remove(b);var h=Am(a,b,c,d,e,f);return h&&g.setItemGraphicEl(c,h),h&&hm(h,d.focus,d.blurScope,d.emphasisDisabled),h}function Am(a,b,c,d,e,f){var g,h=-1,i=b;b&&An(b,d,e)&&(h=aE(f.childrenRef(),b),b=null);var j=!b,k=b;k?k.clearStates():(k=Ah(d),i&&((g=k).copyTransform(i),Af(g)&&Af(i)&&(g.setStyle(i.style),g.z=i.z,g.z2=i.z2,g.zlevel=i.zlevel,g.invisible=i.invisible,g.ignore=i.ignore,Ae(g)&&Ae(i)&&g.setShape(i.shape)))),!1===d.morph?k.disableMorphing=!0:k.disableMorphing&&(k.disableMorphing=!1),Ac.normal.cfg=Ac.normal.conOpt=Ac.emphasis.cfg=Ac.emphasis.conOpt=Ac.blur.cfg=Ac.blur.conOpt=Ac.select.cfg=Ac.select.conOpt=null,Ac.isLegacy=!1,function(a,b,c,d,e,f){if(!a.isGroup){Ao(c,null,f),Ao(c,z4,f);var g=f.normal.conOpt,h=f.emphasis.conOpt,i=f.blur.conOpt,j=f.select.conOpt;if(null!=g||null!=h||null!=j||null!=i){var k=a.getTextContent();if(!1===g)k&&a.removeTextContent();else{g=f.normal.conOpt=g||{type:"text"},k?k.clearStates():(k=Ah(g),a.setTextContent(k)),Ai(null,k,b,g,null,d,e);for(var l=g&&g.style,m=0;m<z8.length;m++){var n=z8[m];if(n!==z5){var o=f[n].conOpt;Aj(n,k,o,Aq(g,o,n),null)}}l?k.dirty():k.markRedraw()}}}}(k,c,d,e,j,Ac),function(a,b,c,d,e){var f=c.clipPath;if(!1===f)a&&a.getClipPath()&&a.removeClipPath();else if(f){var g=a.getClipPath();g&&An(g,f,d)&&(g=null),g||(g=Ah(f),a.setClipPath(g)),Ai(null,g,b,f,null,d,e)}}(k,c,d,e,j),Ai(a,k,c,d,Ac,e,j),bb(d,"info")&&(zD(k).info=d.info);for(var l=0;l<z8.length;l++){var m=z8[l];if(m!==z5){var n=Ap(d,m),o=Aq(d,n,m);Aj(m,k,n,o,Ac)}}var p=k;if(!p.isGroup){var q=e.currentZ,r=e.currentZLevel;p.z=q,p.zlevel=r;var s=d.z2;null!=s&&(p.z2=s||0);for(var t=0;t<z8.length;t++)!function(a,b,c){var d=c===z5,e=d?b:Ap(b,c),f=e?e.z2:null;null!=f&&((d?a:a.ensureState(c)).z2=f||0)}(p,d,z8[t])}return"group"===d.type&&function(a,b,c,d,e){var f=d.children,g=f?f.length:0,h=d.$mergeChildren,i="byName"===h||d.diffChildrenByName,j=!1===h;if(g||i||j){if(i){return new pj((o={api:a,oldChildren:b.children()||[],newChildren:f||[],dataIndex:c,seriesModel:e,group:b}).oldChildren,o.newChildren,Ar,Ar,o).add(As).update(As).remove(At).execute()}j&&b.removeAll();for(var k=0;k<g;k++){var l=f[k],m=b.childAt(k);l?(null==l.ignore&&(l.ignore=!1),Am(a,m,c,l,e,b)):m.ignore=!0}for(var n=b.childCount()-1;n>=k;n--){var o,p,q,r,s=b.childAt(n);p=b,q=s,r=e,q&&zV(q,zD(p).option,r)}}}(a,k,c,d,e),h>=0?f.replaceAt(k,h):f.add(k),k}function An(a,b,c){var d,e=zD(a),f=b.type,g=b.shape,h=b.style;return c.isUniversalTransitionEnabled()||null!=f&&f!==e.customGraphicType||"path"===f&&(d=g)&&(bb(d,"pathData")||bb(d,"d"))&&Au(g)!==e.customPathData||"image"===f&&bb(h,"image")&&h.image!==e.customImagePath}function Ao(a,b,c){var d=b?Ap(a,b):a,e=b?Aq(a,d,z4):a.style,f=a.type,g=d?d.textConfig:null,h=a.textContent,i=h?b?Ap(h,b):h:null;if(e&&(c.isLegacy||zJ(e,f,!!g,!!i))){c.isLegacy=!0;var j=zK(e,f,!b);!g&&j.textConfig&&(g=j.textConfig),!i&&j.textContent&&(i=j.textContent)}if(!b&&i){var k=i;k.type||(k.type="text")}var l=b?c[b]:c.normal;l.cfg=g,l.conOpt=i}function Ap(a,b){return b?a?a[b]:null:a}function Aq(a,b,c){var d=b&&b.style;return null==d&&c===z4&&a&&(d=a.styleEmphasis),d}function Ar(a,b){var c=a&&a.name;return null!=c?c:"e\0\0"+b}function As(a,b){var c=this.context,d=null!=a?c.newChildren[a]:null,e=null!=b?c.oldChildren[b]:null;Am(c.api,e,c.dataIndex,d,c.seriesModel,c.group)}function At(a){var b=this.context,c=b.oldChildren[a];c&&zV(c,zD(c).option,b.seriesModel)}function Au(a){return a&&(a.pathData||a.d)}var Av=e$(),Aw=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(a,b,c,d){var e=b.get("value"),f=b.get("status");if(this._axisModel=a,this._axisPointerModel=b,this._api=c,d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e,this._lastStatus=f;var g=this._group,h=this._handle;if(!f||"hide"===f){g&&g.hide(),h&&h.hide();return}g&&g.show(),h&&h.show();var i={};this.makeElOption(i,e,a,b,c);var j=i.graphicKey;j!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=j;var k=this._moveAnimation=this.determineAnimation(a,b);if(g){var l=aN(Ax,b,k);this.updatePointerEl(g,i,l),this.updateLabelEl(g,i,l,b)}else g=this._group=new s5.Group,this.createPointerEl(g,i,a,b),this.createLabelEl(g,i,a,b),c.getZr().add(g);AA(g,b,!0),this._renderHandle(e)}},a.prototype.remove=function(a){this.clear(a)},a.prototype.dispose=function(a){this.clear(a)},a.prototype.determineAnimation=function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");if(!f&&!e)return!1;if("auto"===c||null==c){var g=this.animationThreshold;if(e&&d.getBandWidth()>g)return!0;if(f){var h=sN(a).seriesDataCount,i=d.getExtent();return Math.abs(i[0]-i[1])/h>g}return!1}return!0===c},a.prototype.makeElOption=function(a,b,c,d,e){},a.prototype.createPointerEl=function(a,b,c,d){var e=b.pointer;if(e){var f=Av(a).pointerEl=new s5[e.type](az(b.pointer));a.add(f)}},a.prototype.createLabelEl=function(a,b,c,d){if(b.label){var e=Av(a).labelEl=new s5.Text(az(b.label));a.add(e),Ay(e,d)}},a.prototype.updatePointerEl=function(a,b,c){var d=Av(a).pointerEl;d&&b.pointer&&(d.setStyle(b.pointer.style),c(d,{shape:b.pointer.shape}))},a.prototype.updateLabelEl=function(a,b,c,d){var e=Av(a).labelEl;e&&(e.setStyle(b.label.style),c(e,{x:b.label.x,y:b.label.y}),Ay(e,d))},a.prototype._renderHandle=function(a){if(!this._dragging&&this.updateHandleTransform){var b,c=this._axisPointerModel,d=this._api.getZr(),e=this._handle,f=c.getModel("handle"),g=c.get("status");if(!f.get("show")||!g||"hide"===g){e&&d.remove(e),this._handle=null;return}this._handle||(b=!0,e=this._handle=s5.createIcon(f.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){bQ(a.event)},onmousedown:aM(this._onHandleDragMove,this,0,0),drift:aM(this._onHandleDragMove,this),ondragend:aM(this._onHandleDragEnd,this)}),d.add(e)),AA(e,c,!1),e.setStyle(f.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=f.get("size");aO(h)||(h=[h,h]),e.scaleX=h[0]/2,e.scaleY=h[1]/2,mC(this,"_doDispatchAxisPointer",f.get("throttle")||0,"fixRate"),this._moveHandleToValue(a,b)}},a.prototype._moveHandleToValue=function(a,b){Ax(this._axisPointerModel,!b&&this._moveAnimation,this._handle,Az(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(Az(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d,c.stopAnimation(),c.attr(Az(d)),Av(c).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(a){this._lastValue=null,this._lastStatus=null;var b=a.getZr(),c=this._group,d=this._handle;b&&c&&(this._lastGraphicKey=null,c&&b.remove(c),d&&b.remove(d),this._group=null,this._handle=null,this._payloadInfo=null),mD(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(a,b,c){return{x:a[c=c||0],y:a[1-c],width:b[c],height:b[1-c]}},a}();function Ax(a,b,c,d){!function a(b,c){if(!(aT(b)&&aT(c)))return b===c;var d=!0;return aH(c,function(c,e){d=d&&a(b[e],c)}),!!d}(Av(c).lastProp,d)&&(Av(c).lastProp=d,b?s5.updateProps(c,d,a):(c.stopAnimation(),c.attr(d)))}function Ay(a,b){a[b.get(["label","show"])?"show":"hide"]()}function Az(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function AA(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}function AB(a){var b,c=a.get("type"),d=a.getModel(c+"Style");return"line"===c?(b=d.getLineStyle()).fill=null:"shadow"===c&&((b=d.getAreaStyle()).stroke=null),b}function AC(a,b,c,d,e){var f,g,h,i,j,k,l=AD(c.get("value"),b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])}),m=c.getModel("label"),n=a0(m.get("padding")||0),o=m.getFont(),p=d8(l,o),q=e.position,r=p.width+n[1]+n[3],s=p.height+n[0]+n[2],t=e.align;"right"===t&&(q[0]-=r),"center"===t&&(q[0]-=r/2);var u=e.verticalAlign;"bottom"===u&&(q[1]-=s),"middle"===u&&(q[1]-=s/2),f=q,g=r,h=s,j=(i=d).getWidth(),k=i.getHeight(),f[0]=Math.min(f[0]+g,j)-g,f[1]=Math.min(f[1]+h,k)-h,f[0]=Math.max(f[0],0),f[1]=Math.max(f[1],0);var v=m.get("backgroundColor");v&&"auto"!==v||(v=b.get(["axisLine","lineStyle","color"])),a.label={x:q[0],y:q[1],style:hK(m,{text:l,font:o,fill:m.getTextColor(),padding:n,backgroundColor:v}),z2:10}}function AD(a,b,c,d,e){a=b.scale.parse(a);var f=b.scale.getLabel({value:a},{precision:e.precision}),g=e.formatter;if(g){var h={value:sd(b,{value:a}),axisDimension:b.dim,axisIndex:b.index,seriesData:[]};aH(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex),d=a.dataIndexInside,e=b&&b.getDataParams(d);e&&h.seriesData.push(e)}),aQ(g)?f=g.replace("{value}",f):aP(g)&&(f=g(h))}return f}function AE(a,b,c){var d=bV();return b$(d,d,c.rotation),bZ(d,d,c.position),mf([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],d)}function AF(a,b,c,d,e,f){var g=sG.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get(["label","margin"]),AC(b,d,e,f,{position:AE(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function AG(a,b,c){return{x1:a[c=c||0],y1:a[1-c],x2:b[c],y2:b[1-c]}}function AH(a,b,c){return{x:a[c=c||0],y:a[1-c],width:b[c],height:b[1-c]}}function AI(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}var AJ=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.makeElOption=function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),i=AK(g,f).getOtherAxis(f).getGlobalExtent(),j=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var k=AB(d),l=AL[h](f,j,i);l.style=k,a.graphicKey=l.type,a.pointer=l}AF(b,a,sw(g.model,c),c,d,e)},b.prototype.getHandleTransform=function(a,b,c){var d=sw(b.axis.grid.model,b,{labelInside:!1});d.labelMargin=c.get(["handle","margin"]);var e=AE(b.axis,a,d);return{x:e[0],y:e[1],rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},b.prototype.updateHandleTransform=function(a,b,c,d){var e=c.axis,f=e.grid,g=e.getGlobalExtent(!0),h=AK(f,e).getOtherAxis(e).getGlobalExtent(),i=+("x"!==e.dim),j=[a.x,a.y];j[i]+=b[i],j[i]=Math.min(g[1],j[i]),j[i]=Math.max(g[0],j[i]);var k=(h[1]+h[0])/2,l=[k,k];return l[i]=j[i],{x:j[0],y:j[1],rotation:a.rotation,cursorPoint:l,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][i]}},b}(Aw);function AK(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}var AL={line:function(a,b,c){return{type:"Line",subPixelOptimize:!0,shape:AG([b,c[0]],[b,c[1]],AM(a))}},shadow:function(a,b,c){var d=Math.max(1,a.getBandWidth()),e=c[1]-c[0];return{type:"Rect",shape:AH([b-d/2,c[0]],[d,e],AM(a))}}};function AM(a){return+("x"!==a.dim)}var AN=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="axisPointer",b.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},b}(iU),AO=e$();function AP(a,b,c){if(!ah.node){var d=b.getZr();AO(d).records||(AO(d).records={}),function(a,b){AO(a).initialized||(AO(a).initialized=!0,c("click",aN(AR,"click")),c("mousemove",aN(AR,"mousemove")),c("globalout",AQ));function c(c,d){a.on(c,function(c){var e,f,g,h,i,j,k,l,m=(e=b,f={showTip:[],hideTip:[]},{dispatchAction:g=function(a){var b=f[a.type];b?b.push(a):(a.dispatchAction=g,e.dispatchAction(a))},pendings:f});aH(AO(a).records,function(a){a&&d(a,c,m.dispatchAction)}),h=m.pendings,i=b,k=h.showTip.length,l=h.hideTip.length,k?j=h.showTip[k-1]:l&&(j=h.hideTip[l-1]),j&&(j.dispatchAction=null,i.dispatchAction(j))})}}(d,b),(AO(d).records[a]||(AO(d).records[a]={})).handler=c}}function AQ(a,b,c){a.handler("leave",null,c)}function AR(a,b,c,d){b.handler(a,c,d)}function AS(a,b){if(!ah.node){var c=b.getZr();(AO(c).records||{})[a]&&(AO(c).records[a]=null)}}var AT=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=b.getComponent("tooltip"),e=a.get("triggerOn")||d&&d.get("triggerOn")||"mousemove|click";AP("axisPointer",c,function(a,b,c){"none"!==e&&("leave"===a||e.indexOf(a)>=0)&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},b.prototype.remove=function(a,b){AS("axisPointer",b)},b.prototype.dispose=function(a,b){AS("axisPointer",b)},b.type="axisPointer",b}(kZ);function AU(a,b){var c,d=[],e=a.seriesIndex;if(null==e||!(c=b.getSeriesByIndex(e)))return{point:[]};var f=c.getData(),g=eZ(f,a);if(null==g||g<0||aO(g))return{point:[]};var h=f.getItemGraphicEl(g),i=c.coordinateSystem;if(c.getTooltipPosition)d=c.getTooltipPosition(g)||[];else if(i&&i.dataToPoint)if(a.isStacked){var j=i.getBaseAxis(),k=i.getOtherAxis(j).dim,l=j.dim,m=+("x"===k||"radius"===k),n=f.mapDimension(l),o=[];o[m]=f.get(n,g),o[1-m]=f.get(f.getCalculationInfo("stackResultDimension"),g),d=i.dataToPoint(o)||[]}else d=i.dataToPoint(f.getValues(aI(i.dimensions,function(a){return f.mapDimension(a)}),g))||[];else if(h){var p=h.getBoundingRect().clone();p.applyTransform(h.transform),d=[p.x+p.width/2,p.y+p.height/2]}return{point:d,el:h}}var AV=e$();function AW(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a.dispatchAction||aM(c.dispatchAction,c),g=b.getComponent("axisPointer").coordSysAxesInfo;if(g){A_(e)&&(e=AU({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var h,i,j,k,l,m,n,o,p,q,r,s=A_(e),t=a.axesInfo,u=g.axesInfo,v="leave"===d||A_(e),w={},x={},y={list:[],map:{}},z={showPointer:aN(AY,x),showTooltip:aN(AZ,y)};aH(g.coordSysMap,function(a,b){var c=s||a.containPoint(e);aH(g.coordSysAxesInfo[b],function(a,b){var d=a.axis,f=function(a,b){for(var c=0;c<(a||[]).length;c++){var d=a[c];if(b.axis.dim===d.axisDim&&b.axis.model.componentIndex===d.axisIndex)return d}}(t,a);if(!v&&c&&(!t||f)){var g=f&&f.value;null!=g||s||(g=d.pointToData(e)),null!=g&&AX(a,g,z,!1,w)}})});var A={};return aH(u,function(a,b){var c=a.linkGroup;c&&!x[b]&&aH(c.axesInfo,function(b,d){var e=x[d];if(b!==a&&e){var f=e.value;c.mapper&&(f=a.axis.scale.parse(c.mapper(f,A$(b),A$(a)))),A[a.key]=f}})}),aH(A,function(a,b){AX(u[b],a,z,!0,w)}),h=x,i=u,j=w.axesInfo=[],aH(i,function(a,b){var c=a.axisPointerModel.option,d=h[b];d?(a.useHandle||(c.status="show"),c.value=d.value,c.seriesDataIndices=(d.payloadBatch||[]).slice()):a.useHandle||(c.status="hide"),"show"===c.status&&j.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:c.value})}),function(a,b,c,d){if(A_(b)||!a.list.length)return d({type:"hideTip"});var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}(y,e,a,f),k=u,m=(l=c).getZr(),n="axisPointerLastHighlights",o=AV(m)[n]||{},p=AV(m)[n]={},aH(k,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&a.triggerEmphasis&&aH(c.seriesDataIndices,function(a){p[a.seriesIndex+" | "+a.dataIndex]=a})}),q=[],r=[],aH(o,function(a,b){p[b]||r.push(a)}),aH(p,function(a,b){o[b]||q.push(a)}),r.length&&l.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:r}),q.length&&l.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:q}),w}}function AX(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b)){if(!a.involveSeries)return void c.showPointer(a,b);var g,h,i,j,k,l,m,n,o=(g=b,j=(i=(h=a).axis).dim,k=g,l=[],m=Number.MAX_VALUE,n=-1,aH(h.seriesModels,function(a,b){var c,d,e=a.getData().mapDimensionsAll(j);if(a.getAxisTooltipData){var f=a.getAxisTooltipData(e,g,i);d=f.dataIndices,c=f.nestestValue}else{if(!(d=a.getData().indicesOfNearest(e[0],g,"category"===i.type?.5:null)).length)return;c=a.getData().get(e[0],d[0])}if(null!=c&&isFinite(c)){var h=g-c,o=Math.abs(h);o<=m&&((o<m||h>=0&&n<0)&&(m=o,n=h,k=c,l.length=0),aH(d,function(b){l.push({seriesIndex:a.seriesIndex,dataIndexInside:b,dataIndex:a.getData().getRawIndex(b)})}))}}),{payloadBatch:l,snapToValue:k}),p=o.payloadBatch,q=o.snapToValue;p[0]&&null==e.seriesIndex&&aC(e,p[0]),!d&&a.snap&&f.containData(q)&&null!=q&&(b=q),c.showPointer(a,b,p),c.showTooltip(a,o,q)}}function AY(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function AZ(a,b,c,d){var e=c.payloadBatch,f=b.axis,g=f.model,h=b.axisPointerModel;if(b.triggerTooltip&&e.length){var i=b.coordSys.model,j=sP(i),k=a.map[j];k||(k=a.map[j]={coordSysId:i.id,coordSysIndex:i.componentIndex,coordSysType:i.type,coordSysMainType:i.mainType,dataByAxis:[]},a.list.push(k)),k.dataByAxis.push({axisDim:f.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:d,valueLabelOpt:{precision:h.get(["label","precision"]),formatter:h.get(["label","formatter"])},seriesDataIndices:e.slice()})}}function A$(a){var b=a.axis.model,c={},d=c.axisDim=a.axis.dim;return c.axisIndex=c[d+"AxisIndex"]=b.componentIndex,c.axisName=c[d+"AxisName"]=b.name,c.axisId=c[d+"AxisId"]=b.id,c}function A_(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function A0(a){sR.registerAxisPointerClass("CartesianAxisPointer",AJ),a.registerComponentModel(AN),a.registerComponentView(AT),a.registerPreprocessor(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!aO(b)&&(a.axisPointer.link=[b])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(a,b){var c,d,e,f,g,h,i,j,k;a.getComponent("axisPointer").coordSysAxesInfo=(d=c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}},e=a,f=b,g=e.getComponent("tooltip"),i=(h=e.getComponent("axisPointer")).get("link",!0)||[],j=[],aH(f.getCoordinateSystems(),function(a){if(a.axisPointerEnabled){var b=sP(a.model),c=d.coordSysAxesInfo[b]={};d.coordSysMap[b]=a;var f=a.model.getModel("tooltip",g);if(aH(a.getAxes(),aN(n,!1,null)),a.getTooltipAxes&&g&&f.get("show")){var k="axis"===f.get("trigger"),l="cross"===f.get(["axisPointer","type"]),m=a.getTooltipAxes(f.get(["axisPointer","axis"]));(k||l)&&aH(m.baseAxes,aN(n,!l||"cross",k)),l&&aH(m.otherAxes,aN(n,"cross",!1))}}function n(b,g,k){var l=k.model.getModel("axisPointer",h),m=l.get("show");if(m&&("auto"!==m||b||sO(l))){null==g&&(g=l.get("triggerTooltip"));var n=(l=b?function(a,b,c,d,e,f){var g=b.getModel("axisPointer"),h={};aH(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){h[a]=az(g.get(a))}),h.snap="category"!==a.type&&!!f,"cross"===g.get("type")&&(h.type="line");var i=h.label||(h.label={});if(null==i.show&&(i.show=!1),"cross"===e){var j=g.get(["label","show"]);if(i.show=null==j||j,!f){var k=h.lineStyle=g.get("crossStyle");k&&aD(i,k.textStyle)}}return a.model.getModel("axisPointer",new h2(h,c,d))}(k,f,h,e,b,g):l).get("snap"),o=l.get("triggerEmphasis"),p=sP(k.model),q=g||n||"category"===k.type,r=d.axesInfo[p]={key:p,axis:k,coordSys:a,axisPointerModel:l,triggerTooltip:g,triggerEmphasis:o,involveSeries:q,snap:n,useHandle:sO(l),seriesModels:[],linkGroup:null};c[p]=r,d.seriesInvolved=d.seriesInvolved||q;var s=function(a,b){for(var c=b.model,d=b.dim,e=0;e<a.length;e++){var f=a[e]||{};if(sM(f[d+"AxisId"],c.id)||sM(f[d+"AxisIndex"],c.componentIndex)||sM(f[d+"AxisName"],c.name))return e}}(i,k);if(null!=s){var t=j[s]||(j[s]={axesInfo:{}});t.axesInfo[p]=r,t.mapper=i[s].mapper,r.linkGroup=t}}}}),c.seriesInvolved&&(k=c,a.eachSeries(function(a){var b=a.coordinateSystem,c=a.get(["tooltip","trigger"],!0),d=a.get(["tooltip","show"],!0);b&&"none"!==c&&!1!==c&&"item"!==c&&!1!==d&&!1!==a.get(["axisPointer","show"],!0)&&aH(k.coordSysAxesInfo[sP(b.model)],function(c){var d=c.axis;b.getAxis(d.dim)===d&&(c.seriesModels.push(a),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})})),c)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},AW)}var A1=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.makeElOption=function(a,b,c,d,e){var f=c.axis;"angle"===f.dim&&(this.animationThreshold=Math.PI/18);var g=f.polar,h=g.getOtherAxis(f).getExtent(),i=f.dataToCoord(b),j=d.get("type");if(j&&"none"!==j){var k=AB(d),l=A2[j](f,g,i,h);l.style=k,a.graphicKey=l.type,a.pointer=l}var m=function(a,b,c,d,e){var f,g,h,i=b.axis,j=i.dataToCoord(a),k=d.getAngleAxis().getExtent()[0];k=k/180*Math.PI;var l=d.getRadiusAxis().getExtent();if("radius"===i.dim){var m=bV();b$(m,m,k),bZ(m,m,[d.cx,d.cy]),f=mf([j,-e],m);var n=b.getModel("axisLabel").get("rotate")||0,o=sG.innerTextLayout(k,n*Math.PI/180,-1);g=o.textAlign,h=o.textVerticalAlign}else{var p=l[1];f=d.coordToPoint([p+e,j]);var q=d.cx,r=d.cy;g=Math.abs(f[0]-q)/p<.3?"center":f[0]>q?"left":"right",h=Math.abs(f[1]-r)/p<.3?"middle":f[1]>r?"top":"bottom"}return{position:f,align:g,verticalAlign:h}}(b,c,0,g,d.get(["label","margin"]));AC(a,c,d,e,m)},b}(Aw),A2={line:function(a,b,c,d){return"angle"===a.dim?{type:"Line",shape:AG(b.coordToPoint([d[0],c]),b.coordToPoint([d[1],c]))}:{type:"Circle",shape:{cx:b.cx,cy:b.cy,r:c}}},shadow:function(a,b,c,d){var e=Math.max(1,a.getBandWidth()),f=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:AI(b.cx,b.cy,d[0],d[1],(-c-e/2)*f,(-c+e/2)*f)}:{type:"Sector",shape:AI(b.cx,b.cy,c-e/2,c+e/2,0,2*Math.PI)}}},A3=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.findAxisModel=function(a){var b;return this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(b=a)},this),b},b.type="polar",b.dependencies=["radiusAxis","angleAxis"],b.defaultOption={z:0,center:["50%","50%"],radius:"80%"},b}(iU),A4=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",e2).models[0]},b.type="polarAxis",b}(iU);aF(A4,rx);var A5=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="angleAxis",b}(A4),A6=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="radiusAxis",b}(A4),A7=function(a){function b(b,c){return a.call(this,"radius",b,c)||this}return af(b,a),b.prototype.pointToData=function(a,b){return this.polar.pointToData(a,b)[+("radius"!==this.dim)]},b}(st);A7.prototype.dataToRadius=st.prototype.dataToCoord,A7.prototype.radiusToData=st.prototype.coordToData;var A8=e$(),A9=function(a){function b(b,c){return a.call(this,"angle",b,c||[0,360])||this}return af(b,a),b.prototype.pointToData=function(a,b){return this.polar.pointToData(a,b)[+("radius"!==this.dim)]},b.prototype.calculateCategoryInterval=function(){var a=this.getLabelModel(),b=this.scale,c=b.getExtent(),d=b.count();if(c[1]-c[0]<1)return 0;var e=c[0],f=Math.abs(this.dataToCoord(e+1)-this.dataToCoord(e)),g=Math.max(d8(null==e?"":e+"",a.getFont(),"center","top").height,7)/f;isNaN(g)&&(g=1/0);var h=Math.max(0,Math.floor(g)),i=A8(this.model),j=i.lastAutoInterval,k=i.lastTickCount;return null!=j&&null!=k&&1>=Math.abs(j-h)&&1>=Math.abs(k-d)&&j>h?h=j:(i.lastTickCount=d,i.lastAutoInterval=h),h},b}(st);A9.prototype.dataToAngle=st.prototype.dataToCoord,A9.prototype.angleToData=st.prototype.coordToData;var Ba=["radius","angle"],Bb=function(){function a(a){this.dimensions=Ba,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new A7,this._angleAxis=new A9,this.axisPointerEnabled=!0,this.name=a||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},a.prototype.containData=function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},a.prototype.getAxis=function(a){return this["_"+a+"Axis"]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===a&&b.push(c),d.scale.type===a&&b.push(d),b},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},a.prototype.dataToPoint=function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},a.prototype.pointToData=function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},a.prototype.pointToCoord=function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent(),f=Math.min(e[0],e[1]),g=Math.max(e[0],e[1]);d.inverse?f=g-360:g=f+360;var h=Math.sqrt(b*b+c*c);b/=h;for(var i=Math.atan2(-(c/=h),b)/Math.PI*180,j=i<f?1:-1;i<f||i>g;)i+=360*j;return[h,i]},a.prototype.coordToPoint=function(a){var b=a[0],c=a[1]/180*Math.PI;return[Math.cos(c)*b+this.cx,-Math.sin(c)*b+this.cy]},a.prototype.getArea=function(){var a=this.getAngleAxis(),b=this.getRadiusAxis().getExtent().slice();b[0]>b[1]&&b.reverse();var c=a.getExtent(),d=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:b[0],r:b[1],startAngle:-c[0]*d,endAngle:-c[1]*d,clockwise:a.inverse,contain:function(a,b){var c=a-this.cx,d=b-this.cy,e=c*c+d*d-1e-4,f=this.r,g=this.r0;return e<=f*f&&e>=g*g}}},a.prototype.convertToPixel=function(a,b,c){return Bc(b)===this?this.dataToPoint(c):null},a.prototype.convertFromPixel=function(a,b,c){return Bc(b)===this?this.pointToData(c):null},a}();function Bc(a){var b=a.seriesModel,c=a.polarModel;return c&&c.coordinateSystem||b&&b.coordinateSystem}function Bd(a,b){var c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();if(d.scale.setExtent(1/0,-1/0),e.scale.setExtent(1/0,-1/0),a.eachSeries(function(a){if(a.coordinateSystem===c){var b=a.getData();aH(sg(b,"radius"),function(a){e.scale.unionExtentFromData(b,a)}),aH(sg(b,"angle"),function(a){d.scale.unionExtentFromData(b,a)})}}),sa(d.scale,d.model),sa(e.scale,e.model),"category"===d.type&&!d.onBand){var f=d.getExtent(),g=360/d.scale.count();d.inverse?f[1]+=g:f[1]-=g,d.setExtent(f[0],f[1])}}function Be(a,b){var c;if(a.type=b.get("type"),a.scale=sb(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse=a.inverse!==b.get("clockwise");var d=b.get("startAngle"),e=null!=(c=b.get("endAngle"))?c:d+(a.inverse?-360:360);a.setExtent(d,e)}b.axis=a,a.model=b}let Bf={dimensions:Ba,create:function(a,b){var c=[];return a.eachComponent("polar",function(a,d){var e,f,g,h,i,j,k,l=new Bb(d+"");l.update=Bd;var m=l.getRadiusAxis(),n=l.getAngleAxis(),o=a.findAxisModel("radiusAxis"),p=a.findAxisModel("angleAxis");Be(m,o),Be(n,p),e=a.get("center"),f=b.getWidth(),g=b.getHeight(),l.cx=es(e[0],f),l.cy=es(e[1],g),h=l.getRadiusAxis(),i=Math.min(f,g)/2,null==(j=a.get("radius"))?j=[0,"100%"]:aO(j)||(j=[0,j]),k=[es(j[0],i),es(j[1],i)],h.inverse?h.setExtent(k[1],k[0]):h.setExtent(k[0],k[1]),c.push(l),a.coordinateSystem=l,l.model=a}),a.eachSeries(function(a){if("polar"===a.get("coordinateSystem")){var b=a.getReferringComponents("polar",e2).models[0];a.coordinateSystem=b.coordinateSystem}}),c}};var Bg=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Bh(a,b,c){b[1]>b[0]&&(b=b.slice().reverse());var d=a.coordToPoint([b[0],c]),e=a.coordToPoint([b[1],c]);return{x1:d[0],y1:d[1],x2:e[0],y2:e[1]}}function Bi(a){return+!a.getRadiusAxis().inverse}function Bj(a){var b=a[0],c=a[a.length-1];b&&c&&1e-4>Math.abs(Math.abs(b.coord-c.coord)-360)&&a.pop()}var Bk=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="PolarAxisPointer",c}return af(b,a),b.prototype.render=function(a,b){if(this.group.removeAll(),a.get("show")){var c=a.axis,d=c.polar,e=d.getRadiusAxis().getExtent(),f=c.getTicksCoords(),g=c.getMinorTicksCoords(),h=aI(c.getViewLabels(),function(a){a=az(a);var b=c.scale,d="ordinal"===b.type?b.getRawOrdinalNumber(a.tickValue):a.tickValue;return a.coord=c.dataToCoord(d),a});Bj(h),Bj(f),aH(Bg,function(b){a.get([b,"show"])&&(!c.scale.isBlank()||"axisLine"===b)&&Bl[b](this.group,a,d,f,g,e,h)},this)}},b.type="angleAxis",b}(sR),Bl={axisLine:function(a,b,c,d,e,f){var g,h=b.getModel(["axisLine","lineStyle"]),i=c.getAngleAxis(),j=Math.PI/180,k=i.getExtent(),l=Bi(c),m=+!l,n=360===Math.abs(k[1]-k[0])?"Circle":"Arc";(g=0===f[m]?new s5[n]({shape:{cx:c.cx,cy:c.cy,r:f[l],startAngle:-k[0]*j,endAngle:-k[1]*j,clockwise:i.inverse},style:h.getLineStyle(),z2:1,silent:!0}):new s5.Ring({shape:{cx:c.cx,cy:c.cy,r:f[l],r0:f[m]},style:h.getLineStyle(),z2:1,silent:!0})).style.fill=null,a.add(g)},axisTick:function(a,b,c,d,e,f){var g=b.getModel("axisTick"),h=(g.get("inside")?-1:1)*g.get("length"),i=f[Bi(c)],j=aI(d,function(a){return new s5.Line({shape:Bh(c,[i,i+h],a.coord)})});a.add(s5.mergePath(j,{style:aD(g.getModel("lineStyle").getLineStyle(),{stroke:b.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,b,c,d,e,f){if(e.length){for(var g=b.getModel("axisTick"),h=b.getModel("minorTick"),i=(g.get("inside")?-1:1)*h.get("length"),j=f[Bi(c)],k=[],l=0;l<e.length;l++)for(var m=0;m<e[l].length;m++)k.push(new s5.Line({shape:Bh(c,[j,j+i],e[l][m].coord)}));a.add(s5.mergePath(k,{style:aD(h.getModel("lineStyle").getLineStyle(),aD(g.getLineStyle(),{stroke:b.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,b,c,d,e,f,g){var h=b.getCategories(!0),i=b.getModel("axisLabel"),j=i.get("margin"),k=b.get("triggerEvent");aH(g,function(d,e){var g=i,l=d.tickValue,m=f[Bi(c)],n=c.coordToPoint([m+j,d.coord]),o=c.cx,p=c.cy,q=Math.abs(n[0]-o)/m<.3?"center":n[0]>o?"left":"right",r=Math.abs(n[1]-p)/m<.3?"middle":n[1]>p?"top":"bottom";if(h&&h[l]){var s=h[l];aT(s)&&s.textStyle&&(g=new h2(s.textStyle,i,i.ecModel))}var t=new s5.Text({silent:sG.isLabelSilent(b),style:hK(g,{x:n[0],y:n[1],fill:g.getTextColor()||b.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:q,verticalAlign:r})});if(a.add(t),k){var u=sG.makeAxisEventDataBase(b);u.targetType="axisLabel",u.value=d.rawLabel,gO(t).eventData=u}},this)},splitLine:function(a,b,c,d,e,f){var g=b.getModel("splitLine").getModel("lineStyle"),h=g.get("color"),i=0;h=h instanceof Array?h:[h];for(var j=[],k=0;k<d.length;k++){var l=i++%h.length;j[l]=j[l]||[],j[l].push(new s5.Line({shape:Bh(c,f,d[k].coord)}))}for(var k=0;k<j.length;k++)a.add(s5.mergePath(j[k],{style:aD({stroke:h[k%h.length]},g.getLineStyle()),silent:!0,z:b.get("z")}))},minorSplitLine:function(a,b,c,d,e,f){if(e.length){for(var g=b.getModel("minorSplitLine").getModel("lineStyle"),h=[],i=0;i<e.length;i++)for(var j=0;j<e[i].length;j++)h.push(new s5.Line({shape:Bh(c,f,e[i][j].coord)}));a.add(s5.mergePath(h,{style:g.getLineStyle(),silent:!0,z:b.get("z")}))}},splitArea:function(a,b,c,d,e,f){if(d.length){var g=b.getModel("splitArea").getModel("areaStyle"),h=g.get("color"),i=0;h=h instanceof Array?h:[h];for(var j=[],k=Math.PI/180,l=-d[0].coord*k,m=Math.min(f[0],f[1]),n=Math.max(f[0],f[1]),o=b.get("clockwise"),p=1,q=d.length;p<=q;p++){var r=p===q?d[0].coord:d[p].coord,s=i++%h.length;j[s]=j[s]||[],j[s].push(new s5.Sector({shape:{cx:c.cx,cy:c.cy,r0:m,r:n,startAngle:l,endAngle:-r*k,clockwise:o},silent:!0})),l=-r*k}for(var p=0;p<j.length;p++)a.add(s5.mergePath(j[p],{style:aD({fill:h[p%h.length]},g.getAreaStyle()),silent:!0}))}}},Bm=["axisLine","axisTickLabel","axisName"],Bn=["splitLine","splitArea","minorSplitLine"],Bo=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="PolarAxisPointer",c}return af(b,a),b.prototype.render=function(a,b){if(this.group.removeAll(),a.get("show")){var c,d,e,f=this._axisGroup,g=this._axisGroup=new s5.Group;this.group.add(g);var h=a.axis,i=h.polar,j=i.getAngleAxis(),k=h.getTicksCoords(),l=h.getMinorTicksCoords(),m=j.getExtent()[0],n=h.getExtent(),o=(c=i,d=a,e=m,{position:[c.cx,c.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:d.getModel("axisLabel").get("rotate"),z2:1}),p=new sG(a,o);aH(Bm,p.add,p),g.add(p.getGroup()),s5.groupTransition(f,g,a),aH(Bn,function(b){a.get([b,"show"])&&!h.scale.isBlank()&&Bp[b](this.group,a,i,m,n,k,l)},this)}},b.type="radiusAxis",b}(sR),Bp={splitLine:function(a,b,c,d,e,f){var g=b.getModel("splitLine").getModel("lineStyle"),h=g.get("color"),i=0,j=c.getAngleAxis(),k=Math.PI/180,l=j.getExtent(),m=360===Math.abs(l[1]-l[0])?"Circle":"Arc";h=h instanceof Array?h:[h];for(var n=[],o=0;o<f.length;o++){var p=i++%h.length;n[p]=n[p]||[],n[p].push(new s5[m]({shape:{cx:c.cx,cy:c.cy,r:Math.max(f[o].coord,0),startAngle:-l[0]*k,endAngle:-l[1]*k,clockwise:j.inverse}}))}for(var o=0;o<n.length;o++)a.add(s5.mergePath(n[o],{style:aD({stroke:h[o%h.length],fill:null},g.getLineStyle()),silent:!0}))},minorSplitLine:function(a,b,c,d,e,f,g){if(g.length){for(var h=b.getModel("minorSplitLine").getModel("lineStyle"),i=[],j=0;j<g.length;j++)for(var k=0;k<g[j].length;k++)i.push(new s5.Circle({shape:{cx:c.cx,cy:c.cy,r:g[j][k].coord}}));a.add(s5.mergePath(i,{style:aD({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(a,b,c,d,e,f){if(f.length){var g=b.getModel("splitArea").getModel("areaStyle"),h=g.get("color"),i=0;h=h instanceof Array?h:[h];for(var j=[],k=f[0].coord,l=1;l<f.length;l++){var m=i++%h.length;j[m]=j[m]||[],j[m].push(new s5.Sector({shape:{cx:c.cx,cy:c.cy,r0:k,r:f[l].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),k=f[l].coord}for(var l=0;l<j.length;l++)a.add(s5.mergePath(j[l],{style:aD({fill:h[l%h.length]},g.getAreaStyle()),silent:!0}))}}};function Bq(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Br(a,b){return b.dim+a.model.componentIndex}let Bs=function(a,b,c){var d,e,f,g={},h=(d=aK(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}),e={},aH(d,function(a,b){var c=a.getData(),d=a.coordinateSystem,f=d.getBaseAxis(),g=Br(d,f),h=f.getExtent(),i="category"===f.type?f.getBandWidth():Math.abs(h[1]-h[0])/c.count(),j=e[g]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},k=j.stacks;e[g]=j;var l=Bq(a);!k[l]&&j.autoWidthCount++,k[l]=k[l]||{width:0,maxWidth:0};var m=es(a.get("barWidth"),i),n=es(a.get("barMaxWidth"),i),o=a.get("barGap"),p=a.get("barCategoryGap");m&&!k[l].width&&(m=Math.min(j.remainedWidth,m),k[l].width=m,j.remainedWidth-=m),n&&(k[l].maxWidth=n),null!=o&&(j.gap=o),null!=p&&(j.categoryGap=p)}),f={},aH(e,function(a,b){f[b]={};var c,d=a.stacks,e=a.bandWidth,g=es(a.categoryGap,e),h=es(a.gap,1),i=a.remainedWidth,j=a.autoWidthCount,k=(i-g)/(j+(j-1)*h);k=Math.max(k,0),aH(d,function(a,b){var c=a.maxWidth;c&&c<k&&(c=Math.min(c,i),a.width&&(c=Math.min(c,a.width)),i-=c,a.width=c,j--)}),k=Math.max(k=(i-g)/(j+(j-1)*h),0);var l=0;aH(d,function(a,b){a.width||(a.width=k),c=a,l+=a.width*(1+h)}),c&&(l-=c.width*h);var m=-l/2;aH(d,function(a,c){f[b][c]=f[b][c]||{offset:m,width:a.width},m+=a.width*(1+h)})}),f);b.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,d=c.getBaseAxis(),e=Br(c,d),f=Bq(a),i=h[e][f],j=i.offset,k=i.width,l=c.getOtherAxis(d),m=a.coordinateSystem.cx,n=a.coordinateSystem.cy,o=a.get("barMinHeight")||0,p=a.get("barMinAngle")||0;g[f]=g[f]||[];for(var q=b.mapDimension(l.dim),r=b.mapDimension(d.dim),s=pD(b,q),t="radius"!==d.dim||!a.get("roundCap",!0),u=l.dataToCoord(0),v=0,w=b.count();v<w;v++){var x=b.get(q,v),y=b.get(r,v),z=x>=0?"p":"n",A=u;s&&(g[f][y]||(g[f][y]={p:u,n:u}),A=g[f][y][z]);var B=void 0,C=void 0,D=void 0,E=void 0;if("radius"===l.dim){var F=l.dataToCoord(x)-u,G=d.dataToCoord(y);Math.abs(F)<o&&(F=(F<0?-1:1)*o),B=A,C=A+F,E=(D=G-j)-k,s&&(g[f][y][z]=C)}else{var H=l.dataToCoord(x,t)-u,I=d.dataToCoord(y);Math.abs(H)<p&&(H=(H<0?-1:1)*p),C=(B=I+j)+k,D=A,E=A+H,s&&(g[f][y][z]=E)}b.setItemLayout(v,{cx:m,cy:n,r0:B,r:C,startAngle:-D*Math.PI/180,endAngle:-E*Math.PI/180,clockwise:D>=E})}}})};var Bt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Bu={splitNumber:5},Bv=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="polar",b}(kZ);function Bw(a,b){b=b||{};var c=a.coordinateSystem,d=a.axis,e={},f=d.position,g=d.orient,h=c.getRect(),i=[h.x,h.x+h.width,h.y,h.y+h.height],j={horizontal:{top:i[2],bottom:i[3]},vertical:{left:i[0],right:i[1]}};e.position=["vertical"===g?j.vertical[f]:i[0],"horizontal"===g?j.horizontal[f]:i[3]],e.rotation=Math.PI/2*({horizontal:0,vertical:1})[g],e.labelDirection=e.tickDirection=e.nameDirection=({top:-1,bottom:1,right:1,left:-1})[f],a.get(["axisTick","inside"])&&(e.tickDirection=-e.tickDirection),aY(b.labelInside,a.get(["axisLabel","inside"]))&&(e.labelDirection=-e.labelDirection);var k=b.rotate;return null==k&&(k=a.get(["axisLabel","rotate"])),e.labelRotation="top"===f?-k:k,e.z2=1,e}var Bx=["axisLine","axisTickLabel","axisName"],By=["splitArea","splitLine"],Bz=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="SingleAxisPointer",c}return af(b,a),b.prototype.render=function(b,c,d,e){var f=this.group;f.removeAll();var g=this._axisGroup;this._axisGroup=new em;var h=Bw(b),i=new sG(b,h);aH(Bx,i.add,i),f.add(this._axisGroup),f.add(i.getGroup()),aH(By,function(a){b.get([a,"show"])&&BA[a](this,this.group,this._axisGroup,b)},this),mh(g,this._axisGroup,b),a.prototype.render.call(this,b,c,d,e)},b.prototype.remove=function(){sU(this)},b.type="singleAxis",b}(sR),BA={splitLine:function(a,b,c,d){var e=d.axis;if(!e.scale.isBlank()){var f=d.getModel("splitLine"),g=f.getModel("lineStyle"),h=g.get("color");h=h instanceof Array?h:[h];for(var i=g.get("width"),j=d.coordinateSystem.getRect(),k=e.isHorizontal(),l=[],m=0,n=e.getTicksCoords({tickModel:f}),o=[],p=[],q=0;q<n.length;++q){var r=e.toGlobalCoord(n[q].coord);k?(o[0]=r,o[1]=j.y,p[0]=r,p[1]=j.y+j.height):(o[0]=j.x,o[1]=r,p[0]=j.x+j.width,p[1]=r);var s=new lI({shape:{x1:o[0],y1:o[1],x2:p[0],y2:p[1]},silent:!0});mb(s.shape,i);var t=m++%h.length;l[t]=l[t]||[],l[t].push(s)}for(var u=g.getLineStyle(["color"]),q=0;q<l.length;++q)b.add(l9(l[q],{style:aD({stroke:h[q%h.length]},u),silent:!0}))}},splitArea:function(a,b,c,d){sT(a,c,d,d)}},BB=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.getCoordSysModel=function(){return this},b.type="singleAxis",b.layoutMode="box",b.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},b}(iU);aF(BB,rx.prototype);var BC=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.type=e||"value",g.position=f||"bottom",g}return af(b,a),b.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},b.prototype.pointToData=function(a,b){return this.coordinateSystem.pointToData(a)[0]},b}(st),BD=["single"],BE=function(){function a(a,b,c){this.type="single",this.dimension="single",this.dimensions=BD,this.axisPointerEnabled=!0,this.model=a,this._init(a,b,c)}return a.prototype._init=function(a,b,c){var d=new BC(this.dimension,sb(a),[0,0],a.get("type"),a.get("position")),e="category"===d.type;d.onBand=e&&a.get("boundaryGap"),d.inverse=a.get("inverse"),d.orient=a.get("orient"),a.axis=d,d.model=a,d.coordinateSystem=this,this._axis=d},a.prototype.update=function(a,b){a.eachSeries(function(a){if(a.coordinateSystem===this){var b=a.getData();aH(b.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(b,a)},this),sa(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(a,b){this._rect=iN({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=+!!b.inverse;b.setExtent(d[e],d[1-e]),this._updateAxisTransform(b,c?a.x:a.y)},a.prototype._updateAxisTransform=function(a,b){var c=a.getExtent(),d=c[0]+c[1],e=a.isHorizontal();a.toGlobalCoord=e?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord=e?function(a){return a-b}:function(a){return d-a+b}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(a){var b=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},a.prototype.pointToData=function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a[+("horizontal"!==b.orient)]))]},a.prototype.dataToPoint=function(a){var b=this.getAxis(),c=this.getRect(),d=[],e=+("horizontal"!==b.orient);return a instanceof Array&&(a=a[0]),d[e]=b.toGlobalCoord(b.dataToCoord(+a)),d[1-e]=0===e?c.y+c.height/2:c.x+c.width/2,d},a.prototype.convertToPixel=function(a,b,c){return BF(b)===this?this.dataToPoint(c):null},a.prototype.convertFromPixel=function(a,b,c){return BF(b)===this?this.pointToData(c):null},a}();function BF(a){var b=a.seriesModel,c=a.singleAxisModel;return c&&c.coordinateSystem||b&&b.coordinateSystem}let BG={create:function(a,b){var c=[];return a.eachComponent("singleAxis",function(d,e){var f=new BE(d,a,b);f.name="single_"+e,f.resize(d,b),d.coordinateSystem=f,c.push(f)}),a.eachSeries(function(a){if("singleAxis"===a.get("coordinateSystem")){var b=a.getReferringComponents("singleAxis",e2).models[0];a.coordinateSystem=b&&b.coordinateSystem}}),c},dimensions:BD};var BH=["x","y"],BI=["width","height"],BJ=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.makeElOption=function(a,b,c,d,e){var f=c.axis,g=f.coordinateSystem,h=BM(g,1-BL(f)),i=g.dataToPoint(b)[0],j=d.get("type");if(j&&"none"!==j){var k=AB(d),l=BK[j](f,i,h);l.style=k,a.graphicKey=l.type,a.pointer=l}AF(b,a,Bw(c),c,d,e)},b.prototype.getHandleTransform=function(a,b,c){var d=Bw(b,{labelInside:!1});d.labelMargin=c.get(["handle","margin"]);var e=AE(b.axis,a,d);return{x:e[0],y:e[1],rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},b.prototype.updateHandleTransform=function(a,b,c,d){var e=c.axis,f=e.coordinateSystem,g=BL(e),h=BM(f,g),i=[a.x,a.y];i[g]+=b[g],i[g]=Math.min(h[1],i[g]),i[g]=Math.max(h[0],i[g]);var j=BM(f,1-g),k=(j[1]+j[0])/2,l=[k,k];return l[g]=i[g],{x:i[0],y:i[1],rotation:a.rotation,cursorPoint:l,tooltipOption:{verticalAlign:"middle"}}},b}(Aw),BK={line:function(a,b,c){return{type:"Line",subPixelOptimize:!0,shape:AG([b,c[0]],[b,c[1]],BL(a))}},shadow:function(a,b,c){var d=a.getBandWidth(),e=c[1]-c[0];return{type:"Rect",shape:AH([b-d/2,c[0]],[d,e],BL(a))}}};function BL(a){return+!a.isHorizontal()}function BM(a,b){var c=a.getRect();return[c[BH[b]],c[BH[b]]+c[BI[b]]]}var BN=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="single",b}(kZ),BO=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(b,c,d){var e=iR(b);a.prototype.init.apply(this,arguments),BP(b,e)},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),BP(this.option,b)},b.prototype.getCellSize=function(){return this.option.cellSize},b.type="calendar",b.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},b}(iU);function BP(a,b){var c,d=a.cellSize;1===(c=aO(d)?d:a.cellSize=[d,d]).length&&(c[1]=c[0]);var e=aI([0,1],function(a){return(null!=b[iL[a][0]]||null!=b[iL[a][1]]&&null!=b[iL[a][2]])&&(c[a]="auto"),null!=c[a]&&"auto"!==c[a]});iQ(a,b,{type:"box",ignoreSize:e})}var BQ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){var d=this.group;d.removeAll();var e=a.coordinateSystem,f=e.getRangeInfo(),g=e.getOrient(),h=b.getLocaleModel();this._renderDayRect(a,f,d),this._renderLines(a,f,g,d),this._renderYearText(a,f,g,d),this._renderMonthText(a,h,g,d),this._renderWeekText(a,h,f,g,d)},b.prototype._renderDayRect=function(a,b,c){for(var d=a.coordinateSystem,e=a.getModel("itemStyle").getItemStyle(),f=d.getCellWidth(),g=d.getCellHeight(),h=b.start.time;h<=b.end.time;h=d.getNextNDay(h,1).time){var i=d.dataToRect([h],!1).tl,j=new gy({shape:{x:i[0],y:i[1],width:f,height:g},cursor:"default",style:e});c.add(j)}},b.prototype._renderLines=function(a,b,c,d){var e=this,f=a.coordinateSystem,g=a.getModel(["splitLine","lineStyle"]).getLineStyle(),h=a.get(["splitLine","show"]),i=g.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var j=b.start,k=0;j.time<=b.end.time;k++){m(j.formatedDate),0===k&&(j=f.getDateInfo(b.start.y+"-"+b.start.m));var l=j.date;l.setMonth(l.getMonth()+1),j=f.getDateInfo(l)}function m(b){e._firstDayOfMonth.push(f.getDateInfo(b)),e._firstDayPoints.push(f.dataToRect([b],!1).tl);var i=e._getLinePointsOfOneWeek(a,b,c);e._tlpoints.push(i[0]),e._blpoints.push(i[i.length-1]),h&&e._drawSplitline(i,g,d)}m(f.getNextNDay(b.end.time,1).formatedDate),h&&this._drawSplitline(e._getEdgesPoints(e._tlpoints,i,c),g,d),h&&this._drawSplitline(e._getEdgesPoints(e._blpoints,i,c),g,d)},b.prototype._getEdgesPoints=function(a,b,c){var d=[a[0].slice(),a[a.length-1].slice()],e=+("horizontal"!==c);return d[0][e]=d[0][e]-b/2,d[1][e]=d[1][e]+b/2,d},b.prototype._drawSplitline=function(a,b,c){var d=new lF({z2:20,shape:{points:a},style:b});c.add(d)},b.prototype._getLinePointsOfOneWeek=function(a,b,c){for(var d=a.coordinateSystem,e=d.getDateInfo(b),f=[],g=0;g<7;g++){var h=d.getNextNDay(e.time,g),i=d.dataToRect([h.time],!1);f[2*h.day]=i.tl,f[2*h.day+1]=i["horizontal"===c?"bl":"tr"]}return f},b.prototype._formatterLabel=function(a,b){if(aQ(a)&&a){var c;return c=a,aH(b,function(a,b){c=c.replace("{"+b+"}",a)}),c}return aP(a)?a(b):b.nameMap},b.prototype._yearTextPositionControl=function(a,b,c,d,e){var f=b[0],g=b[1],h=["center","bottom"];"bottom"===d?(g+=e,h=["center","top"]):"left"===d?f-=e:"right"===d?(f+=e,h=["center","top"]):g-=e;var i=0;return("left"===d||"right"===d)&&(i=Math.PI/2),{rotation:i,x:f,y:g,style:{align:h[0],verticalAlign:h[1]}}},b.prototype._renderYearText=function(a,b,c,d){var e=a.getModel("yearLabel");if(e.get("show")){var f=e.get("margin"),g=e.get("position");g||(g="horizontal"!==c?"top":"left");var h=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],i=(h[0][0]+h[1][0])/2,j=(h[0][1]+h[1][1])/2,k=+("horizontal"!==c),l={top:[i,h[k][1]],bottom:[i,h[1-k][1]],left:[h[1-k][0],j],right:[h[k][0],j]},m=b.start.y;+b.end.y>+b.start.y&&(m=m+"-"+b.end.y);var n=e.get("formatter"),o={start:b.start.y,end:b.end.y,nameMap:m},p=new gB({z2:30,style:hK(e,{text:this._formatterLabel(n,o)})});p.attr(this._yearTextPositionControl(p,l[g],c,g,f)),d.add(p)}},b.prototype._monthTextPositionControl=function(a,b,c,d,e){var f="left",g="top",h=a[0],i=a[1];return"horizontal"===c?(i+=e,b&&(f="center"),"start"===d&&(g="bottom")):(h+=e,b&&(g="middle"),"start"===d&&(f="right")),{x:h,y:i,align:f,verticalAlign:g}},b.prototype._renderMonthText=function(a,b,c,d){var e=a.getModel("monthLabel");if(e.get("show")){var f=e.get("nameMap"),g=e.get("margin"),h=e.get("position"),i=e.get("align"),j=[this._tlpoints,this._blpoints];(!f||aQ(f))&&(f&&(b=h7[f]||b),f=b.get(["time","monthAbbr"])||[]);var k=+("start"!==h),l=+("horizontal"!==c);g="start"===h?-g:g;for(var m="center"===i,n=0;n<j[k].length-1;n++){var o=j[k][n].slice(),p=this._firstDayOfMonth[n];if(m){var q=this._firstDayPoints[n];o[l]=(q[l]+j[0][n+1][l])/2}var r=e.get("formatter"),s=f[p.m-1],t={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:s},u=new gB({z2:30,style:aC(hK(e,{text:this._formatterLabel(r,t)}),this._monthTextPositionControl(o,m,c,h,g))});d.add(u)}}},b.prototype._weekTextPositionControl=function(a,b,c,d,e){var f="center",g="middle",h=a[0],i=a[1],j="start"===c;return"horizontal"===b?(h=h+d+(j?1:-1)*e[0]/2,f=j?"right":"left"):(i=i+d+(j?1:-1)*e[1]/2,g=j?"bottom":"top"),{x:h,y:i,align:f,verticalAlign:g}},b.prototype._renderWeekText=function(a,b,c,d,e){var f=a.getModel("dayLabel");if(f.get("show")){var g=a.coordinateSystem,h=f.get("position"),i=f.get("nameMap"),j=f.get("margin"),k=g.getFirstDayOfWeek();(!i||aQ(i))&&(i&&(b=h7[i]||b),i=b.get(["time","dayOfWeekShort"])||aI(b.get(["time","dayOfWeekAbbr"]),function(a){return a[0]}));var l=g.getNextNDay(c.end.time,7-c.lweek).time,m=[g.getCellWidth(),g.getCellHeight()];j=es(j,Math.min(m[1],m[0])),"start"===h&&(l=g.getNextNDay(c.start.time,-(7+c.fweek)).time,j=-j);for(var n=0;n<7;n++){var o=g.getNextNDay(l,n),p=g.dataToRect([o.time],!1).center,q=new gB({z2:30,style:aC(hK(f,{text:i[Math.abs((n+k)%7)]}),this._weekTextPositionControl(p,d,h,j,m))});e.add(q)}}},b.type="calendar",b}(kZ),BR=function(){function a(b,c,d){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=b}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(a){var b=(a=eD(a)).getFullYear(),c=a.getMonth()+1,d=c<10?"0"+c:""+c,e=a.getDate(),f=e<10?"0"+e:""+e,g=a.getDay();return{y:b+"",m:d,d:f,day:g=Math.abs((g+7-this.getFirstDayOfWeek())%7),time:a.getTime(),formatedDate:b+"-"+d+"-"+f,date:a}},a.prototype.getNextNDay=function(a,b){return 0===(b=b||0)||(a=new Date(this.getDateInfo(a).time)).setDate(a.getDate()+b),this.getDateInfo(a)},a.prototype.update=function(a,b){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,d=["width","height"],e=this._model.getCellSize().slice(),f=this._model.getBoxLayoutParams(),g="horizontal"===this._orient?[c,7]:[7,c];aH([0,1],function(a){j(e,a)&&(f[d[a]]=e[a]*g[a])});var h={width:b.getWidth(),height:b.getHeight()},i=this._rect=iN(f,h);function j(a,b){return null!=a[b]&&"auto"!==a[b]}aH([0,1],function(a){j(e,a)||(e[a]=i[d[a]]/g[a])}),this._sw=e[0],this._sh=e[1]},a.prototype.dataToPoint=function(a,b){aO(a)&&(a=a[0]),null==b&&(b=!0);var c=this.getDateInfo(a),d=this._rangeInfo,e=c.formatedDate;if(b&&!(c.time>=d.start.time&&c.time<d.end.time+864e5))return[NaN,NaN];var f=c.day,g=this._getRangeInfo([d.start.time,e]).nthWeek;return"vertical"===this._orient?[this._rect.x+f*this._sw+this._sw/2,this._rect.y+g*this._sh+this._sh/2]:[this._rect.x+g*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]},a.prototype.pointToData=function(a){var b=this.pointToDate(a);return b&&b.time},a.prototype.dataToRect=function(a,b){var c=this.dataToPoint(a,b);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},a.prototype.pointToDate=function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1,c=Math.floor((a[1]-this._rect.y)/this._sh)+1,d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(c,b-1,d):this._getDateByWeeksAndDay(b,c-1,d)},a.prototype.convertToPixel=function(a,b,c){var d=BS(b);return d===this?d.dataToPoint(c):null},a.prototype.convertFromPixel=function(a,b,c){var d=BS(b);return d===this?d.pointToData(c):null},a.prototype.containPoint=function(a){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var a,b=this._model.get("range");if(aO(b)&&1===b.length&&(b=b[0]),aO(b))a=b;else{var c=b.toString();if(/^\d{4}$/.test(c)&&(a=[c+"-01-01",c+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(c)){var d=this.getDateInfo(c),e=d.date;e.setMonth(e.getMonth()+1);var f=this.getNextNDay(e,-1);a=[d.formatedDate,f.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(c)&&(a=[c,c])}if(!a)return b;var g=this._getRangeInfo(a);return g.start.time>g.end.time&&a.reverse(),a},a.prototype._getRangeInfo=function(a){var b,c=[this.getDateInfo(a[0]),this.getDateInfo(a[1])];c[0].time>c[1].time&&(b=!0,c.reverse());var d=Math.floor(c[1].time/864e5)-Math.floor(c[0].time/864e5)+1,e=new Date(c[0].time),f=e.getDate(),g=c[1].date.getDate();e.setDate(f+d-1);var h=e.getDate();if(h!==g)for(var i=e.getTime()-c[1].time>0?1:-1;(h=e.getDate())!==g&&(e.getTime()-c[1].time)*i>0;)d-=i,e.setDate(h-i);var j=Math.floor((d+c[0].day+6)/7),k=b?-j+1:j-1;return b&&c.reverse(),{range:[c[0].formatedDate,c[1].formatedDate],start:c[0],end:c[1],allDay:d,weeks:j,nthWeek:k,fweek:c[0].day,lweek:c[1].day}},a.prototype._getDateByWeeksAndDay=function(a,b,c){var d=this._getRangeInfo(c);if(a>d.weeks||0===a&&b<d.fweek||a===d.weeks&&b>d.lweek)return null;var e=(a-1)*7-d.fweek+b,f=new Date(d.start.time);return f.setDate(+d.start.d+e),this.getDateInfo(f)},a.create=function(b,c){var d=[];return b.eachComponent("calendar",function(e){var f=new a(e,b,c);d.push(f),e.coordinateSystem=f}),b.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=d[a.get("calendarIndex")||0])}),d},a.dimensions=["time","value"],a}();function BS(a){var b=a.calendarModel,c=a.seriesModel;return b?b.coordinateSystem:c?c.coordinateSystem:null}function BT(a,b){var c;return aH(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}var BU=["transition","enterFrom","leaveTo"],BV=BU.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function BW(a,b,c){if(c&&(!a[c]&&b[c]&&(a[c]={}),a=a[c],b=b[c]),a&&b)for(var d=c?BU:BV,e=0;e<d.length;e++){var f=d[e];null==a[f]&&null!=b[f]&&(a[f]=b[f])}}var BX=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.preventAutoZ=!0,c}return af(b,a),b.prototype.mergeOption=function(b,c){var d=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,b,c),this.option.elements=d},b.prototype.optionUpdated=function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,f=[];this._flatten(d,f,null);var g=eT(e,f,"normalMerge"),h=this._elOptionsToUpdate=[];aH(g,function(a,b){var c=a.newOption;if(c){h.push(c);var d,f,g,i,j=a.existing;if(c.id=a.keyInfo.id,!c.type&&j&&(c.type=j.type),null==c.parentId){var k=c.parentOption;k?c.parentId=k.id:j&&(c.parentId=j.parentId)}c.parentOption=null,d=aC({},c),f=e[b],"merge"===(g=c.$action||"merge")?f?(aA(f,d,!0),iQ(f,d,{ignoreSize:!0}),iS(c,f),BW(c,f),BW(c,f,"shape"),BW(c,f,"style"),BW(c,f,"extra"),c.clipPath=f.clipPath):e[b]=d:"replace"===g?e[b]=d:"remove"===g&&f&&(e[b]=null),i=e[b],i&&(i.hv=c.hv=[BT(c,["left","right"]),BT(c,["top","bottom"])],"group"===i.type&&(null==i.width&&(i.width=c.width=0),null==i.height&&(i.height=c.height=0)))}},this),c.elements=aK(e,function(a){return a&&delete a.$action,null!=a})},b.prototype._flatten=function(a,b,c){aH(a,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;d&&d.length&&this._flatten(d,b,a),delete a.children}},this)},b.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},b.type="graphic",b.defaultOption={elements:[]},b}(iU),BY={path:null,compoundPath:null,group:em,image:gr,text:gB},BZ=e$(),B$=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(){this._elMap=a7()},b.prototype.render=function(a,b,c){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,c)},b.prototype._updateElements=function(a){var b=a.useElOptionsToUpdate();if(b){var c=this._elMap,d=this.group,e=a.get("z"),f=a.get("zlevel");aH(b,function(b){var g=eW(b.id,null),h=null!=g?c.get(g):null,i=eW(b.parentId,null),j=null!=i?c.get(i):d,k=b.type,l=b.style;"text"===k&&l&&b.hv&&b.hv[1]&&(l.textVerticalAlign=l.textBaseline=l.verticalAlign=l.align=null);var m=b.textContent,n=b.textConfig;if(l&&zJ(l,k,!!n,!!m)){var o=zK(l,k,!0);!n&&o.textConfig&&(n=b.textConfig=o.textConfig),!m&&o.textContent&&(m=o.textContent)}var p=(y=aC({},y=b),aH(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(iK),function(a){delete y[a]}),y),q=b.$action||"merge",r="merge"===q,s="replace"===q;if(r){var t=!h,u=h;t?u=B0(g,j,b.type,c):(u&&(BZ(u).isNew=!1),z2(u)),u&&(zT(u,p,a,{isInit:t}),B2(u,b,e,f))}else if(s){B1(h,b,c,a);var v=B0(g,j,b.type,c);v&&(zT(v,p,a,{isInit:!0}),B2(v,b,e,f))}else"remove"===q&&(zU(h,b),B1(h,b,c,a));var w=c.get(g);if(w&&m)if(r){var x=w.getTextContent();x?x.attr(m):w.setTextContent(new gB(m))}else s&&w.setTextContent(new gB(m));if(w){var y,z,A,B,C,D=b.clipPath;if(D){var E=D.type,F=void 0,t=!1;if(r){var G=w.getClipPath();F=(t=!G||BZ(G).type!==E)?B_(E):G}else s&&(t=!0,F=B_(E));w.setClipPath(F),zT(F,D,a,{isInit:t}),z3(F,D.keyframeAnimation,a)}var H=BZ(w);w.setTextConfig(n),H.option=b,z=w,A=a,B=b,C=gO(z).eventData,z.silent||z.ignore||C||(C=gO(z).eventData={componentType:"graphic",componentIndex:A.componentIndex,name:z.name}),C&&(C.info=B.info),mn({el:w,componentModel:a,itemName:w.name,itemTooltipOption:b.tooltip}),z3(w,b.keyframeAnimation,a)}})}},b.prototype._relocate=function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=b.getWidth(),g=b.getHeight(),h=["x","y"],i=0;i<c.length;i++){var j=c[i],k=eW(j.id,null),l=null!=k?e.get(k):null;if(l&&l.isGroup){var m=l.parent,n=m===d,o=BZ(l),p=BZ(m);o.width=es(o.option.width,n?f:p.width)||0,o.height=es(o.option.height,n?g:p.height)||0}}for(var i=c.length-1;i>=0;i--){var j=c[i],k=eW(j.id,null),l=null!=k?e.get(k):null;if(l){var m=l.parent,p=BZ(m),q=m===d?{width:f,height:g}:{width:p.width,height:p.height},r={},s=iO(l,j,q,null,{hv:j.hv,boundingMode:j.bounding},r);if(!BZ(l).isNew&&s){for(var t=j.transition,u={},v=0;v<h.length;v++){var w=h[v],x=r[w];t&&(zW(t)||aE(t,w)>=0)?u[w]=x:l[w]=x}hy(l,u,a,0)}else l.attr(r)}}},b.prototype._clear=function(){var a=this,b=this._elMap;b.each(function(c){B1(c,BZ(c).option,b,a._lastGraphicModel)}),this._elMap=a7()},b.prototype.dispose=function(){this._clear()},b.type="graphic",b}(kZ);function B_(a){var b=new(bb(BY,a)?BY[a]:l5(a))({});return BZ(b).type=a,b}function B0(a,b,c,d){var e=B_(c);return b.add(e),d.set(a,e),BZ(e).id=a,BZ(e).isNew=!0,e}function B1(a,b,c,d){a&&a.parent&&("group"===a.type&&a.traverse(function(a){B1(a,b,c,d)}),zV(a,b,d),c.removeKey(BZ(a).id))}function B2(a,b,c,d){a.isGroup||aH([["cursor",fC.prototype.cursor],["zlevel",d||0],["z",c||0],["z2",0]],function(c){var d=c[0];bb(b,d)?a[d]=aZ(b[d],c[1]):null==a[d]&&(a[d]=c[1])}),aH(aL(b),function(c){if(0===c.indexOf("on")){var d=b[c];a[c]=aP(d)?d:null}}),bb(b,"draggable")&&(a.draggable=b.draggable),null!=b.name&&(a.name=b.name),null!=b.id&&(a.id=b.id)}var B3=["x","y","radius","angle","single"],B4=["cartesian2d","polar","singleAxis"];function B5(a){return a+"Axis"}function B6(a){var b=a.ecModel,c={infoList:[],infoMap:a7()};return a.eachTargetAxis(function(a,d){var e=b.getComponent(B5(a),d);if(e){var f=e.getCoordSysModel();if(f){var g=f.uid,h=c.infoMap.get(g);h||(h={model:f,axisModels:[]},c.infoList.push(h),c.infoMap.set(g,h)),h.axisModels.push(e)}}}),c}var B7=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(a){this.indexMap[a]||(this.indexList.push(a),this.indexMap[a]=!0)},a}(),B8=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._autoThrottle=!0,c._noTarget=!0,c._rangePropMode=["percent","percent"],c}return af(b,a),b.prototype.init=function(a,b,c){var d=B9(a);this.settledOption=d,this.mergeDefaultAndTheme(a,c),this._doInit(d)},b.prototype.mergeOption=function(a){var b=B9(a);aA(this.option,a,!0),aA(this.settledOption,b,!0),this._doInit(b)},b.prototype._doInit=function(a){var b=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var c=this.settledOption;aH([["start","startValue"],["end","endValue"]],function(a,d){"value"===this._rangePropMode[d]&&(b[a[0]]=c[a[0]]=null)},this),this._resetTarget()},b.prototype._resetTarget=function(){var a=this.get("orient",!0),b=this._targetAxisInfoMap=a7();this._fillSpecifiedTargetAxis(b)?this._orient=a||this._makeAutoOrientByTargetAxis():(this._orient=a||"horizontal",this._fillAutoTargetAxisByOrient(b,this._orient)),this._noTarget=!0,b.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},b.prototype._fillSpecifiedTargetAxis=function(a){var b=!1;return aH(B3,function(c){var d=this.getReferringComponents(B5(c),e3);if(d.specified){b=!0;var e=new B7;aH(d.models,function(a){e.add(a.componentIndex)}),a.set(c,e)}},this),b},b.prototype._fillAutoTargetAxisByOrient=function(a,b){var c=this.ecModel,d=!0,e="vertical"===b?"y":"x",f=c.findComponents({mainType:e+"Axis"});if(g(f,e),d){var f=c.findComponents({mainType:"singleAxis",filter:function(a){return a.get("orient",!0)===b}});g(f,"single")}function g(b,c){var e=b[0];if(e){var f=new B7;if(f.add(e.componentIndex),a.set(c,f),d=!1,"x"===c||"y"===c){var g=e.getReferringComponents("grid",e2).models[0];g&&aH(b,function(a){e.componentIndex!==a.componentIndex&&g===a.getReferringComponents("grid",e2).models[0]&&f.add(a.componentIndex)})}}}d&&aH(B3,function(b){if(d){var e=c.findComponents({mainType:B5(b),filter:function(a){return"category"===a.get("type",!0)}});if(e[0]){var f=new B7;f.add(e[0].componentIndex),a.set(b,f),d=!1}}},this)},b.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(b){a||(a=b)},this),"y"===a?"vertical":"horizontal"},b.prototype._setDefaultThrottle=function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},b.prototype._updateRangeUse=function(a){var b=this._rangePropMode,c=this.get("rangeMode");aH([["start","startValue"],["end","endValue"]],function(d,e){var f=null!=a[d[0]],g=null!=a[d[1]];f&&!g?b[e]="percent":!f&&g?b[e]="value":c?b[e]=c[e]:f&&(b[e]="percent")})},b.prototype.noTarget=function(){return this._noTarget},b.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(b,c){null==a&&(a=this.ecModel.getComponent(B5(b),c))},this),a},b.prototype.eachTargetAxis=function(a,b){this._targetAxisInfoMap.each(function(c,d){aH(c.indexList,function(c){a.call(b,d,c)})})},b.prototype.getAxisProxy=function(a,b){var c=this.getAxisModel(a,b);if(c)return c.__dzAxisProxy},b.prototype.getAxisModel=function(a,b){var c=this._targetAxisInfoMap.get(a);if(c&&c.indexMap[b])return this.ecModel.getComponent(B5(a),b)},b.prototype.setRawRange=function(a){var b=this.option,c=this.settledOption;aH([["start","startValue"],["end","endValue"]],function(d){(null!=a[d[0]]||null!=a[d[1]])&&(b[d[0]]=c[d[0]]=a[d[0]],b[d[1]]=c[d[1]]=a[d[1]])},this),this._updateRangeUse(a)},b.prototype.setCalculatedRange=function(a){var b=this.option;aH(["start","startValue","end","endValue"],function(c){b[c]=a[c]})},b.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},b.prototype.getValueRange=function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()},b.prototype.findRepresentativeAxisProxy=function(a){if(a)return a.__dzAxisProxy;for(var b,c=this._targetAxisInfoMap.keys(),d=0;d<c.length;d++)for(var e=c[d],f=this._targetAxisInfoMap.get(e),g=0;g<f.indexList.length;g++){var h=this.getAxisProxy(e,f.indexList[g]);if(h.hostedBy(this))return h;b||(b=h)}return b},b.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},b.prototype.getOrient=function(){return this._orient},b.type="dataZoom",b.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],b.defaultOption={z:4,filterMode:"filter",start:0,end:100},b}(iU);function B9(a){var b={};return aH(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}var Ca=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="dataZoom.select",b}(B8),Cb=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},b.type="dataZoom",b}(kZ),Cc=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="dataZoom.select",b}(Cb),Cd=function(){function a(a,b,c,d){this._dimName=a,this._axisIndex=b,this.ecModel=d,this._dataZoomModel=c}return a.prototype.hostedBy=function(a){return this._dataZoomModel===a},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var a=[];return this.ecModel.eachSeries(function(b){if(aE(B4,b.get("coordinateSystem"))>=0){var c=B5(this._dimName),d=b.getReferringComponents(c,e2).models[0];d&&this._axisIndex===d.componentIndex&&a.push(b)}},this),a},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return az(this._minMaxSpan)},a.prototype.calculateDataWindow=function(a){var b,c=this._dataExtent,d=this.getAxisModel().axis.scale,e=this._dataZoomModel.getRangePropMode(),f=[0,100],g=[],h=[];aH(["start","end"],function(i,j){var k=a[i],l=a[i+"Value"];"percent"===e[j]?(null==k&&(k=f[j]),l=d.parse(er(k,f,c))):(b=!0,k=er(l=null==l?c[j]:d.parse(l),c,f)),h[j]=null==l||isNaN(l)?c[j]:l,g[j]=null==k||isNaN(k)?f[j]:k}),eu(h),eu(g);var i=this._minMaxSpan;function j(a,b,c,e,f){var g=f?"Span":"ValueSpan";w3(0,a,c,"all",i["min"+g],i["max"+g]);for(var h=0;h<2;h++)b[h]=er(a[h],c,e,!0),f&&(b[h]=d.parse(b[h]))}return b?j(h,g,c,f,!1):j(g,h,f,c,!0),{valueWindow:h,percentWindow:g}},a.prototype.reset=function(a){if(a===this._dataZoomModel){var b,c,d,e,f,g=this.getTargetSeriesModels();this._dataExtent=(b=this,c=this._dimName,d=[1/0,-1/0],aH(g,function(a){var b;b=a.getData(),b&&aH(sg(b,c),function(a){var c=b.getApproximateExtent(a);c[0]<d[0]&&(d[0]=c[0]),c[1]>d[1]&&(d[1]=c[1])})}),[(f=r7((e=b.getAxisModel()).axis.scale,e,d).calculate()).min,f.max]),this._updateMinMaxSpan();var h=this.calculateDataWindow(a.settledOption);this._valueWindow=h.valueWindow,this._percentWindow=h.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(a,b){if(a===this._dataZoomModel){var c=this._dimName,d=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow;"none"!==e&&aH(d,function(a){var b=a.getData(),d=b.mapDimensionsAll(c);if(d.length){if("weakFilter"===e){var g=b.getStore(),h=aI(d,function(a){return b.getDimensionIndex(a)},b);b.filterSelf(function(a){for(var b,c,e,i=0;i<d.length;i++){var j=g.get(h[i],a),k=!isNaN(j),l=j<f[0],m=j>f[1];if(k&&!l&&!m)return!0;k&&(e=!0),l&&(b=!0),m&&(c=!0)}return e&&b&&c})}else aH(d,function(c){if("empty"===e)a.setData(b=b.map(c,function(a){var b;return(b=a)>=f[0]&&b<=f[1]?a:NaN}));else{var d={};d[c]=f,b.selectRange(d)}});aH(d,function(a){b.setApproximateExtent(f,a)})}})}},a.prototype._updateMinMaxSpan=function(){var a=this._minMaxSpan={},b=this._dataZoomModel,c=this._dataExtent;aH(["min","max"],function(d){var e=b.get(d+"Span"),f=b.get(d+"ValueSpan");null!=f&&(f=this.getAxisModel().axis.scale.parse(f)),null!=f?e=er(c[0]+f,c,[0,100],!0):null!=e&&(f=er(e,[0,100],c,!0)-c[0]),a[d+"Span"]=e,a[d+"ValueSpan"]=f},this)},a.prototype._setAxisModel=function(){var a=this.getAxisModel(),b=this._percentWindow,c=this._valueWindow;if(b){var d=ex(c,[0,500]);d=Math.min(d,20);var e=a.axis.scale.rawExtentInfo;0!==b[0]&&e.setDeterminedMinMax("min",+c[0].toFixed(d)),100!==b[1]&&e.setDeterminedMinMax("max",+c[1].toFixed(d)),e.freeze()}},a}();let Ce={getTargetSeries:function(a){function b(b){a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(d,e){var f=a.getComponent(B5(d),e);b(d,e,f,c)})})}b(function(a,b,c,d){c.__dzAxisProxy=null});var c=[];b(function(b,d,e,f){e.__dzAxisProxy||(e.__dzAxisProxy=new Cd(b,d,f,a),c.push(e.__dzAxisProxy))});var d=a7();return aH(c,function(a){aH(a.getTargetSeriesModels(),function(a){d.set(a.uid,a)})}),d},overallReset:function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(b,c){a.getAxisProxy(b,c).reset(a)}),a.eachTargetAxis(function(c,d){a.getAxisProxy(c,d).filterData(a,b)})}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy();if(b){var c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setCalculatedRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]})}})}};var Cf=!1;function Cg(a){Cf||(Cf=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,Ce),a.registerAction("dataZoom",function(a,b){aH(function(a,b){var c,d=a7(),e=[],f=a7();a.eachComponent({mainType:"dataZoom",query:b},function(a){f.get(a.uid)||h(a)});do c=!1,a.eachComponent("dataZoom",g);while(c)function g(a){var b;!f.get(a.uid)&&(b=!1,a.eachTargetAxis(function(a,c){var e=d.get(a);e&&e[c]&&(b=!0)}),b)&&(h(a),c=!0)}function h(a){f.set(a.uid,!0),e.push(a),a.eachTargetAxis(function(a,b){(d.get(a)||d.set(a,[]))[b]=!0})}return e}(b,a),function(b){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Ch(a){a.registerComponentModel(Ca),a.registerComponentView(Cc),Cg(a)}var Ci=function(){},Cj={},Ck=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var b=this.ecModel;aH(this.option.feature,function(a,c){var d=Cj[c];d&&(d.getDefaultOption&&(d.defaultOption=d.getDefaultOption(b)),aA(a,d.defaultOption))})},b.type="toolbox",b.layoutMode={type:"box",ignoreSize:!0},b.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},b}(iU);function Cl(a,b){var c=a0(b.get("padding")),d=b.getItemStyle(["color","opacity"]);return d.fill=b.get("backgroundColor"),a=new gy({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}var Cm=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.render=function(a,b,c,d){var e=this.group;if(e.removeAll(),a.get("show")){var f,g,h,i,j=+a.get("itemSize"),k="vertical"===a.get("orient"),l=a.get("feature")||{},m=this._features||(this._features={}),n=[];aH(l,function(a,b){n.push(b)}),new pj(this._featureNames||[],n).add(o).update(o).remove(aN(o,null)).execute(),this._featureNames=n,f=a.getBoxLayoutParams(),g=a.get("padding"),i=iN(f,h={width:c.getWidth(),height:c.getHeight()},g),iM(a.get("orient"),e,a.get("itemGap"),i.width,i.height),iO(e,f,h,g),e.add(Cl(e.getBoundingRect(),a)),k||e.eachChild(function(a){var b=a.__title,d=a.ensureState("emphasis"),f=d.textConfig||(d.textConfig={}),g=a.getTextContent(),h=g&&g.ensureState("emphasis");if(h&&!aP(h)&&b){var i=h.style||(h.style={}),k=d8(b,gB.makeFont(i)),l=a.x+e.x,m=a.y+e.y+j,n=!1;m+k.height>c.getHeight()&&(f.position="top",n=!0);var o=n?-5-k.height:j+10;l+k.width/2>c.getWidth()?(f.position=["100%",o],i.align="right"):l-k.width/2<0&&(f.position=[0,o],i.align="left")}})}function o(f,g){var h,i,o,p,q,r,s,t,u,v,w,x=n[f],y=n[g],z=l[x],A=new h2(z,a,a.ecModel);if(d&&null!=d.newTitle&&d.featureName===x&&(z.title=d.newTitle),x&&!y){if(0===x.indexOf("my"))w={onclick:A.option.onclick,featureName:x};else{var B=Cj[x];if(!B)return;w=new B}m[x]=w}else if(!(w=m[y]))return;w.uid=h4("toolbox-feature"),w.model=A,w.ecModel=b,w.api=c;var C=w instanceof Ci;if(!x&&y){C&&w.dispose&&w.dispose(b,c);return}if(!A.get("show")||C&&w.unusable){C&&w.remove&&w.remove(b,c);return}h=A,i=w,o=x,r=h.getModel("iconStyle"),s=h.getModel(["emphasis","iconStyle"]),t=i instanceof Ci&&i.getIcons?i.getIcons():h.get("icon"),u=h.get("title")||{},aQ(t)?(p={})[o]=t:p=t,aQ(u)?(q={})[o]=u:q=u,v=h.iconPaths={},aH(p,function(d,f){var g=mk(d,{},{x:-j/2,y:-j/2,width:j,height:j});g.setStyle(r.getItemStyle()),g.ensureState("emphasis").style=s.getItemStyle();var l=new gB({style:{text:q[f],align:s.get("textAlign"),borderRadius:s.get("textBorderRadius"),padding:s.get("textPadding"),fill:null,font:hQ({fontStyle:s.get("textFontStyle"),fontFamily:s.get("textFontFamily"),fontSize:s.get("textFontSize"),fontWeight:s.get("textFontWeight")},b)},ignore:!0});g.setTextContent(l),mn({el:g,componentModel:a,itemName:f,formatterParamsExtra:{title:q[f]}}),g.__title=q[f],g.on("mouseover",function(){var b=s.getItemStyle(),d=k?null==a.get("right")&&"right"!==a.get("left")?"right":"left":null==a.get("bottom")&&"bottom"!==a.get("top")?"bottom":"top";l.setStyle({fill:s.get("textFill")||b.fill||b.stroke||"#000",backgroundColor:s.get("textBackgroundColor")}),g.setTextConfig({position:s.get("textPosition")||d}),l.ignore=!a.get("showTitle"),c.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==h.get(["iconStatus",f])&&c.leaveEmphasis(this),l.hide()}),("emphasis"===h.get(["iconStatus",f])?hd:he)(g),e.add(g),g.on("click",aM(i.onclick,i,b,c,f)),v[f]=g}),A.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&("emphasis"===b?hd:he)(d[a])},w instanceof Ci&&w.render&&w.render(A,b,c,d)}},b.prototype.updateView=function(a,b,c,d){aH(this._features,function(a){a instanceof Ci&&a.updateView&&a.updateView(a.model,b,c,d)})},b.prototype.remove=function(a,b){aH(this._features,function(c){c instanceof Ci&&c.remove&&c.remove(a,b)}),this.group.removeAll()},b.prototype.dispose=function(a,b){aH(this._features,function(c){c instanceof Ci&&c.dispose&&c.dispose(a,b)})},b.type="toolbox",b}(kZ),Cn=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e="svg"===b.getZr().painter.getType(),f=e?"svg":c.get("type",!0)||"png",g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",connectedBackgroundColor:c.get("connectedBackgroundColor"),excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")}),h=ah.browser;if(aP(MouseEvent)&&(h.newEdge||!h.ie&&!h.edge)){var i=document.createElement("a");i.download=d+"."+f,i.target="_blank",i.href=g;var j=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});i.dispatchEvent(j)}else if(window.navigator.msSaveOrOpenBlob||e){var k=g.split(","),l=k[0].indexOf("base64")>-1,m=e?decodeURIComponent(k[1]):k[1];l&&(m=window.atob(m));var n=d+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var o=m.length,p=new Uint8Array(o);o--;)p[o]=m.charCodeAt(o);var q=new Blob([p]);window.navigator.msSaveOrOpenBlob(q,n)}else{var r=document.createElement("iframe");document.body.appendChild(r);var s=r.contentWindow,t=s.document;t.open("image/svg+xml","replace"),t.write(m),t.close(),s.focus(),t.execCommand("SaveAs",!0,n),document.body.removeChild(r)}}else{var u=c.get("lang"),v='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>',w=window.open();w.document.write(v),w.document.title=d}},b.getDefaultOption=function(a){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},b}(Ci),Co="__ec_magicType_stack__",Cp=[["line","bar"],["stack"]],Cq=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return aH(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c},b.getDefaultOption=function(a){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},b.prototype.onclick=function(a,b,c){var d,e=this.model,f=e.get(["seriesIndex",c]);if(Cr[c]){var g={series:[]};aH(Cp,function(a){aE(a,c)>=0&&aH(a,function(a){e.setIconStatus(a,"normal")})}),e.setIconStatus(c,"emphasis"),a.eachComponent({mainType:"series",query:null==f?null:{seriesIndex:f}},function(a){var b=a.subType,d=a.id,f=Cr[c](b,d,a,e);f&&(aD(f,a.option),g.series.push(f));var h=a.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===c||"bar"===c)){var i=h.getAxesByScale("ordinal")[0];if(i){var j=i.dim+"Axis",k=a.getReferringComponents(j,e2).models[0].componentIndex;g[j]=g[j]||[];for(var l=0;l<=k;l++)g[j][k]=g[j][k]||{};g[j][k].boundaryGap="bar"===c}}});var h=c;"stack"===c&&(d=aA({stack:e.option.title.tiled,tiled:e.option.title.stack},e.option.title),"emphasis"!==e.get(["iconStatus",c])&&(h="tiled")),b.dispatchAction({type:"changeMagicType",currentType:h,newOption:g,newTitle:d,featureName:"magicType"})}},b}(Ci),Cr={line:function(a,b,c,d){if("bar"===a)return aA({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get(["option","line"])||{},!0)},bar:function(a,b,c,d){if("line"===a)return aA({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get(["option","bar"])||{},!0)},stack:function(a,b,c,d){var e=c.get("stack")===Co;if("line"===a||"bar"===a)return d.setIconStatus("stack",e?"normal":"emphasis"),aA({id:b,stack:e?"":Co},d.get(["option","stack"])||{},!0)}};oe({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});var Cs=Array(60).join("-");function Ct(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Cu=RegExp("[	]+","g"),Cv=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.onclick=function(a,b){setTimeout(function(){b.dispatchAction({type:"hideTip"})});var c,d,e,f,g,h,i=b.getDom(),j=this.model;this._dom&&i.removeChild(this._dom);var k=document.createElement("div");k.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",k.style.backgroundColor=j.get("backgroundColor")||"#fff";var l=document.createElement("h4"),m=j.get("lang")||[];l.innerHTML=m[0]||j.get("title"),l.style.cssText="margin:10px 20px",l.style.color=j.get("textColor");var n=document.createElement("div"),o=document.createElement("textarea");n.style.cssText="overflow:auto";var p=j.get("optionToContent"),q=j.get("contentToOption"),r={value:aK([(f=(h=(c={},d=[],e=[],a.eachRawSeries(function(a){var b=a.coordinateSystem;if(b&&("cartesian2d"===b.type||"polar"===b.type)){var f=b.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;c[g]||(c[g]={categoryAxis:f,valueAxis:b.getOtherAxis(f),series:[]},e.push({axisDim:f.dim,axisIndex:f.index})),c[g].series.push(a)}else d.push(a)}else d.push(a)}),{seriesGroupByCategoryAxis:c,other:d,meta:e})).seriesGroupByCategoryAxis,g=[],aH(f,function(a,b){var c=a.categoryAxis,d=a.valueAxis.dim,e=[" "].concat(aI(a.series,function(a){return a.name})),f=[c.model.getCategories()];aH(a.series,function(a){var b=a.getRawData();f.push(a.getRawData().mapArray(b.mapDimension(d),function(a){return a}))});for(var h=[e.join("	")],i=0;i<f[0].length;i++){for(var j=[],k=0;k<f.length;k++)j.push(f[k][i]);h.push(j.join("	"))}g.push(h.join("\n"))}),g.join("\n\n"+Cs+"\n\n")),aI(h.other,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){for(var a=arguments.length,e=arguments[a-1],f=b.getName(e),g=0;g<a-1;g++)d[g]=arguments[g];c.push((f?f+"	":"")+d.join("	"))}),c.join("\n")}).join("\n\n"+Cs+"\n\n")],function(a){return!!a.replace(/[\n\t\s]/g,"")}).join("\n\n"+Cs+"\n\n"),meta:h.meta};if(aP(p)){var s=p(b.getOption());aQ(s)?n.innerHTML=s:aW(s)&&n.appendChild(s)}else{o.readOnly=j.get("readOnly");var t=o.style;t.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",t.color=j.get("textColor"),t.borderColor=j.get("textareaBorderColor"),t.backgroundColor=j.get("textareaColor"),o.value=r.value,n.appendChild(o)}var u=r.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),y=document.createElement("div");w+=";background-color:"+j.get("buttonColor")+";color:"+j.get("buttonTextColor");var z=this;function A(){i.removeChild(k),z._dom=null}bP(x,"click",A),bP(y,"click",function(){var a,c,d,e;if(null==q&&null!=p||null!=q&&null==p)return void A();try{aP(q)?a=q(n,b.getOption()):(c=o.value,d=c.split(RegExp("\n*"+Cs+"\n*","g")),e={series:[]},aH(d,function(a,b){if(function(a){if(a.slice(0,a.indexOf("\n")).indexOf("	")>=0)return!0}(a)){var c=function(a){for(var b=a.split(/\n+/g),c=Ct(b.shift()).split(Cu),d=[],e=aI(c,function(a){return{name:a,data:[]}}),f=0;f<b.length;f++){var g=Ct(b[f]).split(Cu);d.push(g.shift());for(var h=0;h<g.length;h++)e[h]&&(e[h].data[f]=g[h])}return{series:e,categories:d}}(a),d=u[b],f=d.axisDim+"Axis";d&&(e[f]=e[f]||[],e[f][d.axisIndex]={data:c.categories},e.series=e.series.concat(c.series))}else{var c=function(a){for(var b=a.split(/\n+/g),c=Ct(b.shift()),d=[],e=0;e<b.length;e++){var f=Ct(b[e]);if(f){var g=f.split(Cu),h="",i=void 0,j=!1;isNaN(g[0])?(j=!0,h=g[0],g=g.slice(1),d[e]={name:h,value:[]},i=d[e].value):i=d[e]=[];for(var k=0;k<g.length;k++)i.push(+g[k]);1===i.length&&(j?d[e].value=i[0]:d[e]=i[0])}}return{name:c,data:d}}(a);e.series.push(c)}}),a=e)}catch(a){throw A(),Error("Data view format error "+a)}a&&b.dispatchAction({type:"changeDataView",newOption:a}),A()}),x.innerHTML=m[1],y.innerHTML=m[2],y.style.cssText=x.style.cssText=w,j.get("readOnly")||v.appendChild(y),v.appendChild(x),k.appendChild(l),k.appendChild(n),k.appendChild(v),n.style.height=i.clientHeight-80+"px",i.appendChild(k),this._dom=k},b.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},b.prototype.dispose=function(a,b){this.remove(a,b)},b.getDefaultOption=function(a){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},b}(Ci);oe({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];aH(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];if(d){var e,f=d.get("data");c.push({name:a.name,data:(e=a.data,aI(e,function(a,b){var c=f&&f[b];if(!aT(c)||aO(c))return a;aT(a)&&!aO(a)||(a={value:a});var d=null!=c.name&&null==a.name;return a=aD(a,c),d&&delete a.name,a}))})}else c.push(aC({type:"scatter"},a))}),b.mergeOption(aD({series:c},a.newOption))});var Cw=e$();function Cx(a){var b=Cw(a);return b.snapshots||(b.snapshots=[{}]),b.snapshots}var Cy=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.onclick=function(a,b){Cw(a).snapshots=null,b.dispatchAction({type:"restore",from:this.uid})},b.getDefaultOption=function(a){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])}},b}(Ci);oe({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var Cz=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],CA=function(){function a(a,b,c){var d=this;this._targetInfoList=[];var e=CC(b,a);aH(CD,function(a,b){(!c||!c.include||aE(c.include,b)>=0)&&a(e,d._targetInfoList)})}return a.prototype.setOutputRanges=function(a,b){return this.matchOutputRanges(a,b,function(a,b,c){if((a.coordRanges||(a.coordRanges=[])).push(b),!a.coordRange){a.coordRange=b;var d=CG[a.brushType](0,c,b);a.__rangeOffset={offset:CI[a.brushType](d.values,a.range,[1,1]),xyMinMax:d.xyMinMax}}}),a},a.prototype.matchOutputRanges=function(a,b,c){aH(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&aH(d.coordSyses,function(d){var e=CG[a.brushType](1,d,a.range,!0);c(a,e.values,d,b)})},this)},a.prototype.setInputRanges=function(a,b){aH(a,function(a){var c=this.findTargetInfo(a,b);if(a.range=a.range||[],c&&!0!==c){a.panelId=c.panelId;var d,e,f,g,h,i=CG[a.brushType](0,c.coordSys,a.coordRange),j=a.__rangeOffset;a.range=j?CI[a.brushType](i.values,j.offset,(d=i.xyMinMax,e=j.xyMinMax,f=CK(d),g=CK(e),isNaN((h=[f[0]/g[0],f[1]/g[1]])[0])&&(h[0]=1),isNaN(h[1])&&(h[1]=1),h)):i.values}},this)},a.prototype.makePanelOpts=function(a,b){return aI(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b?b(c):null,clipPath:xS(d),isTargetByCursor:xU(d,a,c.coordSysModel),getLinearBrushOtherExtent:xT(d)}})},a.prototype.controlSeries=function(a,b,c){var d=this.findTargetInfo(a,c);return!0===d||d&&aE(d.coordSyses,b.coordinateSystem)>=0},a.prototype.findTargetInfo=function(a,b){for(var c=this._targetInfoList,d=CC(b,a),e=0;e<c.length;e++){var f=c[e],g=a.panelId;if(g){if(f.panelId===g)return f}else for(var h=0;h<CE.length;h++)if(CE[h](d,f))return f}return!0},a}();function CB(a){return a[0]>a[1]&&a.reverse(),a}function CC(a,b){return e0(a,b,{includeMainTypes:Cz})}var CD={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels,e=a.gridModels,f=a7(),g={},h={};(c||d||e)&&(aH(c,function(a){var b=a.axis.grid.model;f.set(b.id,b),g[b.id]=!0}),aH(d,function(a){var b=a.axis.grid.model;f.set(b.id,b),h[b.id]=!0}),aH(e,function(a){f.set(a.id,a),g[a.id]=!0,h[a.id]=!0}),f.each(function(a){var e=a.coordinateSystem,f=[];aH(e.getCartesians(),function(a,b){(aE(c,a.getAxis("x").model)>=0||aE(d,a.getAxis("y").model)>=0)&&f.push(a)}),b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:f[0],coordSyses:f,getPanelRect:CF.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){aH(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:CF.geo})})}},CE=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;return!e&&c&&(e=c.axis.grid.model),!e&&d&&(e=d.axis.grid.model),e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],CF={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(me(a)),b}},CG={lineX:aN(CH,0),lineY:aN(CH,1),rect:function(a,b,c,d){var e=a?b.pointToData([c[0][0],c[1][0]],d):b.dataToPoint([c[0][0],c[1][0]],d),f=a?b.pointToData([c[0][1],c[1][1]],d):b.dataToPoint([c[0][1],c[1][1]],d),g=[CB([e[0],f[0]]),CB([e[1],f[1]])];return{values:g,xyMinMax:g}},polygon:function(a,b,c,d){var e=[[1/0,-1/0],[1/0,-1/0]];return{values:aI(c,function(c){var f=a?b.pointToData(c,d):b.dataToPoint(c,d);return e[0][0]=Math.min(e[0][0],f[0]),e[1][0]=Math.min(e[1][0],f[1]),e[0][1]=Math.max(e[0][1],f[0]),e[1][1]=Math.max(e[1][1],f[1]),f}),xyMinMax:e}}};function CH(a,b,c,d){var e=c.getAxis(["x","y"][a]),f=CB(aI([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a]),!0):e.toGlobalCoord(e.dataToCoord(d[a]))})),g=[];return g[a]=f,g[1-a]=[NaN,NaN],{values:f,xyMinMax:g}}var CI={lineX:aN(CJ,0),lineY:aN(CJ,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return aI(a,function(a,d){return[a[0]-c[0]*b[d][0],a[1]-c[1]*b[d][1]]})}};function CJ(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function CK(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var CL=eO+"toolbox-dataZoom_",CM=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.render=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;this._brushController||(this._brushController=new xn(c.getZr()),this._brushController.on("brush",aM(this._onBrush,this)).mount()),e=a,f=b,g=this,h=d,i=c,j=g._isZoomActive,h&&"takeGlobalCursor"===h.type&&(j="dataZoomSelect"===h.key&&h.dataZoomSelectActive),g._isZoomActive=j,e.setIconStatus("zoom",j?"emphasis":"normal"),k=new CA(CO(e),f,{include:["grid"]}).makePanelOpts(i,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"}),g._brushController.setPanels(k).enableBrush(!!j&&!!k.length&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}),l=a,m=b,l.setIconStatus("back",Cx(m).length>1?"emphasis":"normal")},b.prototype.onclick=function(a,b,c){CN[c].call(this)},b.prototype.remove=function(a,b){this._brushController&&this._brushController.unmount()},b.prototype.dispose=function(a,b){this._brushController&&this._brushController.dispose()},b.prototype._onBrush=function(a){var b=a.areas;if(a.isEnd&&b.length){var c,d,e,f={},g=this.ecModel;this._brushController.updateCovers([]),new CA(CO(this.model),g,{include:["grid"]}).matchOutputRanges(b,g,function(a,b,c){if("cartesian2d"===c.type){var d=a.brushType;"rect"===d?(h("x",c,b[0]),h("y",c,b[1])):h({lineX:"x",lineY:"y"}[d],c,b)}}),c=g,d=f,e=Cx(c),aH(d,function(a,b){for(var d=e.length-1;d>=0&&!e[d][b];d--);if(d<0){var f=c.queryComponents({mainType:"dataZoom",subType:"select",id:b})[0];if(f){var g=f.getPercentRange();e[0][b]={dataZoomId:b,start:g[0],end:g[1]}}}}),e.push(d),this._dispatchZoomAction(f)}function h(a,b,c){var d,e,h,i=b.getAxis(a),j=i.model,k=(d=a,e=j,g.eachComponent({mainType:"dataZoom",subType:"select"},function(a){a.getAxisModel(d,e.componentIndex)&&(h=a)}),h),l=k.findRepresentativeAxisProxy(j).getMinMaxSpan();(null!=l.minValueSpan||null!=l.maxValueSpan)&&(c=w3(0,c.slice(),i.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),k&&(f[k.id]={dataZoomId:k.id,startValue:c[0],endValue:c[1]})}},b.prototype._dispatchZoomAction=function(a){var b=[];aH(a,function(a,c){b.push(az(a))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},b.getDefaultOption=function(a){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},b}(Ci),CN={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){var a,b,c;this._dispatchZoomAction((b=(a=Cx(this.ecModel))[a.length-1],a.length>1&&a.pop(),c={},aH(b,function(b,d){for(var e=a.length-1;e>=0;e--)if(b=a[e][d]){c[d]=b;break}}),c))}};function CO(a){var b={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return null==b.xAxisIndex&&null==b.xAxisId&&(b.xAxisIndex="all"),null==b.yAxisIndex&&null==b.yAxisId&&(b.yAxisIndex="all"),b}s=function(a){var b=a.getComponent("toolbox",0),c=["feature","dataZoom"];if(b&&null!=b.get(c)){var d=b.getModel(c),e=[],f=e0(a,CO(d));return aH(f.xAxisModels,function(a){return g(a,"xAxis","xAxisIndex")}),aH(f.yAxisModels,function(a){return g(a,"yAxis","yAxisIndex")}),e}function g(a,b,c){var f=a.componentIndex,g={type:"select",$fromToolbox:!0,filterMode:d.get("filterMode",!0)||"filter",id:CL+b+f};g[c]=f,e.push(g)}},a1(null==jc.get("dataZoom")&&s),jc.set("dataZoom",s);var CP=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="tooltip",b.dependencies=["axisPointer"],b.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},b}(iU);function CQ(a){var b=a.get("confine");return null!=b?!!b:"richText"===a.get("renderMode")}function CR(a){if(ah.domSupported){for(var b=document.documentElement.style,c=0,d=a.length;c<d;c++)if(a[c]in b)return a[c]}}var CS=CR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function CT(a,b){if(!a)return b;b=iA(b,!0);var c=a.indexOf(b);return(a=-1===c?b:"-"+a.slice(0,c)+"-"+b).toLowerCase()}var CU=CT(CR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),CV=CT(CS,"transform"),CW="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ah.transform3dSupported?"will-change:transform;":"");function CX(a,b,c){var d=a.toFixed(0)+"px",e=b.toFixed(0)+"px";if(!ah.transformSupported)return c?"top:"+e+";left:"+d+";":[["top",e],["left",d]];var f=ah.transform3dSupported,g="translate"+(f?"3d":"")+"("+d+","+e+(f?",0":"")+")";return c?"top:0;left:0;"+CV+":"+g+";":[["top",0],["left",0],[CS,g]]}function CY(a,b,c,d,e){var f=b&&b.painter;if(c){var g=f&&f.getViewportRoot();g&&bD(bC,g,d,e,!0)&&bD(a,c,bC[0],bC[1])}else{a[0]=d,a[1]=e;var h=f&&f.getViewportRootOffset();h&&(a[0]+=h.offsetLeft,a[1]+=h.offsetTop)}a[2]=a[0]/b.getWidth(),a[3]=a[1]/b.getHeight()}var CZ=function(){function a(a,b){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ah.wxa)return null;var c=document.createElement("div");c.domBelongToZr=!0,this.el=c;var d=this._zr=a.getZr(),e=b.appendTo,f=e&&(aQ(e)?document.querySelector(e):aW(e)?e:aP(e)&&e(a.getDom()));CY(this._styleCoord,d,f,a.getWidth()/2,a.getHeight()/2),(f||a.getDom()).appendChild(c),this._api=a,this._container=f;var g=this;c.onmouseenter=function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0},c.onmousemove=function(a){if(a=a||window.event,!g._enterable){var b=d.handler;bO(d.painter.getViewportRoot(),a,!0),b.dispatch("mousemove",a)}},c.onmouseleave=function(){g._inContent=!1,g._enterable&&g._show&&g.hideLater(g._hideDelay)}}return a.prototype.update=function(a){if(!this._container){var b,c,d=this._api.getDom(),e=(b="position",(c=d.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(d))?b?c[b]:c:null),f=d.style;"absolute"!==f.position&&"absolute"!==e&&(f.position="relative")}var g=a.get("alwaysShowContent");g&&this._moveIfResized(),this._alwaysShowContent=g,this.el.className=a.get("className")||""},a.prototype.show=function(a,b){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.el,y=x.style,z=this._styleCoord;x.innerHTML?y.cssText=CW+(c=!this._firstShow,d=this._longHide,e=[],f=a.get("transitionDuration"),g=a.get("backgroundColor"),h=a.get("shadowBlur"),i=a.get("shadowColor"),j=a.get("shadowOffsetX"),k=a.get("shadowOffsetY"),l=a.getModel("textStyle"),m=kL(a,"html"),n=j+"px "+k+"px "+h+"px "+i,e.push("box-shadow:"+n),c&&f&&e.push((p="opacity"+(o=" "+f/2+"s cubic-bezier(0.23,1,0.32,1)")+",visibility"+o,d||(o=" "+f+"s cubic-bezier(0.23,1,0.32,1)",p+=ah.transformSupported?","+CV+o:",left"+o+",top"+o),CU+":"+p)),g&&e.push("background-color:"+g),aH(["width","color","radius"],function(b){var c="border-"+b,d=iA(c),f=a.get(d);null!=f&&e.push(c+":"+f+("color"===b?"":"px"))}),e.push((q=[],r=l.get("fontSize"),(s=l.getTextColor())&&q.push("color:"+s),q.push("font:"+l.getFont()),r&&q.push("line-height:"+Math.round(3*r/2)+"px"),t=l.get("textShadowColor"),u=l.get("textShadowBlur")||0,v=l.get("textShadowOffsetX")||0,w=l.get("textShadowOffsetY")||0,t&&u&&q.push("text-shadow:"+v+"px "+w+"px "+u+"px "+t),aH(["decoration","align"],function(a){var b=l.get(a);b&&q.push("text-"+a+":"+b)}),q.join(";"))),null!=m&&e.push("padding:"+a0(m).join("px ")+"px"),e.join(";")+";")+CX(z[0],z[1],!0)+"border-color:"+iI(b)+";"+(a.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):y.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(a,b,c,d,e){var f=this.el;if(null==a){f.innerHTML="";return}var g="";if(aQ(e)&&"item"===c.get("trigger")&&!CQ(c)&&(g=function(a,b,c){if(!aQ(c)||"inside"===c)return"";var d,e,f=a.get("backgroundColor"),g=a.get("borderWidth");b=iI(b);var h=d="left"===(d=c)?"right":"right"===d?"left":"top"===d?"bottom":"top",i=Math.max(1.5*Math.round(g),6),j="",k=CV+":";aE(["left","right"],h)>-1?(j+="top:50%",k+="translateY(-50%) rotate("+(e="left"===h?-225:-45)+"deg)"):(j+="left:50%",k+="translateX(-50%) rotate("+(e="top"===h?225:45)+"deg)");var l=e*Math.PI/180,m=i+g,n=m*Math.abs(Math.cos(l))+m*Math.abs(Math.sin(l));j+=";"+h+":-"+Math.round(((n-Math.SQRT2*g)/2+Math.SQRT2*g-(n-m)/2)*100)/100+"px";var o=b+" solid "+g+"px;";return'<div style="'+["position:absolute;width:"+i+"px;height:"+i+"px;z-index:-1;",j+";"+k+";","border-bottom:"+o,"border-right:"+o,"background-color:"+f+";"].join("")+'"></div>'}(c,d,e)),aQ(a))f.innerHTML=a+g;else if(a){f.innerHTML="",aO(a)||(a=[a]);for(var h=0;h<a.length;h++)aW(a[h])&&a[h].parentNode!==f&&f.appendChild(a[h]);if(g&&f.childNodes.length){var i=document.createElement("div");i.innerHTML=g,f.appendChild(i)}}},a.prototype.setEnterable=function(a){this._enterable=a},a.prototype.getSize=function(){var a=this.el;return[a.offsetWidth,a.offsetHeight]},a.prototype.moveTo=function(a,b){var c=this._styleCoord;if(CY(c,this._zr,this._container,a,b),null!=c[0]&&null!=c[1]){var d=this.el.style;aH(CX(c[0],c[1]),function(a){d[a[0]]=a[1]})}},a.prototype._moveIfResized=function(){var a=this._styleCoord[2],b=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),b*this._zr.getHeight())},a.prototype.hide=function(){var a=this,b=this.el.style;b.visibility="hidden",b.opacity="0",ah.transform3dSupported&&(b.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return a._longHide=!0},500)},a.prototype.hideLater=function(a){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(aM(this.hide,this),a)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el.parentNode;a&&a.removeChild(this.el),this.el=this._container=null},a}(),C$=function(){function a(a){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=a.getZr(),C1(this._styleCoord,this._zr,a.getWidth()/2,a.getHeight()/2)}return a.prototype.update=function(a){var b=a.get("alwaysShowContent");b&&this._moveIfResized(),this._alwaysShowContent=b},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(a,b,c,d,e){var f=this;aT(a)&&jj(""),this.el&&this._zr.remove(this.el);var g=c.getModel("textStyle");this.el=new gB({style:{rich:b.richTextStyles,text:a,lineHeight:22,borderWidth:1,borderColor:d,textShadowColor:g.get("textShadowColor"),fill:c.get(["textStyle","color"]),padding:kL(c,"richText"),verticalAlign:"top",align:"left"},z:c.get("z")}),aH(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(a){f.el.style[a]=c.get(a)}),aH(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(a){f.el.style[a]=g.get(a)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},a.prototype.setEnterable=function(a){this._enterable=a},a.prototype.getSize=function(){var a=this.el,b=this.el.getBoundingRect(),c=C0(a.style);return[b.width+c.left+c.right,b.height+c.top+c.bottom]},a.prototype.moveTo=function(a,b){var c=this.el;if(c){var d=this._styleCoord;C1(d,this._zr,a,b),a=d[0],b=d[1];var e=c.style,f=C_(e.borderWidth||0),g=C0(e);c.x=a+f+g.left,c.y=b+f+g.top,c.markRedraw()}},a.prototype._moveIfResized=function(){var a=this._styleCoord[2],b=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),b*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(a){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(aM(this.hide,this),a)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function C_(a){return Math.max(0,a)}function C0(a){var b=C_(a.shadowBlur||0),c=C_(a.shadowOffsetX||0),d=C_(a.shadowOffsetY||0);return{left:C_(b-c),right:C_(b+c),top:C_(b-d),bottom:C_(b+d)}}function C1(a,b,c,d){a[0]=c,a[1]=d,a[2]=a[0]/b.getWidth(),a[3]=a[1]/b.getHeight()}var C2=new gy({shape:{x:-1,y:-1,width:2,height:2}}),C3=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(a,b){if(!ah.node&&b.getDom()){var c,d=a.getComponent("tooltip"),e=this._renderMode="auto"===(c=d.get("renderMode"))?ah.domSupported?"html":"richText":c||"html";this._tooltipContent="richText"===e?new C$(b):new CZ(b,{appendTo:d.get("appendToBody",!0)?"body":d.get("appendTo",!0)})}},b.prototype.render=function(a,b,c){if(!ah.node&&c.getDom()){this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c;var d=this._tooltipContent;d.update(a),d.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&a.get("transitionDuration")?mC(this,"_updatePosition",50,"fixRate"):mD(this,"_updatePosition")}},b.prototype._initGlobalListener=function(){var a=this._tooltipModel.get("triggerOn");AP("itemTooltip",this._api,aM(function(b,c,d){"none"!==a&&(a.indexOf(b)>=0?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},b.prototype._keepShow=function(){var a=this._tooltipModel,b=this._ecModel,c=this._api,d=a.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==d&&"click"!==d){var e=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){c.isDisposed()||e.manuallyShowTip(a,b,c,{x:e._lastX,y:e._lastY,dataByCoordSys:e._lastDataByCoordSys})})}},b.prototype.manuallyShowTip=function(a,b,c,d){if(d.from!==this.uid&&!ah.node&&c.getDom()){var e=C5(d,c);this._ticket="";var f=d.dataByCoordSys,g=function(a,b,c){var d,e=e1(a).queryOptionMap,f=e.keys()[0];if(f&&"series"!==f){var g=e4(b,f,e.get(f),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(g&&(c.getViewOfComponentModel(g).group.traverse(function(b){var c=gO(b).tooltipConfig;if(c&&c.name===a.name)return d=b,!0}),d))return{componentMainType:f,componentIndex:g.componentIndex,el:d}}}(d,b,c);if(g){var h=g.el.getBoundingRect().clone();h.applyTransform(g.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:g.el,position:d.position,positionDefault:"bottom"},e)}else if(d.tooltip&&null!=d.x&&null!=d.y)C2.x=d.x,C2.y=d.y,C2.update(),gO(C2).tooltipConfig={name:null,option:d.tooltip},this._tryShow({offsetX:d.x,offsetY:d.y,target:C2},e);else if(f)this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,dataByCoordSys:f,tooltipOption:d.tooltipOption},e);else if(null!=d.seriesIndex){if(this._manuallyAxisShowTip(a,b,c,d))return;var i=AU(d,b),j=i.point[0],k=i.point[1];null!=j&&null!=k&&this._tryShow({offsetX:j,offsetY:k,target:i.el,position:d.position,positionDefault:"bottom"},e)}else null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target},e))}},b.prototype.manuallyHideTip=function(a,b,c,d){var e=this._tooltipContent;this._tooltipModel&&e.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,d.from!==this.uid&&this._hide(C5(d,c))},b.prototype._manuallyAxisShowTip=function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g){var h=b.getSeriesByIndex(e);if(h&&"axis"===C4([h.getData().getItemModel(f),h,(h.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,position:d.position}),!0}},b.prototype._tryShow=function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var d,e,f=a.dataByCoordSys;if(f&&f.length)this._showAxisTooltip(f,a);else if(c){if("legend"===gO(c).ssrType)return;this._lastDataByCoordSys=null,na(c,function(a){return null!=gO(a).dataIndex?(d=a,!0):null!=gO(a).tooltipConfig?(e=a,!0):void 0},!0),d?this._showSeriesItemTooltip(a,d,b):e?this._showComponentItemTooltip(a,e,b):this._hide(b)}else this._lastDataByCoordSys=null,this._hide(b)}},b.prototype._showOrMove=function(a,b){var c=a.get("showDelay");b=aM(b,this),clearTimeout(this._showTimout),c>0?this._showTimout=setTimeout(b,c):b()},b.prototype._showAxisTooltip=function(a,b){var c=this._ecModel,d=this._tooltipModel,e=[b.offsetX,b.offsetY],f=C4([b.tooltipOption],d),g=this._renderMode,h=[],i=kD("section",{blocks:[],noHeader:!0}),j=[],k=new kM;aH(a,function(a){aH(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),e=a.value;if(b&&null!=e){var f=AD(e,b.axis,c,a.seriesDataIndices,a.valueLabelOpt),l=kD("section",{header:f,noHeader:!a2(f),sortBlocks:!0,blocks:[]});i.blocks.push(l),aH(a.seriesDataIndices,function(i){var m=c.getSeriesByIndex(i.seriesIndex),n=i.dataIndexInside,o=m.getDataParams(n);if(!(o.dataIndex<0)){o.axisDim=a.axisDim,o.axisIndex=a.axisIndex,o.axisType=a.axisType,o.axisId=a.axisId,o.axisValue=sd(b.axis,{value:e}),o.axisValueLabel=f,o.marker=k.makeTooltipMarker("item",iI(o.color),g);var p=j4(m.formatTooltip(n,!0,null)),q=p.frag;if(q){var r=C4([m],d).get("valueFormatter");l.blocks.push(r?aC({valueFormatter:r},q):q)}p.text&&j.push(p.text),h.push(o)}})}})}),i.blocks.reverse(),j.reverse();var l=b.position,m=kH(i,k,g,f.get("order"),c.get("useUTC"),f.get("textStyle"));m&&j.unshift(m);var n="richText"===g?"\n\n":"<br/>",o=j.join(n);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(a,h)?this._updatePosition(f,l,e[0],e[1],this._tooltipContent,h):this._showTooltipContent(f,o,h,Math.random()+"",e[0],e[1],l,null,k)})},b.prototype._showSeriesItemTooltip=function(a,b,c){var d=this._ecModel,e=gO(b),f=e.seriesIndex,g=d.getSeriesByIndex(f),h=e.dataModel||g,i=e.dataIndex,j=e.dataType,k=h.getData(j),l=this._renderMode,m=a.positionDefault,n=C4([k.getItemModel(i),h,g&&(g.coordinateSystem||{}).model],this._tooltipModel,m?{position:m}:null),o=n.get("trigger");if(null==o||"item"===o){var p=h.getDataParams(i,j),q=new kM;p.marker=q.makeTooltipMarker("item",iI(p.color),l);var r=j4(h.formatTooltip(i,!1,j)),s=n.get("order"),t=n.get("valueFormatter"),u=r.frag,v=u?kH(t?aC({valueFormatter:t},u):u,q,l,s,d.get("useUTC"),n.get("textStyle")):r.text,w="item_"+h.name+"_"+i;this._showOrMove(n,function(){this._showTooltipContent(n,v,p,w,a.offsetX,a.offsetY,a.position,a.target,q)}),c({type:"showTip",dataIndexInside:i,dataIndex:k.getRawIndex(i),seriesIndex:f,from:this.uid})}},b.prototype._showComponentItemTooltip=function(a,b,c){var d=gO(b),e=d.tooltipConfig.option||{};if(aQ(e)){var f=e;e={content:f,formatter:f}}var g=[e],h=this._ecModel.getComponent(d.componentMainType,d.componentIndex);h&&g.push(h),g.push({formatter:e.content});var i=a.positionDefault,j=C4(g,this._tooltipModel,i?{position:i}:null),k=j.get("content"),l=Math.random()+"",m=new kM;this._showOrMove(j,function(){var c=az(j.get("formatterParams")||{});this._showTooltipContent(j,k,c,l,a.offsetX,a.offsetY,a.position,b,m)}),c({type:"showTip",from:this.uid})},b.prototype._showTooltipContent=function(a,b,c,d,e,f,g,h,i){if(this._ticket="",a.get("showContent")&&a.get("show")){var j=this._tooltipContent;j.setEnterable(a.get("enterable"));var k=a.get("formatter");g=g||a.get("position");var l=b,m=this._getNearestPoint([e,f],c,a.get("trigger"),a.get("borderColor")).color;if(k)if(aQ(k)){var n=a.ecModel.get("useUTC"),o=aO(c)?c[0]:c,p=o&&o.axisType&&o.axisType.indexOf("time")>=0;l=k,p&&(l=ii(o.axisValue,l,n)),l=iE(l,c,!0)}else if(aP(k)){var q=aM(function(b,d){b===this._ticket&&(j.setContent(d,i,a,m,g),this._updatePosition(a,g,e,f,j,c,h))},this);this._ticket=d,l=k(c,d,q)}else l=k;j.setContent(l,i,a,m,g),j.show(a,m),this._updatePosition(a,g,e,f,j,c,h)}},b.prototype._getNearestPoint=function(a,b,c,d){return"axis"===c||aO(b)?{color:d||("html"===this._renderMode?"#fff":"none")}:aO(b)?void 0:{color:d||b.color||b.borderColor}},b.prototype._updatePosition=function(a,b,c,d,e,f,g){var h=this._api.getWidth(),i=this._api.getHeight();b=b||a.get("position");var j=e.getSize(),k=a.get("align"),l=a.get("verticalAlign"),m=g&&g.getBoundingRect().clone();if(g&&m.applyTransform(g.transform),aP(b)&&(b=b([c,d],f,e.el,m,{viewSize:[h,i],contentSize:j.slice()})),aO(b))c=es(b[0],h),d=es(b[1],i);else if(aT(b)){var n=b;n.width=j[0],n.height=j[1];var o=iN(n,{width:h,height:i});c=o.x,d=o.y,k=null,l=null}else if(aQ(b)&&g){var p=function(a,b,c,d){var e=c[0],f=c[1],g=Math.ceil(Math.SQRT2*d)+8,h=0,i=0,j=b.width,k=b.height;switch(a){case"inside":h=b.x+j/2-e/2,i=b.y+k/2-f/2;break;case"top":h=b.x+j/2-e/2,i=b.y-f-g;break;case"bottom":h=b.x+j/2-e/2,i=b.y+k+g;break;case"left":h=b.x-e-g,i=b.y+k/2-f/2;break;case"right":h=b.x+j+g,i=b.y+k/2-f/2}return[h,i]}(b,m,j,a.get("borderWidth"));c=p[0],d=p[1]}else{var q,r,s,t,u,v,w,x,y,z,p=(q=c,r=d,s=e,t=h,u=i,v=k?null:20,w=l?null:20,y=(x=s.getSize())[0],z=x[1],null!=v&&(q+y+v+2>t?q-=y+v:q+=v),null!=w&&(r+z+w>u?r-=z+w:r+=w),[q,r]);c=p[0],d=p[1]}if(k&&(c-=C6(k)?j[0]/2:"right"===k?j[0]:0),l&&(d-=C6(l)?j[1]/2:"bottom"===l?j[1]:0),CQ(a)){var A,B,C,D,E,F,G,H,p=(A=c,B=d,C=e,D=h,E=i,G=(F=C.getSize())[0],H=F[1],A=Math.min(A+G,D)-G,B=Math.min(B+H,E)-H,[A=Math.max(A,0),B=Math.max(B,0)]);c=p[0],d=p[1]}e.moveTo(c,d)},b.prototype._updateContentNotChangedOnAxis=function(a,b){var c=this._lastDataByCoordSys,d=this._cbParamsList,e=!!c&&c.length===a.length;return e&&aH(c,function(c,f){var g=c.dataByAxis||[],h=(a[f]||{}).dataByAxis||[];(e=e&&g.length===h.length)&&aH(g,function(a,c){var f=h[c]||{},g=a.seriesDataIndices||[],i=f.seriesDataIndices||[];(e=e&&a.value===f.value&&a.axisType===f.axisType&&a.axisId===f.axisId&&g.length===i.length)&&aH(g,function(a,b){var c=i[b];e=e&&a.seriesIndex===c.seriesIndex&&a.dataIndex===c.dataIndex}),d&&aH(a.seriesDataIndices,function(a){var c=a.seriesIndex,f=b[c],g=d[c];f&&g&&g.data!==f.data&&(e=!1)})})}),this._lastDataByCoordSys=a,this._cbParamsList=b,!!e},b.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},b.prototype.dispose=function(a,b){!ah.node&&b.getDom()&&(mD(this,"_updatePosition"),this._tooltipContent.dispose(),AS("itemTooltip",b))},b.type="tooltip",b}(kZ);function C4(a,b,c){var d,e=b.ecModel;c?(d=new h2(c,e,e),d=new h2(b.option,d,e)):d=b;for(var f=a.length-1;f>=0;f--){var g=a[f];g&&(g instanceof h2&&(g=g.get("tooltip",!0)),aQ(g)&&(g={formatter:g}),g&&(d=new h2(g,d,e)))}return d}function C5(a,b){return a.dispatchAction||aM(b.dispatchAction,b)}function C6(a){return"center"===a||"middle"===a}var C7=["rect","polygon","keep","clear"];function C8(a,b){var c=eP(a?a.brush:[]);if(c.length){var d,e,f=[];aH(c,function(a){var b=a.hasOwnProperty("toolbox")?a.toolbox:[];b instanceof Array&&(f=f.concat(b))});var g=a&&a.toolbox;aO(g)&&(g=g[0]),g||(a.toolbox=[g={feature:{}}]);var h=g.feature||(g.feature={}),i=h.brush||(h.brush={}),j=i.type||(i.type=[]);j.push.apply(j,f),e={},aH(d=j,function(a){e[a]=1}),d.length=0,aH(e,function(a,b){d.push(b)}),b&&!j.length&&j.push.apply(j,C7)}}function C9(a){if(a){for(var b in a)if(a.hasOwnProperty(b))return!0}}function Da(a,b,c){var d={};return aH(b,function(b){var e,f=d[b]=((e=function(){}).prototype.__hidden=e.prototype,new e);aH(a[b],function(a,d){if(vp.isValidType(d)){var e={type:d,visual:a};c&&c(e,b),f[d]=new vp(e),"opacity"===d&&((e=az(e)).type="colorAlpha",f.__hidden.__alphaForOpacity=new vp(e))}})}),d}function Db(a,b,c){var d;aH(c,function(a){b.hasOwnProperty(a)&&C9(b[a])&&(d=!0)}),d&&aH(c,function(c){b.hasOwnProperty(c)&&C9(b[c])?a[c]=az(b[c]):delete a[c]})}var Dc={lineX:Dd(0),lineY:Dd(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&tM(c.range,a[0],a[1])},rect:function(a,b,c){var d=c.range;if(!a||d.length<=1)return!1;var e=a.x,f=a.y,g=a.width,h=a.height,i=d[0];if(tM(d,e,f)||tM(d,e+g,f)||tM(d,e,f+h)||tM(d,e+g,f+h)||ca.create(a).contain(i[0],i[1])||ml(e,f,e+g,f,d)||ml(e,f,e,f+h,d)||ml(e+g,f,e+g,f+h,d)||ml(e,f+h,e+g,f+h,d))return!0}}};function Dd(a){var b=["x","y"],c=["width","height"];return{point:function(b,c,d){if(b){var e=d.range;return De(b[a],e)}},rect:function(d,e,f){if(d){var g=f.range,h=[d[b[a]],d[b[a]]+d[c[a]]];return h[1]<h[0]&&h.reverse(),De(h[0],g)||De(h[1],g)||De(g[0],h)||De(g[1],h)}}}}function De(a,b){return b[0]<=a&&a<=b[1]}var Df=["inBrush","outOfBrush"],Dg="__ecBrushSelect",Dh="__ecInBrushSelectEvent";function Di(a){a.eachComponent({mainType:"brush"},function(b){(b.brushTargetManager=new CA(b.option,a)).setInputRanges(b.areas,a)})}function Dj(a,b,c){var d,e,f=[];a.eachComponent({mainType:"brush"},function(a){c&&"takeGlobalCursor"===c.type&&a.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1})}),Di(a),a.eachComponent({mainType:"brush"},function(b,c){var g={brushId:b.id,brushIndex:c,brushName:b.name,areas:az(b.areas),selected:[]};f.push(g);var h=b.option,i=h.brushLink,j=[],k=[],l=[],m=!1;c||(d=h.throttleType,e=h.throttleDelay);var n=aI(b.areas,function(a){var b,c,d=Dm[a.brushType],e=aD({boundingRect:d?d(a):void 0},a);return b=e.brushType,e.selectors=c={point:function(a){return Dc[b].point(a,c,e)},rect:function(a){return Dc[b].rect(a,c,e)}},e}),o=Da(b.option,Df,function(a){a.mappingMethod="fixed"});function p(a){return"all"===i||!!j[a]}function q(a){return!!a.length}aO(i)&&aH(i,function(a){j[a]=1}),a.eachSeries(function(c,d){var e,f,g,h=l[d]=[];"parallel"===c.subType?(e=c,f=d,g=e.coordinateSystem,m=m||g.hasAxisBrushed(),p(f)&&g.eachActiveState(e.getData(),function(a,b){"active"===a&&(k[b]=1)})):function(c,d,e){if(!(!c.brushSelector||(f=b,g=d,null!=(h=f.option.seriesIndex)&&"all"!==h&&(aO(h)?0>aE(h,g):g!==h)))&&(aH(n,function(d){b.brushTargetManager.controlSeries(d,c,a)&&e.push(d),m=m||q(e)}),p(d)&&q(e))){var f,g,h,i=c.getData();i.each(function(a){Dl(c,e,i,a)&&(k[a]=1)})}}(c,d,h)}),a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};g.selected.push(c);var d=l[b],e=a.getData(),f=p(b)?function(a){return k[a]?(c.dataIndex.push(e.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(b){return Dl(a,d,e,b)?(c.dataIndex.push(e.getRawIndex(b)),"inBrush"):"outOfBrush"};(p(b)?m:q(d))&&function(a,b,c,d,e,f){var g,h={};function i(a){return m5(c,g,a)}function j(a,b){m7(c,g,a,b)}aH(a,function(a){var c=vp.prepareVisualTypes(b[a]);h[a]=c}),c.each(function(a,e){g=a;var f=c.getRawDataItem(g);if(!f||!1!==f.visualMap)for(var k=d.call(void 0,a),l=b[k],m=h[k],n=0,o=m.length;n<o;n++){var p=m[n];l[p]&&l[p].applyVisual(a,i,j)}})}(Df,o,e,f)})}),function(a,b,c,d,e){if(e){var f=a.getZr();f[Dh]||(f[Dg]||(f[Dg]=Dk),mC(f,Dg,c,b)(a,d))}}(b,d,e,f,c)}function Dk(a,b){if(!a.isDisposed()){var c=a.getZr();c[Dh]=!0,a.dispatchAction({type:"brushSelect",batch:b}),c[Dh]=!1}}function Dl(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];if(a.brushSelector(d,c,g.selectors,g))return!0}}var Dm={rect:function(a){return Dn(a.range)},polygon:function(a){for(var b,c=a.range,d=0,e=c.length;d<e;d++){b=b||[[1/0,-1/0],[1/0,-1/0]];var f=c[d];f[0]<b[0][0]&&(b[0][0]=f[0]),f[0]>b[0][1]&&(b[0][1]=f[0]),f[1]<b[1][0]&&(b[1][0]=f[1]),f[1]>b[1][1]&&(b[1][1]=f[1])}return b&&Dn(b)}};function Dn(a){return new ca(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var Do=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(a,b){this.ecModel=a,this.api=b,this.model,(this._brushController=new xn(b.getZr())).on("brush",aM(this._onBrush,this)).mount()},b.prototype.render=function(a,b,c,d){this.model=a,this._updateController(a,b,c,d)},b.prototype.updateTransform=function(a,b,c,d){Di(b),this._updateController(a,b,c,d)},b.prototype.updateVisual=function(a,b,c,d){this.updateTransform(a,b,c,d)},b.prototype.updateView=function(a,b,c,d){this._updateController(a,b,c,d)},b.prototype._updateController=function(a,b,c,d){d&&d.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},b.prototype.dispose=function(){this._brushController.dispose()},b.prototype._onBrush=function(a){var b=this.model.id,c=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:b,areas:az(c),$from:b}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:b,areas:az(c),$from:b})},b.type="brush",b}(kZ),Dp=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.areas=[],c.brushOption={},c}return af(b,a),b.prototype.optionUpdated=function(a,b){var c=this.option;b||Db(c,a,["inBrush","outOfBrush"]);var d=c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:"#ddd"},d.hasOwnProperty("liftZ")||(d.liftZ=5)},b.prototype.setAreas=function(a){a&&(this.areas=aI(a,function(a){return Dq(this.option,a)},this))},b.prototype.setBrushOption=function(a){this.brushOption=Dq(this.option,a),this.brushType=this.brushOption.brushType},b.type="brush",b.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],b.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},b}(iU);function Dq(a,b){return aA({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new h2(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}var Dr=["rect","polygon","lineX","lineY","keep","clear"],Ds=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return af(b,a),b.prototype.render=function(a,b,c){var d,e,f;b.eachComponent({mainType:"brush"},function(a){d=a.brushType,e=a.brushOption.brushMode||"single",f=f||!!a.areas.length}),this._brushType=d,this._brushMode=e,aH(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===e:"clear"===b?f:b===d)?"emphasis":"normal")})},b.prototype.updateView=function(a,b,c){this.render(a,b,c)},b.prototype.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};return aH(a.get("type",!0),function(a){b[a]&&(c[a]=b[a])}),c},b.prototype.onclick=function(a,b,c){var d=this._brushType,e=this._brushMode;"clear"===c?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===c?d:d!==c&&c,brushMode:"keep"===c?"multiple"===e?"single":"multiple":e}})},b.getDefaultOption=function(a){return{show:!0,type:Dr.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])}},b}(Ci),Dt=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.layoutMode={type:"box",ignoreSize:!0},c}return af(b,a),b.type="title",b.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},b}(iU),Du=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.render=function(a,b,c){if(this.group.removeAll(),a.get("show")){var d=this.group,e=a.getModel("textStyle"),f=a.getModel("subtextStyle"),g=a.get("textAlign"),h=aZ(a.get("textBaseline"),a.get("textVerticalAlign")),i=new gB({style:hK(e,{text:a.get("text"),fill:e.getTextColor()},{disableBox:!0}),z2:10}),j=i.getBoundingRect(),k=a.get("subtext"),l=new gB({style:hK(f,{text:k,fill:f.getTextColor(),y:j.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),m=a.get("link"),n=a.get("sublink"),o=a.get("triggerEvent",!0);i.silent=!m&&!o,l.silent=!n&&!o,m&&i.on("click",function(){iJ(m,"_"+a.get("target"))}),n&&l.on("click",function(){iJ(n,"_"+a.get("subtarget"))}),gO(i).eventData=gO(l).eventData=o?{componentType:"title",componentIndex:a.componentIndex}:null,d.add(i),k&&d.add(l);var p=d.getBoundingRect(),q=a.getBoxLayoutParams();q.width=p.width,q.height=p.height;var r=iN(q,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));g||("middle"===(g=a.get("left")||a.get("right"))&&(g="center"),"right"===g?r.x+=r.width:"center"===g&&(r.x+=r.width/2)),h||("center"===(h=a.get("top")||a.get("bottom"))&&(h="middle"),"bottom"===h?r.y+=r.height:"middle"===h&&(r.y+=r.height/2),h=h||"top"),d.x=r.x,d.y=r.y,d.markRedraw();var s={align:g,verticalAlign:h};i.setStyle(s),l.setStyle(s),p=d.getBoundingRect();var t=r.margin,u=a.getItemStyle(["color","opacity"]);u.fill=a.get("backgroundColor");var v=new gy({shape:{x:p.x-t[3],y:p.y-t[0],width:p.width+t[1]+t[3],height:p.height+t[0]+t[2],r:a.get("borderRadius")},style:u,subPixelOptimize:!0,silent:!0});d.add(v)}},b.type="title",b}(kZ),Dv=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.layoutMode="box",c}return af(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c),this._initData()},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),this._initData()},b.prototype.setCurrentIndex=function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),a<0&&(a=0)),this.option.currentIndex=a},b.prototype.getCurrentIndex=function(){return this.option.currentIndex},b.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},b.prototype.setPlayState=function(a){this.option.autoPlay=!!a},b.prototype.getPlayState=function(){return!!this.option.autoPlay},b.prototype._initData=function(){var a,b=this.option,c=b.data||[],d=b.axisType,e=this._names=[];"category"===d?(a=[],aH(c,function(b,c){var d,f=eW(eS(b),"");aT(b)?(d=az(b)).value=c:d=c,a.push(d),e.push(f)})):a=c,(this._data=new py([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[d]||"number"}],this)).initData(a,e)},b.prototype.getData=function(){return this._data},b.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},b.type="timeline",b.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},b}(iU),Dw=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="timeline.slider",b.defaultOption=h5(Dv.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),b}(Dv);aF(Dw,j3.prototype);var Dx=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="timeline",b}(kZ),Dy=function(a){function b(b,c,d,e){var f=a.call(this,b,c,d)||this;return f.type=e||"value",f}return af(b,a),b.prototype.getLabelModel=function(){return this.model.getModel("label")},b.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},b}(st),Dz=Math.PI,DA=e$(),DB=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(a,b){this.api=b},b.prototype.render=function(a,b,c){if(this.model=a,this.api=c,this.ecModel=b,this.group.removeAll(),a.get("show",!0)){var d=this._layout(a,c),e=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),g=this._axis=this._createAxis(d,a);a.formatTooltip=function(a){return kD("nameValue",{noName:!0,value:g.scale.getLabel({value:a})})},aH(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](d,e,g,a)},this),this._renderAxisLabel(d,f,g,a),this._position(d,a)}this._doPlayStop(),this._updateTicksStatus()},b.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},b.prototype.dispose=function(){this._clearTimer()},b.prototype._layout=function(a,b){var c,d,e,f,g,h,i=a.get(["label","position"]),j=a.get("orient"),k=(c=a,d=b,iN(c.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()},c.get("padding"))),l={horizontal:"center",vertical:(e=null==i||"auto"===i?"horizontal"===j?k.y+k.height/2<b.getHeight()/2?"-":"+":k.x+k.width/2<b.getWidth()/2?"+":"-":aQ(i)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[j][i]:i)>=0||"+"===e?"left":"right"},m="vertical"===j?k.height:k.width,n=a.getModel("controlStyle"),o=n.get("show",!0),p=o?n.get("itemSize"):0,q=o?n.get("itemGap"):0,r=p+q,s=a.get(["label","rotate"])||0;s=s*Dz/180;var t=n.get("position",!0),u=o&&n.get("showPlayBtn",!0),v=o&&n.get("showPrevBtn",!0),w=o&&n.get("showNextBtn",!0),x=0,y=m;"left"===t||"bottom"===t?(u&&(f=[0,0],x+=r),v&&(g=[x,0],x+=r)):(u&&(f=[y-p,0],y-=r),v&&(g=[0,0],x+=r)),w&&(h=[y-p,0],y-=r);var z=[x,y];return a.get("inverse")&&z.reverse(),{viewRect:k,mainLength:m,orient:j,rotation:({horizontal:0,vertical:Dz/2})[j],labelRotation:s,labelPosOpt:e,labelAlign:a.get(["label","align"])||l[j],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||({horizontal:e>=0||"+"===e?"top":"bottom",vertical:"middle"})[j],playPosition:f,prevBtnPosition:g,nextBtnPosition:h,axisExtent:z,controlSize:p,controlGap:q}},b.prototype._position=function(a,b){var c=this._mainGroup,d=this._labelGroup,e=a.viewRect;if("vertical"===a.orient){var f=bV(),g=e.x,h=e.y+e.height;bZ(f,f,[-g,-h]),b$(f,f,-Dz/2),bZ(f,f,[g,h]),(e=e.clone()).applyTransform(f)}var i=q(e),j=q(c.getBoundingRect()),k=q(d.getBoundingRect()),l=[c.x,c.y],m=[d.x,d.y];m[0]=l[0]=i[0][0];var n=a.labelPosOpt;if(null==n||aQ(n)){var o=+("+"!==n);r(l,j,i,1,o),r(m,k,i,1,1-o)}else{var o=n>=0?0:1;r(l,j,i,1,o),m[1]=l[1]+n}function p(a){a.originX=i[0][0]-a.x,a.originY=i[1][0]-a.y}function q(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function r(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}c.setPosition(l),d.setPosition(m),c.rotation=d.rotation=a.rotation,p(c),p(d)},b.prototype._createAxis=function(a,b){var c=b.getData(),d=b.get("axisType"),e=function(a,b){if(b=b||a.get("type"))switch(b){case"category":return new rS({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new rV({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new rT}}(b,d);e.getTicks=function(){return c.mapArray(["value"],function(a){return{value:a}})};var f=c.getDataExtent("value");e.setExtent(f[0],f[1]),e.calcNiceTicks();var g=new Dy("value",e,a.axisExtent,d);return g.model=b,g},b.prototype._createGroup=function(a){var b=this[a]=new em;return this.group.add(b),b},b.prototype._renderAxisLine=function(a,b,c,d){var e=c.getExtent();if(d.get(["lineStyle","show"])){var f=new lI({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:aC({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});b.add(f);var g=this._progressLine=new lI({shape:{x1:e[0],x2:this._currentPointer?this._currentPointer.x:e[0],y1:0,y2:0},style:aD({lineCap:"round",lineWidth:f.style.lineWidth},d.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});b.add(g)}},b.prototype._renderAxisTick=function(a,b,c,d){var e=this,f=d.getData(),g=c.scale.getTicks();this._tickSymbols=[],aH(g,function(a){var g=c.dataToCoord(a.value),h=f.getItemModel(a.value),i=h.getModel("itemStyle"),j=h.getModel(["emphasis","itemStyle"]),k=h.getModel(["progress","itemStyle"]),l=DC(h,i,b,{x:g,y:0,onclick:aM(e._changeTimeline,e,a.value)});l.ensureState("emphasis").style=j.getItemStyle(),l.ensureState("progress").style=k.getItemStyle(),hl(l);var m=gO(l);h.get("tooltip")?(m.dataIndex=a.value,m.dataModel=d):m.dataIndex=m.dataModel=null,e._tickSymbols.push(l)})},b.prototype._renderAxisLabel=function(a,b,c,d){var e=this;if(c.getLabelModel().get("show")){var f=d.getData(),g=c.getViewLabels();this._tickLabels=[],aH(g,function(d){var g=d.tickValue,h=f.getItemModel(g),i=h.getModel("label"),j=h.getModel(["emphasis","label"]),k=h.getModel(["progress","label"]),l=new gB({x:c.dataToCoord(d.tickValue),y:0,rotation:a.labelRotation-a.rotation,onclick:aM(e._changeTimeline,e,g),silent:!1,style:hK(i,{text:d.formattedLabel,align:a.labelAlign,verticalAlign:a.labelBaseline})});l.ensureState("emphasis").style=hK(j),l.ensureState("progress").style=hK(k),b.add(l),hl(l),DA(l).dataIndex=g,e._tickLabels.push(l)})}},b.prototype._renderControl=function(a,b,c,d){var e=a.controlSize,f=a.rotation,g=d.getModel("controlStyle").getItemStyle(),h=d.getModel(["emphasis","controlStyle"]).getItemStyle(),i=d.getPlayState(),j=d.get("inverse",!0);function k(a,c,i,j){if(a){var k,l,m,n,o,p,q=ec(aZ(d.get(["controlStyle",c+"BtnSize"]),e),e),r=(k=d,l=c+"Icon",m=[0,-q/2,q,q],o=(n={x:a[0],y:a[1],originX:e/2,originY:0,rotation:j?-f:0,rectHover:!0,style:g,onclick:i}).style,p=mk(k.get(["controlStyle",l]),n||{},new ca(m[0],m[1],m[2],m[3])),o&&p.setStyle(o),p);r.ensureState("emphasis").style=h,b.add(r),hl(r)}}k(a.nextBtnPosition,"next",aM(this._changeTimeline,this,j?"-":"+")),k(a.prevBtnPosition,"prev",aM(this._changeTimeline,this,j?"+":"-")),k(a.playPosition,i?"stop":"play",aM(this._handlePlayClick,this,!i),!0)},b.prototype._renderCurrentPointer=function(a,b,c,d){var e=d.getData(),f=d.getCurrentIndex(),g=e.getItemModel(f).getModel("checkpointStyle"),h=this;this._currentPointer=DC(g,g,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0,a.drift=aM(h._handlePointerDrag,h),a.ondragend=aM(h._handlePointerDragend,h),DD(a,h._progressLine,f,c,d,!0)},onUpdate:function(a){DD(a,h._progressLine,f,c,d)}})},b.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},b.prototype._handlePointerDrag=function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},b.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},b.prototype._pointerChangeTimeline=function(a,b){var c=this._toAxisCoord(a)[0],d=eu(this._axis.getExtent().slice());c>d[1]&&(c=d[1]),c<d[0]&&(c=d[0]),this._currentPointer.x=c,this._currentPointer.markRedraw();var e=this._progressLine;e&&(e.shape.x2=c,e.dirty());var f=this._findNearestTick(c),g=this.model;(b||f!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(f)},b.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var b=a.model;a._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},b.prototype._toAxisCoord=function(a){return mf(a,this._mainGroup.getLocalTransform(),!0)},b.prototype._findNearestTick=function(a){var b,c=this.model.getData(),d=1/0,e=this._axis;return c.each(["value"],function(c,f){var g=Math.abs(e.dataToCoord(c)-a);g<d&&(d=g,b=f)}),b},b.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},b.prototype._changeTimeline=function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},b.prototype._updateTicksStatus=function(){var a=this.model.getCurrentIndex(),b=this._tickSymbols,c=this._tickLabels;if(b)for(var d=0;d<b.length;d++)b&&b[d]&&b[d].toggleState("progress",d<a);if(c)for(var d=0;d<c.length;d++)c&&c[d]&&c[d].toggleState("progress",DA(c[d]).dataIndex<=a)},b.type="timeline.slider",b}(Dx);function DC(a,b,c,d,e,f){var g=b.get("color");e?(e.setColor(g),c.add(e),f&&f.onUpdate(e)):((e=nm(a.get("symbol"),-1,-1,2,2,g)).setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e));var h=b.getItemStyle(["color"]);e.setStyle(h),d=aA({rectHover:!0,z2:100},d,!0);var i=nn(a.get("symbolSize"));d.scaleX=i[0]/2,d.scaleY=i[1]/2;var j=no(a.get("symbolOffset"),i);j&&(d.x=(d.x||0)+j[0],d.y=(d.y||0)+j[1]);var k=a.get("symbolRotate");return d.rotation=(k||0)*Math.PI/180||0,e.attr(d),e.updateTransform(),e}function DD(a,b,c,d,e,f){if(!a.dragging){var g=e.getModel("checkpointStyle"),h=d.dataToCoord(e.getData().get("value",c));if(f||!g.get("animation",!0))a.attr({x:h,y:0}),b&&b.attr({shape:{x2:h}});else{var i={duration:g.get("animationDuration",!0),easing:g.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:h,y:0},i),b&&b.animateTo({shape:{x2:h}},i)}}}function DE(a){var b=a&&a.timeline;aO(b)||(b=b?[b]:[]),aH(b,function(a){a&&function(a){var b=a.type,c={number:"value",time:"time"};if(c[b]&&(a.axisType=c[b],delete a.type),DF(a),DG(a,"controlPosition")){var d=a.controlStyle||(a.controlStyle={});DG(d,"position")||(d.position=a.controlPosition),"none"!==d.position||DG(d,"show")||(d.show=!1,delete d.position),delete a.controlPosition}aH(a.data||[],function(a){aT(a)&&!aO(a)&&(!DG(a,"value")&&DG(a,"name")&&(a.value=a.name),DF(a))})}(a)})}function DF(a){var b=a.itemStyle||(a.itemStyle={}),c=b.emphasis||(b.emphasis={}),d=a.label||a.label||{},e=d.normal||(d.normal={}),f={normal:1,emphasis:1};aH(d,function(a,b){f[b]||DG(e,b)||(e[b]=a)}),c.label&&!DG(d,"emphasis")&&(d.emphasis=c.label,delete c.label)}function DG(a,b){return a.hasOwnProperty(b)}function DH(a,b){if(!a)return!1;for(var c=aO(a)?a:[a],d=0;d<c.length;d++)if(c[d]&&c[d][b])return!0;return!1}function DI(a){eQ(a,"label",["show"])}var DJ=e$(),DK=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.createdBySelf=!1,c}return af(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c),this._mergeOption(a,c,!1,!0)},b.prototype.isAnimationEnabled=function(){if(ah.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},b.prototype.mergeOption=function(a,b){this._mergeOption(a,b,!1,!1)},b.prototype._mergeOption=function(a,b,c,d){var e=this.mainType;c||b.eachSeries(function(a){var c=a.get(this.mainType,!0),f=DJ(a)[e];if(!c||!c.data){DJ(a)[e]=null;return}f?f._mergeOption(c,b,!0):(d&&DI(c),aH(c.data,function(a){a instanceof Array?(DI(a[0]),DI(a[1])):DI(a)}),aC(f=this.createMarkerModelFromSeries(c,this,b),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),f.__hostSeries=a),DJ(a)[e]=f},this)},b.prototype.formatTooltip=function(a,b,c){var d=this.getData(),e=this.getRawValue(a),f=d.getName(a);return kD("section",{header:this.name,blocks:[kD("nameValue",{name:f,value:e,noName:!f,noValue:null==e})]})},b.prototype.getData=function(){return this._data},b.prototype.setData=function(a){this._data=a},b.getMarkerModelFromSeries=function(a,b){return DJ(a)[b]},b.type="marker",b.dependencies=["series","grid","polar","geo"],b}(iU);aF(DK,j3.prototype);var DL=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.createMarkerModelFromSeries=function(a,c,d){return new b(a,c,d)},b.type="markPoint",b.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},b}(DK);function DM(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function DN(a,b,c,d,e,f){var g=[],h=pD(b,d)?b.getCalculationInfo("stackResultDimension"):d,i=DT(b,h,a),j=b.indicesOfNearest(h,i)[0];g[e]=b.get(c,j),g[f]=b.get(h,j);var k=b.get(d,j),l=ev(b.get(d,j));return(l=Math.min(l,20))>=0&&(g[f]=+g[f].toFixed(l)),[g,k]}var DO={min:aN(DN,"min"),max:aN(DN,"max"),average:aN(DN,"average"),median:aN(DN,"median")};function DP(a,b){if(b){var c,d=a.getData(),e=a.coordinateSystem,f=e&&e.dimensions;if(!(!isNaN(parseFloat((c=b).x))&&!isNaN(parseFloat(c.y)))&&!aO(b.coord)&&aO(f)){var g=DQ(b,d,e,a);if((b=az(b)).type&&DO[b.type]&&g.baseAxis&&g.valueAxis){var h=aE(f,g.baseAxis.dim),i=aE(f,g.valueAxis.dim),j=DO[b.type](d,g.baseDataDim,g.valueDataDim,h,i);b.coord=j[0],b.value=j[1]}else b.coord=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis]}if(null!=b.coord&&aO(f))for(var k=b.coord,l=0;l<2;l++)DO[k[l]]&&(k[l]=DT(d,d.mapDimension(f[l]),k[l]));else b.coord=[];return b}}function DQ(a,b,c,d){var e,f,g,h={};return null!=a.valueIndex||null!=a.valueDim?(h.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,h.valueAxis=c.getAxis((e=d,f=h.valueDataDim,(g=e.getData().getDimensionInfo(f))&&g.coordDim)),h.baseAxis=c.getOtherAxis(h.valueAxis),h.baseDataDim=b.mapDimension(h.baseAxis.dim)):(h.baseAxis=d.getBaseAxis(),h.valueAxis=c.getOtherAxis(h.baseAxis),h.baseDataDim=b.mapDimension(h.baseAxis.dim),h.valueDataDim=b.mapDimension(h.valueAxis.dim)),h}function DR(a,b){return!a||!a.containData||!b.coord||!!DM(b)||a.containData(b.coord)}function DS(a,b){return a?function(a,c,d,e){return j8(e<2?a.coord&&a.coord[e]:a.value,b[e])}:function(a,c,d,e){return j8(a.value,b[e])}}function DT(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){!isNaN(a)&&(d+=a,e++)}),d/e}return"median"===c?a.getMedian(b):a.getDataExtent(b)[+("max"===c)]}var DU=e$(),DV=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.init=function(){this.markerGroupMap=a7()},b.prototype.render=function(a,b,c){var d=this,e=this.markerGroupMap;e.each(function(a){DU(a).keep=!1}),b.eachSeries(function(a){var e=DK.getMarkerModelFromSeries(a,d.type);e&&d.renderSeries(a,e,b,c)}),e.each(function(a){DU(a).keep||d.group.remove(a.group)})},b.prototype.markKeep=function(a){DU(a).keep=!0},b.prototype.toggleBlurSeries=function(a,b){var c=this;aH(a,function(a){var d=DK.getMarkerModelFromSeries(a,c.type);d&&d.getData().eachItemGraphicEl(function(a){a&&(b?g7(a,g3):g7(a,g4))})})},b.type="marker",b}(kZ);function DW(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f,g=a.getItemModel(e),h=es(g.get("x"),c.getWidth()),i=es(g.get("y"),c.getHeight());if(isNaN(h)||isNaN(i)){if(b.getMarkerPosition)f=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){var j=a.get(d.dimensions[0],e),k=a.get(d.dimensions[1],e);f=d.dataToPoint([j,k])}}else f=[h,i];isNaN(h)||(f[0]=h),isNaN(i)||(f[1]=i),a.setItemLayout(e,f)})}var DX=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.updateTransform=function(a,b,c){b.eachSeries(function(a){var b=DK.getMarkerModelFromSeries(a,"markPoint");b&&(DW(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout())},this)},b.prototype.renderSeries=function(a,b,c,d){var e,f,g,h,i,j,k,l=a.coordinateSystem,m=a.id,n=a.getData(),o=this.markerGroupMap,p=o.get(m)||o.set(m,new pO),q=(e=l,f=a,g=b,i=new py(h=e?aI(e&&e.dimensions,function(a){return aC(aC({},f.getData().getDimensionInfo(f.getData().mapDimension(a))||{}),{name:a,ordinalMeta:null})}):[{name:"value",type:"float"}],g),j=aI(g.get("data"),aN(DP,f)),e&&(j=aK(j,aN(DR,e))),k=DS(!!e,h),i.initData(j,null,k),i);b.setData(q),DW(b.getData(),a,d),q.each(function(a){var c=q.getItemModel(a),d=c.getShallow("symbol"),e=c.getShallow("symbolSize"),f=c.getShallow("symbolRotate"),g=c.getShallow("symbolOffset"),h=c.getShallow("symbolKeepAspect");if(aP(d)||aP(e)||aP(f)||aP(g)){var i=b.getRawValue(a),j=b.getDataParams(a);aP(d)&&(d=d(i,j)),aP(e)&&(e=e(i,j)),aP(f)&&(f=f(i,j)),aP(g)&&(g=g(i,j))}var k=c.getModel("itemStyle").getItemStyle(),l=m6(n,"color");k.fill||(k.fill=l),q.setItemVisual(a,{symbol:d,symbolSize:e,symbolRotate:f,symbolOffset:g,symbolKeepAspect:h,style:k})}),p.updateData(q),this.group.add(p.group),q.eachItemGraphicEl(function(a){a.traverse(function(a){gO(a).dataModel=b})}),this.markKeep(p),p.group.silent=b.get("silent")||a.get("silent")},b.type="markPoint",b}(DV),DY=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.createMarkerModelFromSeries=function(a,c,d){return new b(a,c,d)},b.type="markLine",b.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},b}(DK),DZ=e$(),D$=function(a,b,c,d){var e,f=a.getData();if(aO(d))e=d;else{var g=d.type;if("min"===g||"max"===g||"average"===g||"median"===g||null!=d.xAxis||null!=d.yAxis){var h=void 0,i=void 0;if(null!=d.yAxis||null!=d.xAxis)h=b.getAxis(null!=d.yAxis?"y":"x"),i=aY(d.yAxis,d.xAxis);else{var j=DQ(d,f,b,a);h=j.valueAxis;var k=pE(f,j.valueDataDim);i=DT(f,k,g)}var l=+("x"!==h.dim),m=1-l,n=az(d),o={coord:[]};n.type=null,n.coord=[],n.coord[m]=-1/0,o.coord[m]=1/0;var p=c.get("precision");p>=0&&aS(i)&&(i=+i.toFixed(Math.min(p,20))),n.coord[l]=o.coord[l]=i,e=[n,o,{type:g,valueIndex:d.valueIndex,value:i}]}else e=[]}var q=[DP(a,e[0]),DP(a,e[1]),aC({},e[2])];return q[2].type=q[2].type||null,aA(q[2],q[0]),aA(q[2],q[1]),q};function D_(a){return!isNaN(a)&&!isFinite(a)}function D0(a,b,c,d){var e=1-a,f=d.dimensions[a];return D_(b[e])&&D_(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function D1(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(D0(1,c,d,a)||D0(0,c,d,a)))return!0}return DR(a,b[0])&&DR(a,b[1])}function D2(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=es(h.get("x"),e.getWidth()),j=es(h.get("y"),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition)f=d.getMarkerPosition(a.getValues(a.dimensions,b));else{var k=g.dimensions,l=a.get(k[0],b),m=a.get(k[1],b);f=g.dataToPoint([l,m])}if(p3(g,"cartesian2d")){var n=g.getAxis("x"),o=g.getAxis("y"),k=g.dimensions;D_(a.get(k[0],b))?f[0]=n.toGlobalCoord(n.getExtent()[+!c]):D_(a.get(k[1],b))&&(f[1]=o.toGlobalCoord(o.getExtent()[+!c]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];a.setItemLayout(b,f)}var D3=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.updateTransform=function(a,b,c){b.eachSeries(function(a){var b=DK.getMarkerModelFromSeries(a,"markLine");if(b){var d=b.getData(),e=DZ(b).from,f=DZ(b).to;e.each(function(b){D2(e,b,!0,a,c),D2(f,b,!1,a,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},b.prototype.renderSeries=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.coordinateSystem,o=a.id,p=a.getData(),q=this.markerGroupMap,r=q.get(o)||q.set(o,new wl);this.group.add(r.group);var s=(e=n,f=a,g=b,i=new py(h=e?aI(e&&e.dimensions,function(a){return aC(aC({},f.getData().getDimensionInfo(f.getData().mapDimension(a))||{}),{name:a,ordinalMeta:null})}):[{name:"value",type:"float"}],g),j=new py(h,g),k=new py([],g),l=aI(g.get("data"),aN(D$,f,e,g)),e&&(l=aK(l,aN(D1,e))),m=DS(!!e,h),i.initData(aI(l,function(a){return a[0]}),null,m),j.initData(aI(l,function(a){return a[1]}),null,m),k.initData(aI(l,function(a){return a[2]})),k.hasItemOption=!0,{from:i,to:j,line:k}),t=s.from,u=s.to,v=s.line;DZ(b).from=t,DZ(b).to=u,b.setData(v);var w=b.get("symbol"),x=b.get("symbolSize"),y=b.get("symbolRotate"),z=b.get("symbolOffset");function A(b,c,e){var f=b.getItemModel(c);D2(b,c,e,a,d);var g=f.getModel("itemStyle").getItemStyle();null==g.fill&&(g.fill=m6(p,"color")),b.setItemVisual(c,{symbolKeepAspect:f.get("symbolKeepAspect"),symbolOffset:aZ(f.get("symbolOffset",!0),z[+!e]),symbolRotate:aZ(f.get("symbolRotate",!0),y[+!e]),symbolSize:aZ(f.get("symbolSize"),x[+!e]),symbol:aZ(f.get("symbol",!0),w[+!e]),style:g})}aO(w)||(w=[w,w]),aO(x)||(x=[x,x]),aO(y)||(y=[y,y]),aO(z)||(z=[z,z]),s.from.each(function(a){A(t,a,!0),A(u,a,!1)}),v.each(function(a){var b=v.getItemModel(a).getModel("lineStyle").getLineStyle();v.setItemLayout(a,[t.getItemLayout(a),u.getItemLayout(a)]),null==b.stroke&&(b.stroke=t.getItemVisual(a,"style").fill),v.setItemVisual(a,{fromSymbolKeepAspect:t.getItemVisual(a,"symbolKeepAspect"),fromSymbolOffset:t.getItemVisual(a,"symbolOffset"),fromSymbolRotate:t.getItemVisual(a,"symbolRotate"),fromSymbolSize:t.getItemVisual(a,"symbolSize"),fromSymbol:t.getItemVisual(a,"symbol"),toSymbolKeepAspect:u.getItemVisual(a,"symbolKeepAspect"),toSymbolOffset:u.getItemVisual(a,"symbolOffset"),toSymbolRotate:u.getItemVisual(a,"symbolRotate"),toSymbolSize:u.getItemVisual(a,"symbolSize"),toSymbol:u.getItemVisual(a,"symbol"),style:b})}),r.updateData(v),s.line.eachItemGraphicEl(function(a){gO(a).dataModel=b,a.traverse(function(a){gO(a).dataModel=b})}),this.markKeep(r),r.group.silent=b.get("silent")||a.get("silent")},b.type="markLine",b}(DV),D4=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.createMarkerModelFromSeries=function(a,c,d){return new b(a,c,d)},b.type="markArea",b.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},b}(DK),D5=e$(),D6=function(a,b,c,d){var e=d[0],f=d[1];if(e&&f){var g=DP(a,e),h=DP(a,f),i=g.coord,j=h.coord;i[0]=aY(i[0],-1/0),i[1]=aY(i[1],-1/0),j[0]=aY(j[0],1/0),j[1]=aY(j[1],1/0);var k=aB([{},g,h]);return k.coord=[g.coord,h.coord],k.x0=g.x,k.y0=g.y,k.x1=h.x,k.y1=h.y,k}};function D7(a){return!isNaN(a)&&!isFinite(a)}function D8(a,b,c,d){var e=1-a;return D7(b[e])&&D7(c[e])}function D9(a,b){var c=b.coord[0],d=b.coord[1],e={coord:c,x:b.x0,y:b.y0},f={coord:d,x:b.x1,y:b.y1};if(p3(a,"cartesian2d"))return!!(c&&d&&(D8(1,c,d,a)||D8(0,c,d,a)))||!a||!a.containZone||!e.coord||!f.coord||!!DM(e)||!!DM(f)||a.containZone(e.coord,f.coord);return DR(a,e)||DR(a,f)}function Ea(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=es(h.get(c[0]),e.getWidth()),j=es(h.get(c[1]),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition){var k=a.getValues(["x0","y0"],b),l=a.getValues(["x1","y1"],b),m=g.clampData(k),n=g.clampData(l),o=[];"x0"===c[0]?o[0]=m[0]>n[0]?l[0]:k[0]:o[0]=m[0]>n[0]?k[0]:l[0],"y0"===c[1]?o[1]=m[1]>n[1]?l[1]:k[1]:o[1]=m[1]>n[1]?k[1]:l[1],f=d.getMarkerPosition(o,c,!0)}else{var p=a.get(c[0],b),q=a.get(c[1],b),r=[p,q];g.clampData&&g.clampData(r,r),f=g.dataToPoint(r,!0)}if(p3(g,"cartesian2d")){var s=g.getAxis("x"),t=g.getAxis("y"),p=a.get(c[0],b),q=a.get(c[1],b);D7(p)?f[0]=s.toGlobalCoord(s.getExtent()[+("x0"!==c[0])]):D7(q)&&(f[1]=t.toGlobalCoord(t.getExtent()[+("y0"!==c[1])]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];return f}var Eb=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Ec=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.updateTransform=function(a,b,c){b.eachSeries(function(a){var b=DK.getMarkerModelFromSeries(a,"markArea");if(b){var d=b.getData();d.each(function(b){var e=aI(Eb,function(e){return Ea(d,b,e,a,c)});d.setItemLayout(b,e),d.getItemGraphicEl(b).setShape("points",e)})}},this)},b.prototype.renderSeries=function(a,b,c,d){var e=a.coordinateSystem,f=a.id,g=a.getData(),h=this.markerGroupMap,i=h.get(f)||h.set(f,{group:new em});this.group.add(i.group),this.markKeep(i);var j=function(a,b,c){if(a){var d,e,f=aI(a&&a.dimensions,function(a){var c=b.getData();return aC(aC({},c.getDimensionInfo(c.mapDimension(a))||{}),{name:a,ordinalMeta:null})});d=new py(e=aI(["x0","y0","x1","y1"],function(a,b){return{name:a,type:f[b%2].type}}),c)}else d=new py(e=[{name:"value",type:"float"}],c);var g=aI(c.get("data"),aN(D6,b,a,c));a&&(g=aK(g,aN(D9,a)));var h=a?function(a,b,c,d){return j8(a.coord[Math.floor(d/2)][d%2],e[d])}:function(a,b,c,d){return j8(a.value,e[d])};return d.initData(g,null,h),d.hasItemOption=!0,d}(e,a,b);b.setData(j),j.each(function(b){var c=aI(Eb,function(c){return Ea(j,b,c,a,d)}),f=e.getAxis("x").scale,h=e.getAxis("y").scale,i=f.getExtent(),k=h.getExtent(),l=[f.parse(j.get("x0",b)),f.parse(j.get("x1",b))],m=[h.parse(j.get("y0",b)),h.parse(j.get("y1",b))];eu(l),eu(m);var n=!(i[0]>l[1]||i[1]<l[0]||k[0]>m[1]||k[1]<m[0]);j.setItemLayout(b,{points:c,allClipped:!n});var o=j.getItemModel(b).getModel("itemStyle").getItemStyle(),p=m6(g,"color");!o.fill&&(o.fill=p,aQ(o.fill)&&(o.fill=c8(o.fill,.4))),o.stroke||(o.stroke=p),j.setItemVisual(b,"style",o)}),j.diff(D5(i).data).add(function(a){var b=j.getItemLayout(a);if(!b.allClipped){var c=new lD({shape:{points:b.points}});j.setItemGraphicEl(a,c),i.group.add(c)}}).update(function(a,c){var d=D5(i).data.getItemGraphicEl(c),e=j.getItemLayout(a);e.allClipped?d&&i.group.remove(d):(d?hy(d,{shape:{points:e.points}},b,a):d=new lD({shape:{points:e.points}}),j.setItemGraphicEl(a,d),i.group.add(d))}).remove(function(a){var b=D5(i).data.getItemGraphicEl(a);i.group.remove(b)}).execute(),j.eachItemGraphicEl(function(a,c){var d=j.getItemModel(c),e=j.getItemVisual(c,"style");a.useStyle(j.getItemVisual(c,"style")),hI(a,hJ(d),{labelFetcher:b,labelDataIndex:c,defaultText:j.getName(c)||"",inheritColor:aQ(e.fill)?c8(e.fill,1):"#000"}),hq(a,d),hm(a,null,null,d.get(["emphasis","disabled"])),gO(a).dataModel=b}),D5(i).data=j,i.group.silent=b.get("silent")||a.get("silent")},b.type="markArea",b}(DV),Ed=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.layoutMode={type:"box",ignoreSize:!0},c}return af(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{},this._updateSelector(a)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.call(this,b,c),this._updateSelector(b)},b.prototype._updateSelector=function(a){var b=a.selector,c=this.ecModel;!0===b&&(b=a.selector=["all","inverse"]),aO(b)&&aH(b,function(a,d){var e;aQ(a)&&(a={type:a}),b[d]=aA(a,"all"===(e=a.type)?{type:"all",title:c.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:c.getLocaleModel().get(["legend","selector","inverse"])}:void 0)})},b.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d),b=!0;break}}b||this.select(a[0].get("name"))}},b.prototype._updateData=function(a){var b=[],c=[];a.eachRawSeries(function(d){var e,f=d.name;if(c.push(f),d.legendVisualProvider){var g=d.legendVisualProvider.getAllNames();a.isSeriesFiltered(d)||(c=c.concat(g)),g.length?b=b.concat(g):e=!0}else e=!0;e&&eX(d)&&b.push(d.name)}),this._availableNames=c;var d=this.get("data")||b,e=a7(),f=aI(d,function(a){return((aQ(a)||aS(a))&&(a={name:a}),e.get(a.name))?null:(e.set(a.name,!0),new h2(a,this,this.ecModel))},this);this._data=aK(f,function(a){return!!a})},b.prototype.getData=function(){return this._data},b.prototype.select=function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&aH(this._data,function(a){b[a.get("name")]=!1}),b[a]=!0},b.prototype.unSelect=function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},b.prototype.toggleSelected=function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},b.prototype.allSelect=function(){var a=this._data,b=this.option.selected;aH(a,function(a){b[a.get("name",!0)]=!0})},b.prototype.inverseSelect=function(){var a=this._data,b=this.option.selected;aH(a,function(a){var c=a.get("name",!0);b.hasOwnProperty(c)||(b[c]=!0),b[c]=!b[c]})},b.prototype.isSelected=function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&aE(this._availableNames,a)>=0},b.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},b.type="legend.plain",b.dependencies=["series"],b.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},b}(iU),Ee=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.newlineDisabled=!1,c}return af(b,a),b.prototype.init=function(){this.group.add(this._contentGroup=new em),this.group.add(this._selectorGroup=new em),this._isFirstRender=!0},b.prototype.getContentGroup=function(){return this._contentGroup},b.prototype.getSelectorGroup=function(){return this._selectorGroup},b.prototype.render=function(a,b,c){var d=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),a.get("show",!0)){var e=a.get("align"),f=a.get("orient");e&&"auto"!==e||(e="right"===a.get("left")&&"vertical"===f?"right":"left");var g=a.get("selector",!0),h=a.get("selectorPosition",!0);g&&(!h||"auto"===h)&&(h="horizontal"===f?"end":"start"),this.renderInner(e,a,b,c,g,f,h);var i=a.getBoxLayoutParams(),j={width:c.getWidth(),height:c.getHeight()},k=a.get("padding"),l=iN(i,j,k),m=this.layoutInner(a,e,l,d,g,h),n=iN(aD({width:m.width,height:m.height},i),j,k);this.group.x=n.x-m.x,this.group.y=n.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Cl(m,a))}},b.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},b.prototype.renderInner=function(a,b,c,d,e,f,g){var h=this.getContentGroup(),i=a7(),j=b.get("selectedMode"),k=[];c.eachRawSeries(function(a){a.get("legendHoverLink")||k.push(a.id)}),aH(b.getData(),function(e,f){var g=e.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var l=new em;l.newline=!0,h.add(l);return}var m=c.getSeriesByName(g)[0];if(!i.get(g))if(m){var n=m.getData(),o=n.getVisual("legendLineStyle")||{},p=n.getVisual("legendIcon"),q=n.getVisual("style"),r=this._createItem(m,g,f,e,b,a,o,q,p,j,d);r.on("click",aN(Ef,g,null,d,k)).on("mouseover",aN(Eh,m.name,null,d,k)).on("mouseout",aN(Ei,m.name,null,d,k)),c.ssr&&r.eachChild(function(a){var b=gO(a);b.seriesIndex=m.seriesIndex,b.dataIndex=f,b.ssrType="legend"}),i.set(g,!0)}else c.eachRawSeries(function(h){if(!i.get(g)&&h.legendVisualProvider){var l=h.legendVisualProvider;if(l.containName(g)){var m=l.indexOfName(g),n=l.getItemVisual(m,"style"),o=l.getItemVisual(m,"legendIcon"),p=c3(n.fill);p&&0===p[3]&&(p[3]=.2,n=aC(aC({},n),{fill:c9(p,"rgba")}));var q=this._createItem(h,g,f,e,b,a,{},n,o,j,d);q.on("click",aN(Ef,null,g,d,k)).on("mouseover",aN(Eh,null,g,d,k)).on("mouseout",aN(Ei,null,g,d,k)),c.ssr&&q.eachChild(function(a){var b=gO(a);b.seriesIndex=h.seriesIndex,b.dataIndex=f,b.ssrType="legend"}),i.set(g,!0)}}},this)},this),e&&this._createSelector(e,b,d,f,g)},b.prototype._createSelector=function(a,b,c,d,e){var f=this.getSelectorGroup();aH(a,function(a){var d=a.type,e=new gB({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){c.dispatchAction({type:"all"===d?"legendAllSelect":"legendInverseSelect"})}});f.add(e),hI(e,{normal:b.getModel("selectorLabel"),emphasis:b.getModel(["emphasis","selectorLabel"])},{defaultText:a.title}),hl(e)})},b.prototype._createItem=function(a,b,c,d,e,f,g,h,i,j,k){var l=a.visualDrawType,m=e.get("itemWidth"),n=e.get("itemHeight"),o=e.isSelected(b),p=d.get("symbolRotate"),q=d.get("symbolKeepAspect"),r=d.get("icon"),s=function(a,b,c,d,e,f,g){function h(a,b){"auto"===a.lineWidth&&(a.lineWidth=2*(b.lineWidth>0)),aH(a,function(c,d){"inherit"===a[d]&&(a[d]=b[d])})}var i=b.getModel("itemStyle"),j=i.getItemStyle(),k=0===a.lastIndexOf("empty",0)?"fill":"stroke",l=i.getShallow("decal");j.decal=l&&"inherit"!==l?nN(l,g):d.decal,"inherit"===j.fill&&(j.fill=d[e]),"inherit"===j.stroke&&(j.stroke=d[k]),"inherit"===j.opacity&&(j.opacity=("fill"===e?d:c).opacity),h(j,d);var m=b.getModel("lineStyle"),n=m.getLineStyle();if(h(n,c),"auto"===j.fill&&(j.fill=d.fill),"auto"===j.stroke&&(j.stroke=d.fill),"auto"===n.stroke&&(n.stroke=d.fill),!f){var o=b.get("inactiveBorderWidth"),p=j[k];j.lineWidth="auto"===o?d.lineWidth>0&&p?2:0:j.lineWidth,j.fill=b.get("inactiveColor"),j.stroke=b.get("inactiveBorderColor"),n.stroke=m.get("inactiveColor"),n.lineWidth=m.get("inactiveWidth")}return{itemStyle:j,lineStyle:n}}(i=r||i||"roundRect",d,g,h,l,o,k),t=new em,u=d.getModel("textStyle");if(aP(a.getLegendIcon)&&(!r||"inherit"===r))t.add(a.getLegendIcon({itemWidth:m,itemHeight:n,icon:i,iconRotate:p,itemStyle:s.itemStyle,lineStyle:s.lineStyle,symbolKeepAspect:q}));else{var v,w,x,y="inherit"===r&&a.getData().getVisual("symbol")?"inherit"===p?a.getData().getVisual("symbolRotate"):p:0;t.add(((x=nm(w=(v={itemWidth:m,itemHeight:n,icon:i,iconRotate:y,itemStyle:s.itemStyle,lineStyle:s.lineStyle,symbolKeepAspect:q}).icon||"roundRect",0,0,v.itemWidth,v.itemHeight,v.itemStyle.fill,v.symbolKeepAspect)).setStyle(v.itemStyle),x.rotation=(v.iconRotate||0)*Math.PI/180,x.setOrigin([v.itemWidth/2,v.itemHeight/2]),w.indexOf("empty")>-1&&(x.style.stroke=x.style.fill,x.style.fill="#fff",x.style.lineWidth=2),x))}var z=e.get("formatter"),A=b;aQ(z)&&z?A=z.replace("{name}",null!=b?b:""):aP(z)&&(A=z(b));var B=o?u.getTextColor():d.get("inactiveColor");t.add(new gB({style:hK(u,{text:A,x:"left"===f?m+5:-5,y:n/2,fill:B,align:f,verticalAlign:"middle"},{inheritColor:B})}));var C=new gy({shape:t.getBoundingRect(),style:{fill:"transparent"}}),D=d.getModel("tooltip");return D.get("show")&&mn({el:C,componentModel:e,itemName:b,itemTooltipOption:D.option}),t.add(C),t.eachChild(function(a){a.silent=!0}),C.silent=!j,this.getContentGroup().add(t),hl(t),t.__legendDataIndex=c,t},b.prototype.layoutInner=function(a,b,c,d,e,f){var g=this.getContentGroup(),h=this.getSelectorGroup();iM(a.get("orient"),g,a.get("itemGap"),c.width,c.height);var i=g.getBoundingRect(),j=[-i.x,-i.y];if(h.markRedraw(),g.markRedraw(),!e)return g.x=j[0],g.y=j[1],this.group.getBoundingRect();iM("horizontal",h,a.get("selectorItemGap",!0));var k=h.getBoundingRect(),l=[-k.x,-k.y],m=a.get("selectorButtonGap",!0),n=a.getOrient().index,o=0===n?"width":"height",p=0===n?"height":"width",q=0===n?"y":"x";"end"===f?l[n]+=i[o]+m:j[n]+=k[o]+m,l[1-n]+=i[p]/2-k[p]/2,h.x=l[0],h.y=l[1],g.x=j[0],g.y=j[1];var r={x:0,y:0};return r[o]=i[o]+m+k[o],r[p]=Math.max(i[p],k[p]),r[q]=Math.min(0,k[q]+l[1-n]),r},b.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},b.type="legend.plain",b}(kZ);function Ef(a,b,c,d){Ei(a,b,c,d),c.dispatchAction({type:"legendToggleSelect",name:null!=a?a:b}),Eh(a,b,c,d)}function Eg(a){for(var b,c=a.getZr().storage.getDisplayList(),d=0,e=c.length;d<e&&!(b=c[d].states.emphasis);)d++;return b&&b.hoverLayer}function Eh(a,b,c,d){Eg(c)||c.dispatchAction({type:"highlight",seriesName:a,name:b,excludeSeriesId:d})}function Ei(a,b,c,d){Eg(c)||c.dispatchAction({type:"downplay",seriesName:a,name:b,excludeSeriesId:d})}function Ej(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}function Ek(a,b,c){var d,e={},f="toggleSelected"===a;return c.eachComponent("legend",function(c){f&&null!=d?c[d?"select":"unSelect"](b.name):"allSelect"===a||"inverseSelect"===a?c[a]():(c[a](b.name),d=c.isSelected(b.name)),aH(c.getData(),function(a){var b=a.get("name");if("\n"!==b&&""!==b){var d=c.isSelected(b);e.hasOwnProperty(b)?e[b]=e[b]&&d:e[b]=d}})}),"allSelect"===a||"inverseSelect"===a?{selected:e}:{name:b.name,selected:e}}function El(a){a.registerComponentModel(Ed),a.registerComponentView(Ee),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,Ej),a.registerSubTypeDefaulter("legend",function(){return"plain"}),a.registerAction("legendToggleSelect","legendselectchanged",aN(Ek,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",aN(Ek,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",aN(Ek,"inverseSelect")),a.registerAction("legendSelect","legendselected",aN(Ek,"select")),a.registerAction("legendUnSelect","legendunselected",aN(Ek,"unSelect"))}var Em=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},b.prototype.init=function(b,c,d){var e=iR(b);a.prototype.init.call(this,b,c,d),En(this,b,e)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.call(this,b,c),En(this,this.option,b)},b.type="legend.scroll",b.defaultOption=h5(Ed.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),b}(Ed);function En(a,b,c){var d=a.getOrient(),e=[1,1];e[d.index]=0,iQ(b,c,{type:"box",ignoreSize:!!e})}var Eo=["width","height"],Ep=["x","y"],Eq=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.newlineDisabled=!0,c._currentIndex=0,c}return af(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new em),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new em)},b.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},b.prototype.renderInner=function(b,c,d,e,f,g,h){var i=this;a.prototype.renderInner.call(this,b,c,d,e,f,g,h);var j=this._controllerGroup,k=c.get("pageIconSize",!0),l=aO(k)?k:[k,k];n("pagePrev",0);var m=c.getModel("pageTextStyle");function n(a,b){var d=mk(c.get("pageIcons",!0)[c.getOrient().name][b],{onclick:aM(i._pageGo,i,a+"DataIndex",c,e)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});d.name=a,j.add(d)}j.add(new gB({name:"pageText",style:{text:"xx/xx",fill:m.getTextColor(),font:m.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),n("pageNext",1)},b.prototype.layoutInner=function(a,b,c,d,e,f){var g=this.getSelectorGroup(),h=a.getOrient().index,i=Eo[h],j=Ep[h],k=Eo[1-h],l=Ep[1-h];e&&iM("horizontal",g,a.get("selectorItemGap",!0));var m=a.get("selectorButtonGap",!0),n=g.getBoundingRect(),o=[-n.x,-n.y],p=az(c);e&&(p[i]=c[i]-n[i]-m);var q=this._layoutContentAndController(a,d,p,h,i,k,l,j);if(e){if("end"===f)o[h]+=q[i]+m;else{var r=n[i]+m;o[h]-=r,q[j]-=r}q[i]+=n[i]+m,o[1-h]+=q[l]+q[k]/2-n[k]/2,q[k]=Math.max(q[k],n[k]),q[l]=Math.min(q[l],n[l]+o[1-h]),g.x=o[0],g.y=o[1],g.markRedraw()}return q},b.prototype._layoutContentAndController=function(a,b,c,d,e,f,g,h){var i=this.getContentGroup(),j=this._containerGroup,k=this._controllerGroup;iM(a.get("orient"),i,a.get("itemGap"),d?c.width:null,d?null:c.height),iM("horizontal",k,a.get("pageButtonItemGap",!0));var l=i.getBoundingRect(),m=k.getBoundingRect(),n=this._showController=l[e]>c[e],o=[-l.x,-l.y];b||(o[d]=i[h]);var p=[0,0],q=[-m.x,-m.y],r=aZ(a.get("pageButtonGap",!0),a.get("itemGap",!0));n&&("end"===a.get("pageButtonPosition",!0)?q[d]+=c[e]-m[e]:p[d]+=m[e]+r),q[1-d]+=l[f]/2-m[f]/2,i.setPosition(o),j.setPosition(p),k.setPosition(q);var s={x:0,y:0};if(s[e]=n?c[e]:l[e],s[f]=Math.max(l[f],m[f]),s[g]=Math.min(0,m[g]+q[1-d]),j.__rectSize=c[e],n){var t={x:0,y:0};t[e]=Math.max(c[e]-m[e]-r,0),t[f]=s[f],j.setClipPath(new gy({shape:t})),j.__rectSize=t[e]}else k.eachChild(function(a){a.attr({invisible:!0,silent:!0})});var u=this._getPageInfo(a);return null!=u.pageIndex&&hy(i,{x:u.contentPosition[0],y:u.contentPosition[1]},n?a:null),this._updatePageInfoView(a,u),s},b.prototype._pageGo=function(a,b,c){var d=this._getPageInfo(b)[a];null!=d&&c.dispatchAction({type:"legendScroll",scrollDataIndex:d,legendId:b.id})},b.prototype._updatePageInfoView=function(a,b){var c=this._controllerGroup;aH(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"],f=c.childOfName(d);f&&(f.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),f.cursor=e?"pointer":"default")});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex,g=null!=f?f+1:0,h=b.pageCount;d&&e&&d.setStyle("text",aQ(e)?e.replace("{current}",null==g?"":g+"").replace("{total}",null==h?"":h+""):e({current:g,total:h}))},b.prototype._getPageInfo=function(a){var b=a.get("scrollDataIndex",!0),c=this.getContentGroup(),d=this._containerGroup.__rectSize,e=a.getOrient().index,f=Eo[e],g=Ep[e],h=this._findTargetItemIndex(b),i=c.children(),j=i[h],k=i.length,l=+!!k,m={contentPosition:[c.x,c.y],pageCount:l,pageIndex:l-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!j)return m;var n=s(j);m.contentPosition[e]=-n.s;for(var o=h+1,p=n,q=n,r=null;o<=k;++o)(!(r=s(i[o]))&&q.e>p.s+d||r&&!t(r,p.s))&&(p=q.i>p.i?q:r)&&(null==m.pageNextDataIndex&&(m.pageNextDataIndex=p.i),++m.pageCount),q=r;for(var o=h-1,p=n,q=n,r=null;o>=-1;--o)(!(r=s(i[o]))||!t(q,r.s))&&p.i<q.i&&(q=p,null==m.pagePrevDataIndex&&(m.pagePrevDataIndex=p.i),++m.pageCount,++m.pageIndex),p=r;return m;function s(a){if(a){var b=a.getBoundingRect(),c=b[g]+a[g];return{s:c,e:c+b[f],i:a.__legendDataIndex}}}function t(a,b){return a.e>=b&&a.s<=b+d}},b.prototype._findTargetItemIndex=function(a){var b,c;return this._showController?(this.getContentGroup().eachChild(function(d,e){var f=d.__legendDataIndex;null==c&&null!=f&&(c=e),f===a&&(b=e)}),null!=b?b:c):0},b.type="legend.scroll",b}(Ee);function Er(a){ok(El),a.registerComponentModel(Em),a.registerComponentView(Eq),a.registerAction("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})})}var Es=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="dataZoom.inside",b.defaultOption=h5(B8.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),b}(B8),Et=e$();function Eu(a,b){if(b){a.removeKey(b.model.uid);var c=b.controller;c&&c.dispose()}}function Ev(a,b){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:b})}function Ew(a,b,c,d){return a.coordinateSystem.containPoint([c,d])}var Ex=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="dataZoom.inside",b}return af(b,a),b.prototype.render=function(b,c,d){var e;(a.prototype.render.apply(this,arguments),b.noTarget())?this._clear():(this.range=b.getPercentRange(),e={pan:aM(Ey.pan,this),zoom:aM(Ey.zoom,this),scrollMove:aM(Ey.scrollMove,this)},Et(d).coordSysRecordMap.each(function(a){var c=a.dataZoomInfoMap.get(b.uid);c&&(c.getRange=e)}))},b.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},b.prototype._clear=function(){!function(a,b){for(var c=Et(a).coordSysRecordMap,d=c.keys(),e=0;e<d.length;e++){var f=d[e],g=c.get(f),h=g.dataZoomInfoMap;if(h){var i=b.uid;h.get(i)&&(h.removeKey(i),h.keys().length||Eu(c,g))}}}(this.api,this.dataZoomModel),this.range=null},b.type="dataZoom.inside",b}(Cb),Ey={zoom:function(a,b,c,d){var e=this.range,f=e.slice(),g=a.axisModels[0];if(g){var h=EA[b](null,[d.originX,d.originY],g,c,a),i=(h.signal>0?h.pixelStart+h.pixelLength-h.pixel:h.pixel-h.pixelStart)/h.pixelLength*(f[1]-f[0])+f[0],j=Math.max(1/d.scale,0);f[0]=(f[0]-i)*j+i,f[1]=(f[1]-i)*j+i;var k=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(w3(0,f,[0,100],0,k.minSpan,k.maxSpan),this.range=f,e[0]!==f[0]||e[1]!==f[1])return f}},pan:Ez(function(a,b,c,d,e,f){var g=EA[d]([f.oldX,f.oldY],[f.newX,f.newY],b,e,c);return g.signal*(a[1]-a[0])*g.pixel/g.pixelLength}),scrollMove:Ez(function(a,b,c,d,e,f){return EA[d]([0,0],[f.scrollDelta,f.scrollDelta],b,e,c).signal*(a[1]-a[0])*f.scrollDelta})};function Ez(a){return function(b,c,d,e){var f=this.range,g=f.slice(),h=b.axisModels[0];if(h&&(w3(a(g,h,b,c,d,e),g,[0,100],"all"),this.range=g,f[0]!==g[0]||f[1]!==g[1]))return g}}var EA={grid:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===f.dim?(g.pixel=b[0]-a[0],g.pixelLength=h.width,g.pixelStart=h.x,g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=h.height,g.pixelStart=h.y,g.signal=f.inverse?-1:1),g},polar:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem,i=h.getRadiusAxis().getExtent(),j=h.getAngleAxis().getExtent();return a=a?h.pointToCoord(a):[0,0],b=h.pointToCoord(b),"radiusAxis"===c.mainType?(g.pixel=b[0]-a[0],g.pixelLength=i[1]-i[0],g.pixelStart=i[0],g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=j[1]-j[0],g.pixelStart=j[0],g.signal=f.inverse?-1:1),g},singleAxis:function(a,b,c,d,e){var f=c.axis,g=e.model.coordinateSystem.getRect(),h={};return a=a||[0,0],"horizontal"===f.orient?(h.pixel=b[0]-a[0],h.pixelLength=g.width,h.pixelStart=g.x,h.signal=f.inverse?1:-1):(h.pixel=b[1]-a[1],h.pixelLength=g.height,h.pixelStart=g.y,h.signal=f.inverse?-1:1),h}};function EB(a){Cg(a),a.registerComponentModel(Es),a.registerComponentView(Ex),a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(a,b){var c=Et(b),d=c.coordSysRecordMap||(c.coordSysRecordMap=a7());d.each(function(a){a.dataZoomInfoMap=null}),a.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){aH(B6(a).infoList,function(c){var e,f,g,h=c.model.uid,i=d.get(h)||d.set(h,(g=(f={model:e=c.model,containsPoint:aN(Ew,e),dispatchAction:aN(Ev,b),dataZoomInfoMap:null,controller:null}).controller=new ti(b.getZr()),aH(["pan","zoom","scrollMove"],function(a){g.on(a,function(b){var c=[];f.dataZoomInfoMap.each(function(d){if(b.isAvailableBehavior(d.model.option)){var e=(d.getRange||{})[a],g=e&&e(d.dzReferCoordSysInfo,f.model.mainType,f.controller,b);!d.model.get("disabled",!0)&&g&&c.push({dataZoomId:d.model.id,start:g[0],end:g[1]})}}),c.length&&f.dispatchAction(c)})}),f));(i.dataZoomInfoMap||(i.dataZoomInfoMap=a7())).set(a.uid,{dzReferCoordSysInfo:c,model:a,getRange:null})})}),d.each(function(a){var b,c,e,f,g,h=a.controller,i=a.dataZoomInfoMap;if(i){var j=i.keys()[0];null!=j&&(g=i.get(j))}if(!g)return void Eu(d,a);var k=(c="type_",e={type_true:2,type_move:1,type_false:0,type_undefined:-1},f=!0,i.each(function(a){var d=a.model,g=!d.get("disabled",!0)&&(!d.get("zoomLock",!0)||"move");e[c+g]>e[c+b]&&(b=g),f=f&&d.get("preventDefaultMouseMove",!0)}),{controlType:b,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!f}});h.enable(k.controlType,k.opt),h.setPointerChecker(a.containsPoint),mC(a,"dispatchAction",g.model.get("throttle",!0),"fixRate")})})}var EC=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.type="dataZoom.slider",b.layoutMode="box",b.defaultOption=h5(B8.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),b}(B8),ED="horizontal",EE="vertical",EF=["line","bar","candlestick","scatter"],EG={easing:"cubicOut",duration:100,delay:0},EH=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._displayables={},c}return af(b,a),b.prototype.init=function(a,b){this.api=b,this._onBrush=aM(this._onBrush,this),this._onBrushEnd=aM(this._onBrushEnd,this)},b.prototype.render=function(b,c,d,e){if(a.prototype.render.apply(this,arguments),mC(this,"_dispatchZoomAction",b.get("throttle"),"fixRate"),this._orient=b.getOrient(),!1===b.get("show"))return void this.group.removeAll();if(b.noTarget()){this._clear(),this.group.removeAll();return}e&&"dataZoom"===e.type&&e.from===this.uid||this._buildView(),this._updateView()},b.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},b.prototype._clear=function(){mD(this,"_dispatchZoomAction");var a=this.api.getZr();a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)},b.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var b=this._displayables.sliderGroup=new em;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},b.prototype._resetLocation=function(){var a=this.dataZoomModel,b=this.api,c=a.get("brushSelect"),d=this._findCoordRect(),e={width:b.getWidth(),height:b.getHeight()},f=this._orient===ED?{right:e.width-d.x-d.width,top:e.height-30-7-7*!!c,width:d.width,height:30}:{right:7,top:d.y,width:30,height:d.height},g=iR(a.option);aH(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=f[a])});var h=iN(g,e);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===EE&&this._size.reverse()},b.prototype._positionGroup=function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.sliderGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==ED||e?c===ED&&e?{scaleY:g?1:-1,scaleX:-1}:c!==EE||e?{scaleY:g?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:g?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:g?1:-1,scaleX:1});var h=a.getBoundingRect([f]);a.x=b.x-h.x,a.y=b.y-h.y,a.markRedraw()},b.prototype._getViewExtent=function(){return[0,this._size[0]]},b.prototype._renderBackground=function(){var a=this.dataZoomModel,b=this._size,c=this._displayables.sliderGroup,d=a.get("brushSelect");c.add(new gy({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40}));var e=new gy({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:aM(this._onClickPanel,this)}),f=this.api.getZr();d?(e.on("mousedown",this._onBrushStart,this),e.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),c.add(e)},b.prototype._renderDataShadow=function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],a){var b=this._size,c=this._shadowSize||[],d=a.series,e=d.getRawData(),f=d.getShadowDim&&d.getShadowDim(),g=f&&e.getDimensionInfo(f)?d.getShadowDim():a.otherDim;if(null!=g){var h=this._shadowPolygonPts,i=this._shadowPolylinePts;if(e!==this._shadowData||g!==this._shadowDim||b[0]!==c[0]||b[1]!==c[1]){var j,k=e.getDataExtent(g),l=(k[1]-k[0])*.3;k=[k[0]-l,k[1]+l];var m=[0,b[1]],n=[0,b[0]],o=[[b[0],0],[0,0]],p=[],q=n[1]/(e.count()-1),r=0,s=Math.round(e.count()/b[0]);e.each([g],function(a,b){if(s>0&&b%s){r+=q;return}var c=null==a||isNaN(a)||""===a,d=c?0:er(a,k,m,!0);c&&!j&&b?(o.push([o[o.length-1][0],0]),p.push([p[p.length-1][0],0])):!c&&j&&(o.push([r,0]),p.push([r,0])),o.push([r,d]),p.push([r,d]),r+=q,j=c}),h=this._shadowPolygonPts=o,i=this._shadowPolylinePts=p}this._shadowData=e,this._shadowDim=g,this._shadowSize=[b[0],b[1]];for(var t=this.dataZoomModel,u=0;u<3;u++){var v=function(a){var b=t.getModel(a?"selectedDataBackground":"dataBackground"),c=new em,d=new lD({shape:{points:h},segmentIgnoreThreshold:1,style:b.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),e=new lF({shape:{points:i},segmentIgnoreThreshold:1,style:b.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return c.add(d),c.add(e),c}(1===u);this._displayables.sliderGroup.add(v),this._displayables.dataShadowSegs.push(v)}}}},b.prototype._prepareDataShadowInfo=function(){var a,b=this.dataZoomModel,c=b.get("showDataShadow");if(!1!==c){var d=this.ecModel;return b.eachTargetAxis(function(e,f){aH(b.getAxisProxy(e,f).getTargetSeriesModels(),function(b){if(!a&&!(!0!==c&&0>aE(EF,b.get("type")))){var g,h=d.getComponent(B5(e),f).axis,i={x:"y",y:"x",radius:"angle",angle:"radius"}[e],j=b.coordinateSystem;null!=i&&j.getOtherAxis&&(g=j.getOtherAxis(h).inverse),i=b.getData().mapDimension(i),a={thisAxis:h,series:b,thisDim:e,otherDim:i,otherAxisInverse:g}}},this)},this),a}},b.prototype._renderHandle=function(){var a=this.group,b=this._displayables,c=b.handles=[null,null],d=b.handleLabels=[null,null],e=this._displayables.sliderGroup,f=this._size,g=this.dataZoomModel,h=this.api,i=g.get("borderRadius")||0,j=g.get("brushSelect"),k=b.filler=new gy({silent:j,style:{fill:g.get("fillerColor")},textConfig:{position:"inside"}});e.add(k),e.add(new gy({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:i},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),aH([0,1],function(b){var f=g.get("handleIcon");!nj[f]&&0>f.indexOf("path://")&&0>f.indexOf("image://")&&(f="path://"+f);var h=nm(f,-1,0,2,2,null,!0);h.attr({cursor:EI(this._orient),draggable:!0,drift:aM(this._onDragMove,this,b),ondragend:aM(this._onDragEnd,this),onmouseover:aM(this._showDataInfo,this,!0),onmouseout:aM(this._showDataInfo,this,!1),z2:5});var i=h.getBoundingRect(),j=g.get("handleSize");this._handleHeight=es(j,this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,h.setStyle(g.getModel("handleStyle").getItemStyle()),h.style.strokeNoScale=!0,h.rectHover=!0,h.ensureState("emphasis").style=g.getModel(["emphasis","handleStyle"]).getItemStyle(),hl(h);var k=g.get("handleColor");null!=k&&(h.style.fill=k),e.add(c[b]=h);var l=g.getModel("textStyle");a.add(d[b]=new gB({silent:!0,invisible:!0,style:hK(l,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:l.getTextColor(),font:l.getFont()}),z2:10}))},this);var l=k;if(j){var m=es(g.get("moveHandleSize"),f[1]),n=b.moveHandle=new gy({style:g.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:m}}),o=.8*m,p=b.moveHandleIcon=nm(g.get("moveHandleIcon"),-o/2,-o/2,o,o,"#fff",!0);p.silent=!0,p.y=f[1]+m/2-.5,n.ensureState("emphasis").style=g.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var q=Math.min(f[1]/2,Math.max(m,10));(l=b.moveZone=new gy({invisible:!0,shape:{y:f[1]-q,height:m+q}})).on("mouseover",function(){h.enterEmphasis(n)}).on("mouseout",function(){h.leaveEmphasis(n)}),e.add(n),e.add(p),e.add(l)}l.attr({draggable:!0,cursor:EI(this._orient),drift:aM(this._onDragMove,this,"all"),ondragstart:aM(this._showDataInfo,this,!0),ondragend:aM(this._onDragEnd,this),onmouseover:aM(this._showDataInfo,this,!0),onmouseout:aM(this._showDataInfo,this,!1)})},b.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[er(a[0],[0,100],b,!0),er(a[1],[0,100],b,!0)]},b.prototype._updateInterval=function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];w3(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?er(f.minSpan,g,e,!0):null,null!=f.maxSpan?er(f.maxSpan,g,e,!0):null);var h=this._range,i=this._range=eu([er(d[0],e,g,!0),er(d[1],e,g,!0)]);return!h||h[0]!==i[0]||h[1]!==i[1]},b.prototype._updateView=function(a){var b=this._displayables,c=this._handleEnds,d=eu(c.slice()),e=this._size;aH([0,1],function(a){var d=b.handles[a],f=this._handleHeight;d.attr({scaleX:f/2,scaleY:f/2,x:c[a]+(a?-1:1),y:e[1]/2-f/2})},this),b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});var f={x:d[0],width:d[1]-d[0]};b.moveHandle&&(b.moveHandle.setShape(f),b.moveZone.setShape(f),b.moveZone.getBoundingRect(),b.moveHandleIcon&&b.moveHandleIcon.attr("x",f.x+f.width/2));for(var g=b.dataShadowSegs,h=[0,d[0],d[1],e[0]],i=0;i<g.length;i++){var j=g[i],k=j.getClipPath();k||(k=new gy,j.setClipPath(k)),k.setShape({x:h[i],y:0,width:h[i+1]-h[i],height:e[1]})}this._updateDataInfo(a)},b.prototype._updateDataInfo=function(a){var b=this.dataZoomModel,c=this._displayables,d=c.handleLabels,e=this._orient,f=["",""];if(b.get("showDetail")){var g=b.findRepresentativeAxisProxy();if(g){var h=g.getAxisModel().axis,i=this._range,j=a?g.calculateDataWindow({start:i[0],end:i[1]}).valueWindow:g.getDataValueWindow();f=[this._formatLabel(j[0],h),this._formatLabel(j[1],h)]}}var k=eu(this._handleEnds.slice());function l(a){var b=me(c.handles[a].parent,this.group),g=mg(0===a?"right":"left",b),h=this._handleWidth/2+5,i=mf([k[a]+(0===a?-h:h),this._size[1]/2],b);d[a].setStyle({x:i[0],y:i[1],verticalAlign:e===ED?"middle":g,align:e===ED?g:"center",text:f[a]})}l.call(this,0),l.call(this,1)},b.prototype._formatLabel=function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),e=c.get("labelPrecision");(null==e||"auto"===e)&&(e=b.getPixelPrecision());var f=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(e,20));return aP(d)?d(a,f):aQ(d)?d.replace("{value}",f):f},b.prototype._showDataInfo=function(a){a=this._dragging||a;var b=this._displayables,c=b.handleLabels;c[0].attr("invisible",!a),c[1].attr("invisible",!a),b.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](b.moveHandle,1)},b.prototype._onDragMove=function(a,b,c,d){this._dragging=!0,bQ(d.event);var e=mf([b,c],this._displayables.sliderGroup.getLocalTransform(),!0),f=this._updateInterval(a,e[0]),g=this.dataZoomModel.get("realtime");this._updateView(!g),f&&g&&this._dispatchZoomAction(!0)},b.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},b.prototype._onClickPanel=function(a){var b=this._size,c=this._displayables.sliderGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(c[0]<0)&&!(c[0]>b[0])&&!(c[1]<0)&&!(c[1]>b[1])){var d=this._handleEnds,e=(d[0]+d[1])/2,f=this._updateInterval("all",c[0]-e);this._updateView(),f&&this._dispatchZoomAction(!1)}},b.prototype._onBrushStart=function(a){var b=a.offsetX,c=a.offsetY;this._brushStart=new b1(b,c),this._brushing=!0,this._brushStartTime=+new Date},b.prototype._onBrushEnd=function(a){if(this._brushing){var b=this._displayables.brushRect;if(this._brushing=!1,b){b.attr("ignore",!0);var c=b.shape;if(!(new Date-this._brushStartTime<200&&5>Math.abs(c.width))){var d=this._getViewExtent(),e=[0,100];this._range=eu([er(c.x,d,e,!0),er(c.x+c.width,d,e,!0)]),this._handleEnds=[c.x,c.x+c.width],this._updateView(),this._dispatchZoomAction(!1)}}}},b.prototype._onBrush=function(a){this._brushing&&(bQ(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},b.prototype._updateBrushRect=function(a,b){var c=this._displayables,d=this.dataZoomModel,e=c.brushRect;e||(e=c.brushRect=new gy({silent:!0,style:d.getModel("brushStyle").getItemStyle()}),c.sliderGroup.add(e)),e.attr("ignore",!1);var f=this._brushStart,g=this._displayables.sliderGroup,h=g.transformCoordToLocal(a,b),i=g.transformCoordToLocal(f.x,f.y),j=this._size;h[0]=Math.max(Math.min(j[0],h[0]),0),e.setShape({x:i[0],y:0,width:h[0]-i[0],height:j[1]})},b.prototype._dispatchZoomAction=function(a){var b=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:a?EG:null,start:b[0],end:b[1]})},b.prototype._findCoordRect=function(){var a,b=B6(this.dataZoomModel).infoList;if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}if(!a){var d=this.api.getWidth(),e=this.api.getHeight();a={x:.2*d,y:.2*e,width:.6*d,height:.6*e}}return a},b.type="dataZoom.slider",b}(Cb);function EI(a){return"vertical"===a?"ns-resize":"ew-resize"}function EJ(a){a.registerComponentModel(EC),a.registerComponentView(EH),Cg(a)}var EK={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};let EL=function(a,b,c){var d=az((EK[a]||{})[b]);return c&&aO(d)?d[d.length-1]:d};var EM=vp.mapVisual,EN=vp.eachVisual,EO=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.stateList=["inRange","outOfRange"],c.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],c.layoutMode={type:"box",ignoreSize:!0},c.dataBound=[-1/0,1/0],c.targetVisuals={},c.controllerVisuals={},c}return af(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c)},b.prototype.optionUpdated=function(a,b){var c=this.option;b||Db(c,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},b.prototype.resetVisual=function(a){var b=this.stateList;a=aM(a,this),this.controllerVisuals=Da(this.option.controller,b,a),this.targetVisuals=Da(this.option.target,b,a)},b.prototype.getItemSymbol=function(){return null},b.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(a,c){b.push(c)}):b=eP(a),b},b.prototype.eachTargetSeries=function(a,b){aH(this.getTargetSeriesIndices(),function(c){var d=this.ecModel.getSeriesByIndex(c);d&&a.call(b,d)},this)},b.prototype.isTargetSeries=function(a){var b=!1;return this.eachTargetSeries(function(c){c===a&&(b=!0)}),b},b.prototype.formatValueText=function(a,b,c){var d,e=this.option,f=e.precision,g=this.dataBound,h=e.formatter;c=c||["<",">"],aO(a)&&(a=a.slice(),d=!0);var i=b?a:d?[j(a[0]),j(a[1])]:j(a);if(aQ(h))return h.replace("{value}",d?i[0]:i).replace("{value2}",d?i[1]:i);if(aP(h))return d?h(a[0],a[1]):h(a);if(!d)return i;if(a[0]===g[0])return c[0]+" "+i[1];if(a[1]===g[1])return c[1]+" "+i[0];return i[0]+" - "+i[1];function j(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(f,20))}},b.prototype.resetExtent=function(){var a=this.option,b=eu([a.min,a.max]);this._dataExtent=b},b.prototype.getDataDimensionIndex=function(a){var b=this.option.dimension;if(null!=b)return a.getDimensionIndex(b);for(var c=a.dimensions,d=c.length-1;d>=0;d--){var e=c[d],f=a.getDimensionInfo(e);if(!f.isCalculationCoord)return f.storeDimIndex}},b.prototype.getExtent=function(){return this._dataExtent.slice()},b.prototype.completeVisualOption=function(){var a=this.ecModel,b=this.option,c={inRange:b.inRange,outOfRange:b.outOfRange},d=b.target||(b.target={}),e=b.controller||(b.controller={});aA(d,c),aA(e,c);var f=this.isCategory();function g(c){aO(b.color)&&!c.inRange&&(c.inRange={color:b.color.slice().reverse()}),c.inRange=c.inRange||{color:a.get("gradientColor")}}g.call(this,d),g.call(this,e),(function(a,b,c){var d=a[b],e=a[c];d&&!e&&(e=a[c]={},aH(d,function(a,b){if(vp.isValidType(b)){var c=EL(b,"inactive",f);null!=c&&(e[b]=c,"color"!==b||e.hasOwnProperty("opacity")||e.hasOwnProperty("colorAlpha")||(e.opacity=[0,0]))}}))}).call(this,d,"inRange","outOfRange"),(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,d=this.get("inactiveColor"),e=this.getItemSymbol()||"roundRect";aH(this.stateList,function(g){var h=this.itemSize,i=a[g];i||(i=a[g]={color:f?d:[d]}),null==i.symbol&&(i.symbol=b&&az(b)||(f?e:[e])),null==i.symbolSize&&(i.symbolSize=c&&az(c)||(f?h[0]:[h[0],h[0]])),i.symbol=EM(i.symbol,function(a){return"none"===a?e:a});var j=i.symbolSize;if(null!=j){var k=-1/0;EN(j,function(a){a>k&&(k=a)}),i.symbolSize=EM(j,function(a){return er(a,[0,k],[0,h[0]],!0)})}},this)}).call(this,e)},b.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},b.prototype.isCategory=function(){return!!this.option.categories},b.prototype.setSelected=function(a){},b.prototype.getSelected=function(){return null},b.prototype.getValueState=function(a){return null},b.prototype.getVisualMeta=function(a){return null},b.type="visualMap",b.dependencies=["series"],b.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},b}(iU),EP=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.optionUpdated=function(b,c){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},b.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var b=this.itemSize;(null==b[0]||isNaN(b[0]))&&(b[0]=20),(null==b[1]||isNaN(b[1]))&&(b[1]=140)},b.prototype._resetRange=function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):aO(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},b.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),aH(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=b[1]/3)},this)},b.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},b.prototype.getSelected=function(){var a=this.getExtent(),b=eu((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},b.prototype.getValueState=function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},b.prototype.findTargetDataIndices=function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimensionIndex(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},this),b.push({seriesId:c.id,dataIndex:d})},this),b},b.prototype.getVisualMeta=function(a){var b=EQ(this,"outOfRange",this.getExtent()),c=EQ(this,"inRange",this.option.range.slice()),d=[];function e(b,c){d.push({value:b,color:a(b,c)})}for(var f=0,g=0,h=c.length,i=b.length;g<i&&(!c.length||b[g]<=c[0]);g++)b[g]<c[f]&&e(b[g],"outOfRange");for(var j=1;f<h;f++,j=0)j&&d.length&&e(c[f],"outOfRange"),e(c[f],"inRange");for(var j=1;g<i;g++)(!c.length||c[c.length-1]<b[g])&&(j&&(d.length&&e(d[d.length-1].value,"outOfRange"),j=0),e(b[g],"outOfRange"));var k=d.length;return{stops:d,outerColors:[k?d[0].color:"transparent",k?d[k-1].color:"transparent"]}},b.type="visualMap.continuous",b.defaultOption=h5(EO.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),b}(EO);function EQ(a,b,c){if(c[0]===c[1])return c.slice();for(var d=(c[1]-c[0])/200,e=c[0],f=[],g=0;g<=200&&e<c[1];g++)f.push(e),e+=d;return f.push(c[1]),f}var ER=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.autoPositionValues={left:1,right:1,top:1,bottom:1},c}return af(b,a),b.prototype.init=function(a,b){this.ecModel=a,this.api=b},b.prototype.render=function(a,b,c,d){(this.visualMapModel=a,!1===a.get("show"))?this.group.removeAll():this.doRender(a,b,c,d)},b.prototype.renderBackground=function(a){var b=this.visualMapModel,c=a0(b.get("padding")||0),d=a.getBoundingRect();a.add(new gy({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},b.prototype.getControllerVisual=function(a,b,c){var d=(c=c||{}).forceState,e=this.visualMapModel,f={};function g(a){return f[a]}function h(a,b){f[a]=b}"color"===b&&(f.color=e.get("contentColor"));var i=e.controllerVisuals[d||e.getValueState(a)];return aH(vp.prepareVisualTypes(i),function(d){var e=i[d];c.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",e=i.__alphaForOpacity),vp.dependsOn(d,b)&&e&&e.applyVisual(a,g,h)}),f[b]},b.prototype.positionGroup=function(a){var b=this.visualMapModel,c=this.api;iO(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},b.prototype.doRender=function(a,b,c,d){},b.type="visualMap",b}(kZ),ES=[["left","right","width"],["top","bottom","height"]];function ET(a,b,c){var d=a.option,e=d.align;if(null!=e&&"auto"!==e)return e;for(var f={width:b.getWidth(),height:b.getHeight()},g=+("horizontal"===d.orient),h=ES[g],i=[0,null,10],j={},k=0;k<3;k++)j[ES[1-g][k]]=i[k],j[h[k]]=2===k?c[0]:d[h[k]];var l=[["x","width",3],["y","height",0]][g],m=iN(j,f,d.padding);return h[(m.margin[l[2]]||0)+m[l[0]]+.5*m[l[1]]<.5*f[l[1]]?0:1]}function EU(a,b){return aH(a||[],function(a){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(b?b.componentIndex:"")}),a}var EV=Math.min,EW=Math.max,EX=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._shapes={},c._dataInterval=[],c._handleEnds=[],c._hoverLinkDataIndices=[],c}return af(b,a),b.prototype.init=function(b,c){a.prototype.init.call(this,b,c),this._hoverLinkFromSeriesMouseOver=aM(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=aM(this._hideIndicator,this)},b.prototype.doRender=function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},b.prototype._buildView=function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b);var c=a.get("text");this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},b.prototype._renderEndsText=function(a,b,c){if(b){var d=b[1-c];d=null!=d?d+"":"";var e=this.visualMapModel,f=e.get("textGap"),g=e.itemSize,h=this._shapes.mainGroup,i=this._applyTransform([g[0]/2,0===c?-f:g[1]+f],h),j=this._applyTransform(0===c?"bottom":"top",h),k=this._orient,l=this.visualMapModel.textStyleModel;this.group.add(new gB({style:hK(l,{x:i[0],y:i[1],verticalAlign:"horizontal"===k?"middle":j,align:"horizontal"===k?j:"center",text:d})}))}},b.prototype._renderBar=function(a){var b=this.visualMapModel,c=this._shapes,d=b.itemSize,e=this._orient,f=this._useHandle,g=ET(b,this.api,d),h=c.mainGroup=this._createBarGroup(g),i=new em;h.add(i),i.add(c.outOfRange=EY()),i.add(c.inRange=EY(null,f?E$(this._orient):null,aM(this._dragHandle,this,"all",!1),aM(this._dragHandle,this,"all",!0))),i.setClipPath(new gy({shape:{x:0,y:0,width:d[0],height:d[1],r:3}}));var j=b.textStyleModel.getTextRect(""),k=EW(j.width,j.height);f&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(b,h,0,d,k,e),this._createHandle(b,h,1,d,k,e)),this._createIndicator(b,h,d,k,e),a.add(h)},b.prototype._createHandle=function(a,b,c,d,e,f){var g=aM(this._dragHandle,this,c,!1),h=aM(this._dragHandle,this,c,!0),i=ec(a.get("handleSize"),d[0]),j=nm(a.get("handleIcon"),-i/2,-i/2,i,i,null,!0),k=E$(this._orient);j.attr({cursor:k,draggable:!0,drift:g,ondragend:h,onmousemove:function(a){bQ(a.event)}}),j.x=d[0]/2,j.useStyle(a.getModel("handleStyle").getItemStyle()),j.setStyle({strokeNoScale:!0,strokeFirst:!0}),j.style.lineWidth*=2,j.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),hr(j,!0),b.add(j);var l=new gB({cursor:k,draggable:!0,drift:g,onmousemove:function(a){bQ(a.event)},ondragend:h,style:hK(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});l.ensureState("blur").style={opacity:.1},l.stateTransition={duration:200},this.group.add(l);var m=[i,0],n=this._shapes;n.handleThumbs[c]=j,n.handleLabelPoints[c]=m,n.handleLabels[c]=l},b.prototype._createIndicator=function(a,b,c,d,e){var f=ec(a.get("indicatorSize"),c[0]),g=nm(a.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);g.attr({cursor:"move",invisible:!0,silent:!0,x:c[0]/2});var h=a.getModel("indicatorStyle").getItemStyle();if(g instanceof gr){var i=g.style;g.useStyle(aC({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},h))}else g.useStyle(h);b.add(g);var j=new gB({silent:!0,invisible:!0,style:hK(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(j);var k=[("horizontal"===e?d/2:6)+c[0]/2,0],l=this._shapes;l.indicator=g,l.indicatorLabel=j,l.indicatorLabelPoint=k,this._firstShowIndicator=!0},b.prototype._dragHandle=function(a,b,c,d){if(this._useHandle){if(this._dragging=!b,!b){var e=this._applyTransform([c,d],this._shapes.mainGroup,!0);this._updateInterval(a,e[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===b&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?this._hovering||this._clearHoverLinkToSeries():EZ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},b.prototype._resetInterval=function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[er(b[0],c,d,!0),er(b[1],c,d,!0)]},b.prototype._updateInterval=function(a,b){b=b||0;var c=this.visualMapModel,d=this._handleEnds,e=[0,c.itemSize[1]];w3(b,d,e,a,0);var f=c.getExtent();this._dataInterval=[er(d[0],e,f,!0),er(d[1],e,f,!0)]},b.prototype._updateView=function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,e=[0,b.itemSize[1]],f=a?e:this._handleEnds,g=this._createBarVisual(this._dataInterval,c,f,"inRange"),h=this._createBarVisual(c,c,e,"outOfRange");d.inRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),d.outOfRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),this._updateHandle(f,g)},b.prototype._createBarVisual=function(a,b,c,d){var e={forceState:d,convertOpacityToAlpha:!0},f=this._makeColorGradient(a,e),g=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)],h=this._createBarPoints(c,g);return{barColor:new lR(0,0,0,1,f),barPoints:h,handlesColor:[f[0].color,f[f.length-1].color]}},b.prototype._makeColorGradient=function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;e<100;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}return c.push({color:this.getControllerVisual(a[1],"color",b),offset:1}),c},b.prototype._createBarPoints=function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},b.prototype._createBarGroup=function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new em("horizontal"===b&&!c?{scaleX:"bottom"===a?1:-1,rotation:Math.PI/2}:"horizontal"===b&&c?{scaleX:"bottom"===a?-1:1,rotation:-Math.PI/2}:"vertical"===b&&!c?{scaleX:"left"===a?1:-1,scaleY:-1}:{scaleX:"left"===a?1:-1})},b.prototype._updateHandle=function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels,g=d.itemSize,h=d.getExtent();aH([0,1],function(i){var j=e[i];j.setStyle("fill",b.handlesColor[i]),j.y=a[i];var k=er(a[i],[0,g[1]],h,!0),l=this.getControllerVisual(k,"symbolSize");j.scaleX=j.scaleY=l/g[0],j.x=g[0]-l/2;var m=mf(c.handleLabelPoints[i],me(j,this.group));f[i].setStyle({x:m[0],y:m[1],text:d.formatValueText(this._dataInterval[i]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",c.mainGroup):"center"})},this)}},b.prototype._showIndicator=function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,h=[0,g[1]],i=this._shapes,j=i.indicator;if(j){j.attr("invisible",!1);var k=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),l=this.getControllerVisual(a,"symbolSize"),m=er(a,f,h,!0),n=g[0]-l/2,o={x:j.x,y:j.y};j.y=m,j.x=n;var p=mf(i.indicatorLabelPoint,me(j,this.group)),q=i.indicatorLabel;q.attr("invisible",!1);var r=this._applyTransform("left",i.mainGroup),s="horizontal"===this._orient;q.setStyle({text:(c||"")+e.formatValueText(b),verticalAlign:s?r:"middle",align:s?"center":r});var t={x:n,y:m,style:{fill:k}},u={style:{x:p[0],y:p[1]}};if(e.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var v={duration:100,easing:"cubicInOut",additive:!0};j.x=o.x,j.y=o.y,j.animateTo(t,v),q.animateTo(u,v)}else j.attr(t),q.attr(u);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var x=0;x<w.length;x++)this.api.enterBlur(w[x])}},b.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(b){if(a._hovering=!0,!a._dragging){var c=a.visualMapModel.itemSize,d=a._applyTransform([b.offsetX,b.offsetY],a._shapes.mainGroup,!0,!0);d[1]=EV(EW(0,d[1]),c[1]),a._doHoverLinkToSeries(d[1],0<=d[0]&&d[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1,a._dragging||a._clearHoverLinkToSeries()})},b.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},b.prototype._doHoverLinkToSeries=function(a,b){var c=this.visualMapModel,d=c.itemSize;if(c.option.hoverLink){var e,f,g,h,i,j=[0,d[1]],k=c.getExtent();a=EV(EW(j[0],a),j[1]);var l=(e=c,f=k,g=j,h=6,(i=e.get("hoverLinkDataSize"))&&(h=er(i,f,g,!0)/2),h),m=[a-l,a+l],n=er(a,j,k,!0),o=[er(m[0],j,k,!0),er(m[1],j,k,!0)];m[0]<j[0]&&(o[0]=-1/0),m[1]>j[1]&&(o[1]=1/0),b&&(o[0]===-1/0?this._showIndicator(n,o[1],"< ",l):o[1]===1/0?this._showIndicator(n,o[0],"> ",l):this._showIndicator(n,n," ",l));var p=this._hoverLinkDataIndices,q=[];(b||EZ(c))&&(q=this._hoverLinkDataIndices=c.findTargetDataIndices(o));var r=function(a,b){var c={},d={};return e(a||[],c),e(b||[],d,c),[f(c),f(d)];function e(a,b,c){for(var d=0,e=a.length;d<e;d++){var f=eW(a[d].seriesId,null);if(null==f)return;for(var g=eP(a[d].dataIndex),h=c&&c[f],i=0,j=g.length;i<j;i++){var k=g[i];h&&h[k]?h[k]=null:(b[f]||(b[f]={}))[k]=1}}}function f(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)&&null!=a[d])if(b)c.push(+d);else{var e=f(a[d],!0);e.length&&c.push({seriesId:d,dataIndex:e})}return c}}(p,q);this._dispatchHighDown("downplay",EU(r[0],c)),this._dispatchHighDown("highlight",EU(r[1],c))}},b.prototype._hoverLinkFromSeriesMouseOver=function(a){if(na(a.target,function(a){var c=gO(a);if(null!=c.dataIndex)return b=c,!0},!0),b){var b,c=this.ecModel.getSeriesByIndex(b.seriesIndex),d=this.visualMapModel;if(d.isTargetSeries(c)){var e=c.getData(b.dataType),f=e.getStore().get(d.getDataDimensionIndex(e),b.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},b.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var b=this._shapes.handleLabels;if(b)for(var c=0;c<b.length;c++)this.api.leaveBlur(b[c])},b.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",EU(a,this.visualMapModel)),a.length=0},b.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},b.prototype._applyTransform=function(a,b,c,d){var e=me(b,d?null:this.group);return aO(a)?mf(a,e,c):mg(a,e,c)},b.prototype._dispatchHighDown=function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},b.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},b.type="visualMap.continuous",b}(ER);function EY(a,b,c,d){return new lD({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(a){bQ(a.event)},ondragend:d})}function EZ(a){var b=a.get("hoverLinkOnHandle");return!!(null==b?a.get("realtime"):b)}function E$(a){return"vertical"===a?"ns-resize":"ew-resize"}var E_={type:"selectDataRange",event:"dataRangeSelected",update:"update"},E0=function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})},E1=[{createOnAllSeries:!0,reset:function(a,b){var c=[];return b.eachComponent("visualMap",function(b){var d,e,f,g,h,i=a.pipelineContext;!b.isTargetSeries(a)||i&&i.large||c.push((d=b.stateList,e=b.targetVisuals,f=aM(b.getValueState,b),g=b.getDataDimensionIndex(a.getData()),h={},aH(d,function(a){var b=vp.prepareVisualTypes(e[a]);h[a]=b}),{progress:function(a,b){function c(a){return m5(b,j,a)}function d(a,c){m7(b,j,a,c)}null!=g&&(i=b.getDimensionIndex(g));for(var i,j,k=b.getStore();null!=(j=a.next());){var l=b.getRawDataItem(j);if(!l||!1!==l.visualMap)for(var m=null!=g?k.get(i,j):j,n=f(m),o=e[n],p=h[n],q=0,r=p.length;q<r;q++){var s=p[q];o[s]&&o[s].applyVisual(m,c,d)}}}}))}),c}},{createOnAllSeries:!0,reset:function(a,b){var c=a.getData(),d=[];b.eachComponent("visualMap",function(b){if(b.isTargetSeries(a)){var e=b.getVisualMeta(aM(E2,null,a,b))||{stops:[],outerColors:[]},f=b.getDataDimensionIndex(c);f>=0&&(e.dimension=f,d.push(e))}}),a.getData().setVisual("visualMeta",d)}}];function E2(a,b,c,d){for(var e=b.targetVisuals[d],f=vp.prepareVisualTypes(e),g={color:m6(a.getData(),"color")},h=0,i=f.length;h<i;h++){var j=f[h],k=e["opacity"===j?"__alphaForOpacity":j];k&&k.applyVisual(c,l,m)}return g.color;function l(a){return g[a]}function m(a,b){g[a]=b}}function E3(a){var b=a&&a.visualMap;aO(b)||(b=b?[b]:[]),aH(b,function(a){if(a){E4(a,"splitList")&&!E4(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var b=a.pieces;b&&aO(b)&&aH(b,function(a){aT(a)&&(E4(a,"start")&&!E4(a,"min")&&(a.min=a.start),E4(a,"end")&&!E4(a,"max")&&(a.max=a.end))})}})}function E4(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}var E5=!1;function E6(a){E5||(E5=!0,a.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"}),a.registerAction(E_,E0),aH(E1,function(b){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,b)}),a.registerPreprocessor(E3))}function E7(a){a.registerComponentModel(EP),a.registerComponentView(EX),E6(a)}var E8=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._pieceList=[],c}return af(b,a),b.prototype.optionUpdated=function(b,c){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var d=this._mode=this._determineMode();this._pieceList=[],E9[this._mode].call(this,this._pieceList),this._resetSelected(b,c);var e=this.option.categories;this.resetVisual(function(a,b){"categories"===d?(a.mappingMethod="category",a.categories=az(e)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=aI(this._pieceList,function(a){return a=az(a),"inRange"!==b&&(a.visual=null),a}))})},b.prototype.completeVisualOption=function(){var b=this.option,c={},d=vp.listVisualTypes(),e=this.isCategory();function f(a,b,c){return a&&a[b]&&a[b].hasOwnProperty(c)}aH(b.pieces,function(a){aH(d,function(b){a.hasOwnProperty(b)&&(c[b]=1)})}),aH(c,function(a,c){var d=!1;aH(this.stateList,function(a){d=d||f(b,a,c)||f(b.target,a,c)},this),d||aH(this.stateList,function(a){(b[a]||(b[a]={}))[c]=EL(c,"inRange"===a?"active":"inactive",e)})},this),a.prototype.completeVisualOption.apply(this,arguments)},b.prototype._resetSelected=function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};if(c.selected=e,aH(d,function(a,b){var c=this.getSelectedMapKey(a);e.hasOwnProperty(c)||(e[c]=!0)},this),"single"===c.selectedMode){var f=!1;aH(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(f?e[c]=!1:f=!0)},this)}},b.prototype.getItemSymbol=function(){return this.get("itemSymbol")},b.prototype.getSelectedMapKey=function(a){return"categories"===this._mode?a.value+"":a.index+""},b.prototype.getPieceList=function(){return this._pieceList},b.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},b.prototype.setSelected=function(a){this.option.selected=az(a)},b.prototype.getValueState=function(a){var b=vp.findPieceIndex(a,this._pieceList);return null!=b&&this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange"},b.prototype.findTargetDataIndices=function(a){var b=[],c=this._pieceList;return this.eachTargetSeries(function(d){var e=[],f=d.getData();f.each(this.getDataDimensionIndex(f),function(b,d){vp.findPieceIndex(b,c)===a&&e.push(d)},this),b.push({seriesId:d.id,dataIndex:e})},this),b},b.prototype.getRepresentValue=function(a){var b;if(this.isCategory())b=a.value;else if(null!=a.value)b=a.value;else{var c=a.interval||[];b=c[0]===-1/0&&c[1]===1/0?0:(c[0]+c[1])/2}return b},b.prototype.getVisualMeta=function(a){if(!this.isCategory()){var b=[],c=["",""],d=this,e=this._pieceList.slice();if(e.length){var f=e[0].interval[0];f!==-1/0&&e.unshift({interval:[-1/0,f]}),(f=e[e.length-1].interval[1])!==1/0&&e.push({interval:[f,1/0]})}else e.push({interval:[-1/0,1/0]});var g=-1/0;return aH(e,function(a){var b=a.interval;b&&(b[0]>g&&h([g,b[0]],"outOfRange"),h(b.slice()),g=b[1])},this),{stops:b,outerColors:c}}function h(e,f){var g=d.getRepresentValue({interval:e});f||(f=d.getValueState(g));var h=a(g,f);e[0]===-1/0?c[0]=h:e[1]===1/0?c[1]=h:b.push({value:e[0],color:h},{value:e[1],color:h})}},b.type="visualMap.piecewise",b.defaultOption=h5(EO.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),b}(EO),E9={splitNumber:function(a){var b=this.option,c=Math.min(b.precision,20),d=this.getExtent(),e=b.splitNumber;b.splitNumber=e=Math.max(parseInt(e,10),1);for(var f=(d[1]-d[0])/e;+f.toFixed(c)!==f&&c<5;)c++;b.precision=c,f=+f.toFixed(c),b.minOpen&&a.push({interval:[-1/0,d[0]],close:[0,0]});for(var g=0,h=d[0];g<e;h+=f,g++){var i=g===e-1?d[1]:h+f;a.push({interval:[h,i],close:[1,1]})}b.maxOpen&&a.push({interval:[d[1],1/0],close:[0,0]}),eI(a),aH(a,function(a,b){a.index=b,a.text=this.formatValueText(a.interval)},this)},categories:function(a){var b=this.option;aH(b.categories,function(b){a.push({text:this.formatValueText(b,!0),value:b})},this),Fa(b,a)},pieces:function(a){var b=this.option;aH(b.pieces,function(b,c){aT(b)||(b={value:b});var d={text:"",index:c};if(null!=b.label&&(d.text=b.label),b.hasOwnProperty("value")){var e=d.value=b.value;d.interval=[e,e],d.close=[1,1]}else{for(var f=d.interval=[],g=d.close=[0,0],h=[1,0,1],i=[-1/0,1/0],j=[],k=0;k<2;k++){for(var l=[["gte","gt","min"],["lte","lt","max"]][k],m=0;m<3&&null==f[k];m++)f[k]=b[l[m]],g[k]=h[m],j[k]=2===m;null==f[k]&&(f[k]=i[k])}j[0]&&f[1]===1/0&&(g[0]=0),j[1]&&f[0]===-1/0&&(g[1]=0),f[0]===f[1]&&g[0]&&g[1]&&(d.value=f[0])}d.visual=vp.retrieveVisuals(b),a.push(d)},this),Fa(b,a),eI(a),aH(a,function(a){var b=a.close,c=[["<",""][b[1]],[">",""][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}};function Fa(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}var Fb=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return af(b,a),b.prototype.doRender=function(){var a=this.group;a.removeAll();var b=this.visualMapModel,c=b.get("textGap"),d=b.textStyleModel,e=d.getFont(),f=d.getTextColor(),g=this._getItemAlign(),h=b.itemSize,i=this._getViewData(),j=i.endsText,k=aY(b.get("showLabel",!0),!j);j&&this._renderEndsText(a,j[0],h,k,g),aH(i.viewPieceList,function(d){var i=d.piece,j=new em;j.onclick=aM(this._onItemClick,this,i),this._enableHoverLink(j,d.indexInModelPieceList);var l=b.getRepresentValue(i);if(this._createItemSymbol(j,l,[0,0,h[0],h[1]]),k){var m=this.visualMapModel.getValueState(l);j.add(new gB({style:{x:"right"===g?-c:h[0]+c,y:h[1]/2,text:i.text,verticalAlign:"middle",align:g,font:e,fill:f,opacity:"outOfRange"===m?.5:1}}))}a.add(j)},this),j&&this._renderEndsText(a,j[1],h,k,g),iM(b.get("orient"),a,b.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},b.prototype._enableHoverLink=function(a,b){var c=this;a.on("mouseover",function(){return d("highlight")}).on("mouseout",function(){return d("downplay")});var d=function(a){var d=c.visualMapModel;d.option.hoverLink&&c.api.dispatchAction({type:a,batch:EU(d.findTargetDataIndices(b),d)})}},b.prototype._getItemAlign=function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient)return ET(a,this.api,a.itemSize);var c=b.align;return c&&"auto"!==c||(c="left"),c},b.prototype._renderEndsText=function(a,b,c,d,e){if(b){var f=new em,g=this.visualMapModel.textStyleModel;f.add(new gB({style:hK(g,{x:d?"right"===e?c[0]:0:c[0]/2,y:c[1]/2,verticalAlign:"middle",align:d?e:"center",text:b})})),a.add(f)}},b.prototype._getViewData=function(){var a=this.visualMapModel,b=aI(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),c=a.get("text"),d=a.get("orient"),e=a.get("inverse");return("horizontal"===d?e:!e)?b.reverse():c&&(c=c.slice().reverse()),{viewPieceList:b,endsText:c}},b.prototype._createItemSymbol=function(a,b,c){a.add(nm(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},b.prototype._onItemClick=function(a){var b=this.visualMapModel,c=b.option,d=c.selectedMode;if(d){var e=az(c.selected),f=b.getSelectedMapKey(a);"single"===d||!0===d?(e[f]=!0,aH(e,function(a,b){e[b]=b===f})):e[f]=!e[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:e})}},b.type="visualMap.piecewise",b}(ER);function Fc(a){a.registerComponentModel(E8),a.registerComponentView(Fb),E6(a)}var Fd={label:{enabled:!0},decal:{show:!1}},Fe=e$(),Ff={};function Fg(a,b){var c=a.getModel("aria");if(c.get("enabled")){var d=az(Fd);aA(d.label,a.getLocaleModel().get("aria"),!1),aA(c.option,d,!1),function(){if(c.getModel("decal").get("show")){var b=a7();a.eachSeries(function(a){if(!a.isColorBySeries()){var c=b.get(a.type);c||(c={},b.set(a.type,c)),Fe(a).scope=c}}),a.eachRawSeries(function(b){if(!a.isSeriesFiltered(b)){if(aP(b.enableAriaDecal))return void b.enableAriaDecal();var c=b.getData();if(b.isColorBySeries()){var d=jg(b.ecModel,b.name,Ff,a.getSeriesCount()),e=c.getVisual("decal");c.setVisual("decal",j(e,d))}else{var f=b.getRawData(),g={},h=Fe(b).scope;c.each(function(a){g[c.getRawIndex(a)]=a});var i=f.count();f.each(function(a){var d=g[a],e=f.getName(a)||a+"",k=jg(b.ecModel,e,h,i),l=c.getItemVisual(d,"decal");c.setItemVisual(d,"decal",j(l,k))})}}function j(a,b){var c=a?aC(aC({},b),a):b;return c.dirty=!0,c}})}}(),function(){var d,f=a.getLocaleModel().get("aria"),g=c.getModel("label");if(g.option=aD(g.option,f),g.get("enabled")){var h,i=b.getZr().dom;if(g.get("description"))return i.setAttribute("aria-label",g.get("description"));var j=a.getSeriesCount(),k=g.get(["data","maxCount"])||10,l=Math.min(j,g.get(["series","maxCount"])||10);if(j<1)return;var m=((h=a.get("title"))&&h.length&&(h=h[0]),h&&h.text);d=m?e(g.get(["general","withTitle"]),{title:m}):g.get(["general","withoutTitle"]);var n=[];d+=e(j>1?g.get(["series","multiple","prefix"]):g.get(["series","single","prefix"]),{seriesCount:j}),a.eachSeries(function(b,c){if(c<l){var d,f,h=void 0,i=b.get("name")?"withName":"withoutName";h=e(h=j>1?g.get(["series","multiple",i]):g.get(["series","single",i]),{seriesId:b.seriesIndex,seriesName:b.get("name"),seriesType:(d=b.subType,(f=a.getLocaleModel().get(["series","typeNames"]))[d]||f.chart)});var m=b.getData();m.count()>k?h+=e(g.get(["data","partialData"]),{displayCnt:k}):h+=g.get(["data","allData"]);for(var o=g.get(["data","separator","middle"]),p=g.get(["data","separator","end"]),q=[],r=0;r<m.count();r++)if(r<k){var s=m.getName(r),t=m.getValues(r),u=g.get(["data",s?"withName":"withoutName"]);q.push(e(u,{name:s,value:t.join(o)}))}h+=q.join(o)+p,n.push(h)}});var o=g.getModel(["series","multiple","separator"]),p=o.get("middle"),q=o.get("end");d+=n.join(p)+q,i.setAttribute("aria-label",d)}}()}function e(a,b){if(!aQ(a))return a;var c=a;return aH(b,function(a,b){c=c.replace(RegExp("\\{\\s*"+b+"\\s*\\}","g"),a)}),c}}function Fh(a){if(a&&a.aria){var b=a.aria;null!=b.show&&(b.enabled=b.show),b.label=b.label||{},aH(["description","general","series","data"],function(a){null!=b[a]&&(b.label[a]=b[a])})}}var Fi=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="dataset",b}return af(b,a),b.prototype.init=function(b,c,d){a.prototype.init.call(this,b,c,d),this._sourceManager=new kv(this),kw(this)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.call(this,b,c),kw(this)},b.prototype.optionUpdated=function(){this._sourceManager.dirty()},b.prototype.getSourceManager=function(){return this._sourceManager},b.type="dataset",b.defaultOption={seriesLayoutBy:i5},b}(iU),Fj=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="dataset",b}return af(b,a),b.type="dataset",b}(kZ),Fk={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Fl=function(){function a(a){null==(this._condVal=aQ(a)?new RegExp(a):"[object RegExp]"===ao.call(a)?a:null)&&jj("")}return a.prototype.evaluate=function(a){var b=typeof a;return aQ(b)?this._condVal.test(a):!!aS(b)&&this._condVal.test(a+"")},a}(),Fm=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),Fn=function(){function a(){}return a.prototype.evaluate=function(){for(var a=this.children,b=0;b<a.length;b++)if(!a[b].evaluate())return!1;return!0},a}(),Fo=function(){function a(){}return a.prototype.evaluate=function(){for(var a=this.children,b=0;b<a.length;b++)if(a[b].evaluate())return!0;return!1},a}(),Fp=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),Fq=function(){function a(){}return a.prototype.evaluate=function(){for(var a=!!this.valueParser,b=(0,this.getValue)(this.valueGetterParam),c=a?this.valueParser(b):null,d=0;d<this.subCondList.length;d++)if(!this.subCondList[d].evaluate(a?c:b))return!1;return!0},a}();function Fr(a,b){if(!0===a||!1===a){var c,d,e,f,g,h=new Fm;return h.value=a,h}if(aT(c=a)&&!aG(c)||jj(""),a.and)return Fs("and",a,b);if(a.or)return Fs("or",a,b);if(a.not){return d=a,e=b,function(a){return aT(a)&&!aG(a)}(f=d.not)||jj(""),(g=new Fp).child=Fr(f,e),g.child||jj(""),g}return function(a,b){for(var c=b.prepareGetValue(a),d=[],e=aL(a),f=a.parser,g=f?j9.get(f):null,h=0;h<e.length;h++){var i=e[h];if(!("parser"===i||b.valueGetterAttrMap.get(i))){var j=bb(Fk,i)?Fk[i]:i,k=a[i],l=g?g(k):k,m=("eq"===j||"ne"===j?new kd("eq"===j,l):bb(ka,j)?new kb(j,l):null)||"reg"===j&&new Fl(l);m||jj(""),d.push(m)}}d.length||jj("");var n=new Fq;return n.valueGetterParam=c,n.valueParser=g,n.getValue=b.getValue,n.subCondList=d,n}(a,b)}function Fs(a,b,c){var d=b[a];aO(d)||jj(""),d.length||jj("");var e="and"===a?new Fn:new Fo;return e.children=aI(d,function(a){return Fr(a,c)}),e.children.length||jj(""),e}var Ft=function(){function a(a,b){this._cond=Fr(a,b)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}(),Fu={type:"echarts:filter",transform:function(a){for(var b,c=a.upstream,d=new Ft(a.config,{valueGetterAttrMap:a7({dimension:!0}),prepareGetValue:function(a){var b=a.dimension;bb(a,"dimension")||jj("");var d=c.getDimensionInfo(b);return d||jj(""),{dimIdx:d.index}},getValue:function(a){return c.retrieveValueFromItem(b,a.dimIdx)}}),e=[],f=0,g=c.count();f<g;f++)b=c.getRawDataItem(f),d.evaluate()&&e.push(b);return{data:e}}},Fv={type:"echarts:sort",transform:function(a){var b=a.upstream,c=eP(a.config);c.length||jj("");var d=[];aH(c,function(a){var c=a.dimension,e=a.order,f=a.parser,g=a.incomparable;null==c&&jj(""),"asc"!==e&&"desc"!==e&&jj(""),g&&"min"!==g&&"max"!==g&&jj(""),"asc"!==e&&"desc"!==e&&jj("");var h=b.getDimensionInfo(c);h||jj("");var i=f?j9.get(f):null;f&&!i&&jj(""),d.push({dimIdx:h.index,parser:i,comparator:new kc(e,g)})});var e=b.sourceFormat;e!==i0&&e!==i1&&jj("");for(var f=[],g=0,h=b.count();g<h;g++)f.push(b.getRawDataItem(g));return f.sort(function(a,c){for(var e=0;e<d.length;e++){var f=d[e],g=b.retrieveValueFromItem(a,f.dimIdx),h=b.retrieveValueFromItem(c,f.dimIdx);f.parser&&(g=f.parser(g),h=f.parser(h));var i=f.comparator.evaluate(g,h);if(0!==i)return i}return 0}),{data:f}}},Fw=f7.CMD;function Fx(a,b){return 1e-5>Math.abs(a-b)}function Fy(a){var b,c,d,e,f,g=a.data,h=a.len(),i=[],j=0,k=0,l=0,m=0;function n(a,c){b&&b.length>2&&i.push(b),b=[a,c]}function o(a,c,d,e){Fx(a,d)&&Fx(c,e)||b.push(a,c,d,e,d,e)}for(var p=0;p<h;){var q=g[p++],r=1===p;switch(r&&(j=g[p],k=g[p+1],l=j,m=k,(q===Fw.L||q===Fw.C||q===Fw.Q)&&(b=[l,m])),q){case Fw.M:j=l=g[p++],k=m=g[p++],n(l,m);break;case Fw.L:o(j,k,c=g[p++],d=g[p++]),j=c,k=d;break;case Fw.C:b.push(g[p++],g[p++],g[p++],g[p++],j=g[p++],k=g[p++]);break;case Fw.Q:c=g[p++],d=g[p++],e=g[p++],f=g[p++],b.push(j+2/3*(c-j),k+2/3*(d-k),e+2/3*(c-e),f+2/3*(d-f),e,f),j=e,k=f;break;case Fw.A:var s=g[p++],t=g[p++],u=g[p++],v=g[p++],w=g[p++],x=g[p++]+w;p+=1;var y=!g[p++];c=Math.cos(w)*u+s,d=Math.sin(w)*v+t,r?n(l=c,m=d):o(j,k,c,d),j=Math.cos(x)*u+s,k=Math.sin(x)*v+t;for(var z=(y?-1:1)*Math.PI/2,A=w;y?A>x:A<x;A+=z){var B=y?Math.max(A+z,x):Math.min(A+z,x);!function(a,c,d,e,f,g){var h=4*Math.tan(Math.abs(c-a)/4)/3,i=c<a?-1:1,j=Math.cos(a),k=Math.sin(a),l=Math.cos(c),m=Math.sin(c),n=l*f+d,o=m*g+e,p=f*h*i,q=g*h*i;b.push(j*f+d-p*k,k*g+e+q*j,n+p*m,o-q*l,n,o)}(A,B,s,t,u,v)}break;case Fw.R:l=j=g[p++],m=k=g[p++],c=l+g[p++],d=m+g[p++],n(c,m),o(c,m,c,d),o(c,d,l,d),o(l,d,l,m),o(l,m,c,m);break;case Fw.Z:b&&o(j,k,l,m),j=l,k=m}}return b&&b.length>2&&i.push(b),i}function Fz(a,b,c){var d=Math.ceil(Math.sqrt(Math.abs(a[b]/a[1-b])*c)),e=Math.floor(c/d);0===e&&(e=1,d=c);for(var f=[],g=0;g<d;g++)f.push(e);var h=c-d*e;if(h>0)for(var g=0;g<h;g++)f[g%d]+=1;return f}function FA(a,b,c){for(var d=a.r0,e=a.r,f=a.startAngle,g=Math.abs(a.endAngle-f),h=g*e,i=e-d,j=h>Math.abs(i),k=Fz([h,i],+!j,b),l=(j?g:i)/k.length,m=0;m<k.length;m++)for(var n=(j?i:g)/k[m],o=0;o<k[m];o++){var p={};j?(p.startAngle=f+l*m,p.endAngle=f+l*(m+1),p.r0=d+n*o,p.r=d+n*(o+1)):(p.startAngle=f+n*o,p.endAngle=f+n*(o+1),p.r0=d+l*m,p.r=d+l*(m+1)),p.clockwise=a.clockwise,p.cx=a.cx,p.cy=a.cy,c.push(p)}}function FB(a,b){var c=a[a.length-1];c&&c[0]===b[0]&&c[1]===b[1]||a.push(b)}function FC(a){var b=a.points,c=[],d=[];fN(b,c,d);var e=new ca(c[0],c[1],d[0]-c[0],d[1]-c[1]),f=e.width,g=e.height,h=e.x,i=e.y,j=new b1,k=new b1;return f>g?(j.x=k.x=h+f/2,j.y=i,k.y=i+g):(j.y=k.y=i+g/2,j.x=h,k.x=h+f),function(a,b,c){for(var d=a.length,e=[],f=0;f<d;f++){var g=a[f],h=a[(f+1)%d],i=function(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=k*j-i*l;if(1e-6>Math.abs(m))return null;var n=((a-e)*l-k*(b-f))/m;return n<0||n>1?null:new b1(n*i+a,n*j+b)}(g[0],g[1],h[0],h[1],b.x,b.y,c.x,c.y);i&&e.push({projPt:function(a,b,c){var d=new b1;b1.sub(d,c,b),d.normalize();var e=new b1;return b1.sub(e,a,b),e.dot(d)}(i,b,c),pt:i,idx:f})}if(e.length<2)return[{points:a},{points:a}];e.sort(function(a,b){return a.projPt-b.projPt});var j=e[0],k=e[e.length-1];if(k.idx<j.idx){var l=j;j=k,k=l}for(var m=[j.pt.x,j.pt.y],n=[k.pt.x,k.pt.y],o=[m],p=[n],f=j.idx+1;f<=k.idx;f++)FB(o,a[f].slice());FB(o,n),FB(o,m);for(var f=k.idx+1;f<=j.idx+d;f++)FB(p,a[f%d].slice());return FB(p,m),FB(p,n),[{points:o},{points:p}]}(b,j,k)}function FD(a,b,c,d){if(1===c)d.push(b);else{var e=Math.floor(c/2),f=a(b);FD(a,f[0],e,d),FD(a,f[1],c-e,d)}return d}function FE(a,b){for(var c=a.length,d=a[c-2],e=a[c-1],f=[],g=0;g<b.length;)f[g++]=d,f[g++]=e;return f}function FF(a){for(var b=0,c=0,d=0,e=a.length,f=0,g=e-2;f<e;g=f,f+=2){var h=a[g],i=a[g+1],j=a[f],k=a[f+1],l=h*k-j*i;b+=l,c+=(h+j)*l,d+=(i+k)*l}return 0===b?[a[0]||0,a[1]||0]:[c/b/3,d/b/3,b]}function FG(a){return a.__isCombineMorphing}var FH="__mOriginal_";function FI(a,b,c){var d=FH+b,e=a[d]||a[b];a[d]||(a[d]=a[b]);var f=c.replace,g=c.after,h=c.before;a[b]=function(){var a,b=arguments;return h&&h.apply(this,b),a=f?f.apply(this,b):e.apply(this,b),g&&g.apply(this,b),a}}function FJ(a,b){var c=FH+b;a[c]&&(a[b]=a[c],a[c]=null)}function FK(a,b){for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.length;){var f=d[e],g=d[e+1];d[e++]=b[0]*f+b[2]*g+b[4],d[e++]=b[1]*f+b[3]*g+b[5]}}function FL(a,b){var c=a.getUpdatedPathProxy(),d=b.getUpdatedPathProxy(),e=function(a,b){for(var c,d,e,f=[],g=[],h=0;h<Math.max(a.length,b.length);h++){var i=a[h],j=b[h],k=void 0,l=void 0;i?j?(k=(c=function(a,b){var c=a.length,d=b.length;if(c===d)return[a,b];for(var e=[],f=[],g=c<d?a:b,h=Math.min(c,d),i=Math.abs(d-c)/6,j=Math.ceil(i/((h-2)/6))+1,k=[g[0],g[1]],l=i,m=2;m<h;){var n=g[m-2],o=g[m-1],p=g[m++],q=g[m++],r=g[m++],s=g[m++],t=g[m++],u=g[m++];if(l<=0){k.push(p,q,r,s,t,u);continue}for(var v=Math.min(l,j-1)+1,w=1;w<=v;w++){var x=w/v;cH(n,p,r,t,x,e),cH(o,q,s,u,x,f),n=e[3],o=f[3],k.push(e[1],f[1],e[2],f[2],n,o),p=e[5],q=f[5],r=e[6],s=f[6]}l-=v-1}return g===a?[k,b]:[a,k]}(i,j))[0],l=c[1],d=k,e=l):(l=FE(e||i,i),k=i):(k=FE(d||j,j),l=j),f.push(k),g.push(l)}return[f,g]}(Fy(c),Fy(d)),f=e[0],g=e[1],h=a.getComputedTransform(),i=b.getComputedTransform();h&&FK(f,h),i&&FK(g,i),FI(b,"updateTransform",{replace:function(){this.transform=null}}),b.transform=null;var j=function(a,b,c,d){for(var e,f=[],g=0;g<a.length;g++){var h=a[g],i=b[g],j=FF(h),k=FF(i);null==e&&(e=j[2]<0!=k[2]<0);var l=[],m=[],n=0,o=1/0,p=[],q=h.length;e&&(h=function(a){for(var b=[],c=a.length,d=0;d<c;d+=2)b[d]=a[c-d-2],b[d+1]=a[c-d-1];return b}(h));for(var r=6*function(a,b,c,d){for(var e=(a.length-2)/6,f=1/0,g=0,h=a.length,i=h-2,j=0;j<e;j++){for(var k=6*j,l=0,m=0;m<h;m+=2){var n=0===m?k:(k+m-2)%i+2,o=a[n]-c[0],p=a[n+1]-c[1],q=b[m]-d[0],r=b[m+1]-d[1],s=q-o,t=r-p;l+=s*s+t*t}l<f&&(f=l,g=j)}return g}(h,i,j,k),s=q-2,t=0;t<s;t+=2){var u=(r+t)%s+2;l[t+2]=h[u]-j[0],l[t+3]=h[u+1]-j[1]}l[0]=h[r]-j[0],l[1]=h[r+1]-j[1];for(var v=d/10,w=-d/2;w<=d/2;w+=v){for(var x=Math.sin(w),y=Math.cos(w),z=0,t=0;t<h.length;t+=2){var A=l[t],B=l[t+1],C=i[t]-k[0],D=i[t+1]-k[1],E=C*y-D*x,F=C*x+D*y;p[t]=E,p[t+1]=F;var G=E-A,H=F-B;z+=G*G+H*H}if(z<o){o=z,n=w;for(var I=0;I<p.length;I++)m[I]=p[I]}}f.push({from:l,to:m,fromCp:j,toCp:k,rotation:-n})}return f}(f,g,0,Math.PI),k=[];FI(b,"buildPath",{replace:function(a){for(var c=b.__morphT,d=1-c,e=[],f=0;f<j.length;f++){var g=j[f],h=g.from,i=g.to,l=g.rotation*c,m=g.fromCp,n=g.toCp,o=Math.sin(l),p=Math.cos(l);br(e,m,n,c);for(var q=0;q<h.length;q+=2){var r=h[q],s=h[q+1],t=i[q],u=i[q+1],v=r*d+t*c,w=s*d+u*c;k[q]=v*p-w*o+e[0],k[q+1]=v*o+w*p+e[1]}var x=k[0],y=k[1];a.moveTo(x,y);for(var q=2;q<h.length;){var t=k[q++],u=k[q++],z=k[q++],A=k[q++],B=k[q++],C=k[q++];x===t&&y===u&&z===B&&A===C?a.lineTo(B,C):a.bezierCurveTo(t,u,z,A,B,C),x=B,y=C}}}})}function FM(a,b,c){if(!a||!b)return b;var d=c.done,e=c.during;return FL(a,b),b.__morphT=0,b.animateTo({__morphT:1},aD({during:function(a){b.dirtyShape(),e&&e(a)},done:function(){FJ(b,"buildPath"),FJ(b,"updateTransform"),b.__morphT=-1,b.createPathProxy(),b.dirtyShape(),d&&d()}},c)),b}function FN(a){var b=1/0,c=1/0,d=-1/0,e=-1/0,f=aI(a,function(a){var f=a.getBoundingRect(),g=a.getComputedTransform(),h=f.x+f.width/2+(g?g[4]:0),i=f.y+f.height/2+(g?g[5]:0);return b=Math.min(h,b),c=Math.min(i,c),d=Math.max(h,d),e=Math.max(i,e),[h,i]});return aI(f,function(f,g){return{cp:f,z:function(a,b,c,d,e,f){a=e===c?0:Math.round(32767*(a-c)/(e-c)),b=f===d?0:Math.round(32767*(b-d)/(f-d));for(var g,h=0,i=32768;i>0;i/=2){var j=0,k=0;(a&i)>0&&(j=1),(b&i)>0&&(k=1),h+=i*i*(3*j^k),0===k&&(1===j&&(a=i-1-a,b=i-1-b),g=a,a=b,b=g)}return h}(f[0],f[1],b,c,d,e),path:a[g]}}).sort(function(a,b){return a.z-b.z}).map(function(a){return a.path})}function FO(a){return function(a,b){var c,d=[],e=a.shape;switch(a.type){case"rect":!function(a,b,c){for(var d=a.width,e=a.height,f=d>e,g=Fz([d,e],+!f,b),h=f?"width":"height",i=f?"height":"width",j=f?"x":"y",k=f?"y":"x",l=a[h]/g.length,m=0;m<g.length;m++)for(var n=a[i]/g[m],o=0;o<g[m];o++){var p={};p[j]=m*l,p[k]=o*n,p[h]=l,p[i]=n,p.x+=a.x,p.y+=a.y,c.push(p)}}(e,b,d),c=gy;break;case"sector":FA(e,b,d),c=ly;break;case"circle":FA({r0:0,r:e.r,startAngle:0,endAngle:2*Math.PI,cx:e.cx,cy:e.cy},b,d),c=ly;break;default:var f=a.getComputedTransform(),g=f?Math.sqrt(Math.max(f[0]*f[0]+f[1]*f[1],f[2]*f[2]+f[3]*f[3])):1,h=aI(function(a,b){var c=Fy(a),d=[];b=b||1;for(var e=0;e<c.length;e++){var f=c[e],g=[],h=f[0],i=f[1];g.push(h,i);for(var j=2;j<f.length;){var k=f[j++],l=f[j++],m=f[j++],n=f[j++],o=f[j++],p=f[j++];!function a(b,c,d,e,f,g,h,i,j,k){if(Fx(b,d)&&Fx(c,e)&&Fx(f,h)&&Fx(g,i))return void j.push(h,i);var l=2/k,m=l*l,n=h-b,o=i-c,p=Math.sqrt(n*n+o*o);n/=p,o/=p;var q=d-b,r=e-c,s=f-h,t=g-i,u=q*q+r*r,v=s*s+t*t;if(u<m&&v<m)return void j.push(h,i);var w=n*q+o*r,x=-n*s-o*t;if(u-w*w<m&&w>=0&&v-x*x<m&&x>=0)return void j.push(h,i);var y=[],z=[];cH(b,d,f,h,.5,y),cH(c,e,g,i,.5,z),a(y[0],z[0],y[1],z[1],y[2],z[2],y[3],z[3],j,k),a(y[4],z[4],y[5],z[5],y[6],z[6],y[7],z[7],j,k)}(h,i,k,l,m,n,o,p,g,b),h=o,i=p}d.push(g)}return d}(a.getUpdatedPathProxy(),g),function(a){for(var b=[],c=0;c<a.length;)b.push([a[c++],a[c++]]);return b}),i=h.length;if(0===i)FD(FC,{points:h[0]},b,d);else if(i===b)for(var j=0;j<i;j++)d.push({points:h[j]});else{var k=0,l=aI(h,function(a){var b=[],c=[];fN(a,b,c);var d=(c[1]-b[1])*(c[0]-b[0]);return k+=d,{poly:a,area:d}});l.sort(function(a,b){return b.area-a.area});for(var m=b,j=0;j<i;j++){var n=l[j];if(m<=0)break;var o=j===i-1?m:Math.ceil(n.area/k*b);o<0||(FD(FC,{points:n.poly},o,d),m-=o)}}c=lD}if(!c){for(var p=[],q=0;q<b;q++)p.push(lh(a));return p}for(var r=[],j=0;j<d.length;j++){var s=new c;s.setShape(d[j]),s.setStyle(a.style),s.z=a.z,s.z2=a.z2,s.zlevel=a.zlevel,r.push(s)}return r}(a.path,a.count)}function FP(){return{fromIndividuals:[],toIndividuals:[],count:0}}function FQ(a,b){for(var c=[],d=a.length,e=0;e<d;e++)c.push({one:a[e],many:[]});for(var e=0;e<b.length;e++){var f=b[e].length,g=void 0;for(g=0;g<f;g++)c[g%d].many.push(b[e][g])}for(var h=0,e=d-1;e>=0;e--)if(!c[e].many.length){var i=c[h].many;if(i.length<=1)if(!h)return c;else h=0;var f=i.length,j=Math.ceil(f/2);c[e].many=i.slice(j,f),c[h].many=i.slice(0,j),h++}return c}var FR={clone:function(a){for(var b=[],c=1-Math.pow(1-a.path.style.opacity,1/a.count),d=0;d<a.count;d++){var e=lh(a.path);e.setStyle("opacity",c),b.push(e)}return b},split:null};function FS(a,b,c,d,e,f){if(a.length&&b.length){var g,h,i=hw("update",d,e);if(i&&i.duration>0){var j=d.getModel("universalTransition").get("delay"),k=Object.assign({setToFinal:!0},i);aO(a[0])&&(g=a,h=b),aO(b[0])&&(g=b,h=a);for(var l=g?g===a:a.length>b.length,m=g?FQ(h,g):FQ(l?b:a,[l?a:b]),n=0,o=0;o<m.length;o++)n+=m[o].many.length;for(var p=0,o=0;o<m.length;o++)(function a(b,d,e,g,h){var i=b.many,l=b.one;if(1!==i.length||h)for(var m=aD({dividePath:FR[c],individualDelay:j&&function(a,b,c,d){return j(a+e,g)}},k),n=d?function(a,b,c){var d=[];!function a(b){for(var c=0;c<b.length;c++){var e=b[c];FG(e)?a(e.childrenRef()):e instanceof gm&&d.push(e)}}(a);var e=d.length;if(!e)return FP();var f=(c.dividePath||FO)({path:b,count:e});if(f.length!==e)return console.error("Invalid morphing: unmatched splitted path"),FP();d=FN(d),f=FN(f);for(var g=c.done,h=c.during,i=c.individualDelay,j=new d2,k=0;k<e;k++){var l=d[k],m=f[k];m.parent=b,m.copyTransform(j),i||FL(l,m)}function n(a){for(var b=0;b<f.length;b++)f[b].addSelfToZr(a)}function o(){b.__isCombineMorphing=!1,b.__morphT=-1,b.childrenRef=null,FJ(b,"addSelfToZr"),FJ(b,"removeSelfFromZr")}b.__isCombineMorphing=!0,b.childrenRef=function(){return f},FI(b,"addSelfToZr",{after:function(a){n(a)}}),FI(b,"removeSelfFromZr",{after:function(a){for(var b=0;b<f.length;b++)f[b].removeSelfFromZr(a)}});var p=f.length;if(i)for(var q=p,r=function(){0==--q&&(o(),g&&g())},k=0;k<p;k++){var s=i?aD({delay:(c.delay||0)+i(k,p,d[k],f[k]),done:r},c):c;FM(d[k],f[k],s)}else b.__morphT=0,b.animateTo({__morphT:1},aD({during:function(a){for(var c=0;c<p;c++){var d=f[c];d.__morphT=b.__morphT,d.dirtyShape()}h&&h(a)},done:function(){o();for(var b=0;b<a.length;b++)FJ(a[b],"updateTransform");g&&g()}},c));return b.__zr&&n(b.__zr),{fromIndividuals:d,toIndividuals:f,count:p}}(i,l,m):function(a,b,c){var d=b.length,e=[],f=c.dividePath||FO;if(FG(a)){!function a(b){for(var c=0;c<b.length;c++){var d=b[c];FG(d)?a(d.childrenRef()):d instanceof gm&&e.push(d)}}(a.childrenRef());var g=e.length;if(g<d)for(var h=0,i=g;i<d;i++)e.push(lh(e[h++%g]));e.length=d}else{e=f({path:a,count:d});for(var j=a.getComputedTransform(),i=0;i<e.length;i++)e[i].setLocalTransform(j);if(e.length!==d)return console.error("Invalid morphing: unmatched splitted path"),FP()}e=FN(e),b=FN(b);for(var k=c.individualDelay,i=0;i<d;i++){var l=k?aD({delay:(c.delay||0)+k(i,d,e[i],b[i])},c):c;FM(e[i],b[i],l)}return{fromIndividuals:e,toIndividuals:b,count:b.length}}(l,i,m),o=n.fromIndividuals,p=n.toIndividuals,q=o.length,r=0;r<q;r++){var s=j?aD({delay:j(r,q)},k):k;f(o[r],p[r],d?i[r]:b.one,d?b.one:i[r],s)}else{var t=d?i[0]:l,u=d?l:i[0];if(FG(t))a({many:[t],one:u},!0,e,g,!0);else{var s=j?aD({delay:j(e,g)},k):k;FM(t,u,s),f(t,u,t,u,s)}}})(m[o],l,p,n),p+=m[o].many.length}}}function FT(a){if(!a)return[];if(aO(a)){for(var b=[],c=0;c<a.length;c++)b.push(FT(a[c]));return b}var d=[];return a.traverse(function(a){a instanceof gm&&!a.disableMorphing&&!a.invisible&&!a.ignore&&d.push(a)}),d}var FU=e$();function FV(a,b,c,d){var e=function(a,b){for(var c=a.dimensions,d=0;d<c.length;d++){var e=a.getDimensionInfo(c[d]);if(e&&0===e.otherDims[b])return c[d]}}(a,d?"itemChildGroupId":"itemGroupId");if(e){var f=a,g=b,h=e,i=f.getDimensionInfo(h),j=i&&i.ordinalMeta;if(i){var k=f.get(i.name,g);return j&&j.categories[k]||k+""}return}var l=a.getRawDataItem(b),m=d?"childGroupId":"groupId";return l&&l[m]?l[m]+"":d?void 0:c||a.getId(b)}function FW(a){var b=[];return aH(a,function(a){var c=a.data,d=a.dataGroupId;if(!(c.count()>1e4))for(var e=c.getIndices(),f=0;f<e.length;f++)b.push({data:c,groupId:FV(c,f,d,!1),childGroupId:FV(c,f,d,!0),divide:a.divide,dataIndex:f})}),b}function FX(a,b,c){a.traverse(function(a){a instanceof gm&&hz(a,{style:{opacity:0}},b,{dataIndex:c,isFrom:!0})})}function FY(a){if(a.parent){var b=a.getComputedTransform();a.setLocalTransform(b),a.parent.remove(a)}}function FZ(a){a.stopAnimation(),a.isGroup&&a.traverse(function(a){a.stopAnimation()})}function F$(a,b,c){var d=FW(a),e=FW(b);function f(a,b,c,d,e){(c||a)&&b.animateFrom({style:c&&c!==a?aC(aC({},c.style),a.style):a.style},e)}var g=!1,h=0,i=a7(),j=a7();d.forEach(function(a){a.groupId&&i.set(a.groupId,!0),a.childGroupId&&j.set(a.childGroupId,!0)});for(var k=0;k<e.length;k++){var l=e[k].groupId;if(j.get(l)){h=1;break}var m=e[k].childGroupId;if(m&&i.get(m)){h=2;break}}function n(a,b){return function(c){var d=c.data,e=c.dataIndex;return b?d.getId(e):a?1===h?c.childGroupId:c.groupId:2===h?c.childGroupId:c.groupId}}var o=function(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++){var e=a[d],f=b[d];if(e.data.getId(e.dataIndex)!==f.data.getId(f.dataIndex))return!1}return!0}(d,e),p={};if(!o)for(var k=0;k<e.length;k++){var q=e[k],r=q.data.getItemGraphicEl(q.dataIndex);r&&(p[r.id]=!0)}function s(a,b){var c,h=d[b],i=e[a],j=i.data.hostModel,k=h.data.getItemGraphicEl(h.dataIndex),l=i.data.getItemGraphicEl(i.dataIndex);if(k===l){l&&(c=hw("update",j,i.dataIndex))&&l.traverse(function(a){if(a instanceof fC){var b=hv(a).oldStyle;b&&a.animateFrom({style:b},c)}});return}k&&p[k.id]||l&&(FZ(l),k?(FZ(k),FY(k),g=!0,FS(FT(k),FT(l),i.divide,j,a,f)):FX(l,j,a))}new pj(d,e,n(!0,o),n(!1,o),null,"multiple").update(s).updateManyToOne(function(a,b){var c=e[a],h=c.data,i=h.hostModel,j=h.getItemGraphicEl(c.dataIndex),k=aK(aI(b,function(a){return d[a].data.getItemGraphicEl(d[a].dataIndex)}),function(a){return a&&a!==j&&!p[a.id]});j&&(FZ(j),k.length?(aH(k,function(a){FZ(a),FY(a)}),g=!0,FS(FT(k),FT(j),c.divide,i,a,f)):FX(j,i,c.dataIndex))}).updateOneToMany(function(a,b){var c=d[b],h=c.data.getItemGraphicEl(c.dataIndex);if(!h||!p[h.id]){var i=aK(aI(a,function(a){return e[a].data.getItemGraphicEl(e[a].dataIndex)}),function(a){return a&&a!==h}),j=e[a[0]].data.hostModel;i.length&&(aH(i,function(a){return FZ(a)}),h?(FZ(h),FY(h),g=!0,FS(FT(h),FT(i),c.divide,j,a[0],f)):aH(i,function(b){return FX(b,j,a[0])}))}}).updateManyToMany(function(a,b){new pj(b,a,function(a){return d[a].data.getId(d[a].dataIndex)},function(a){return e[a].data.getId(e[a].dataIndex)}).update(function(c,d){s(a[c],b[d])}).execute()}).execute(),g&&aH(b,function(a){var b=a.data.hostModel,d=b&&c.getViewOfSeriesModel(b),e=hw("update",b,0);d&&b.isAnimationEnabled()&&e&&e.duration>0&&d.group.traverse(function(a){a instanceof gm&&!a.animators.length&&a.animateFrom({style:{opacity:0}},e)})})}function F_(a){var b=a.getModel("universalTransition").get("seriesKey");return b||a.id}function F0(a){return aO(a)?a.sort().join(","):a}function F1(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function F2(a,b){for(var c=0;c<a.length;c++)if(null!=b.seriesIndex&&b.seriesIndex===a[c].seriesIndex||null!=b.seriesId&&b.seriesId===a[c].id)return c}var F3=["align","verticalAlign","width","height","fontSize"],F4=new d2,F5=e$(),F6=e$();function F7(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];null!=b[e]&&(a[e]=b[e])}}var F8=["x","y","rotation"],F9=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(a,b,c,d,e){var f,g=d.style,h=d.__hostTarget.textConfig||{},i=d.getComputedTransform(),j=d.getBoundingRect().plain();ca.applyTransform(j,j,i),i?F4.setLocalTransform(i):(F4.x=F4.y=F4.rotation=F4.originX=F4.originY=0,F4.scaleX=F4.scaleY=1),F4.rotation=gb(F4.rotation);var k=d.__hostTarget;if(k){f=k.getBoundingRect().plain();var l=k.getComputedTransform();ca.applyTransform(f,f,l)}var m=f&&k.getTextGuideLine();this._labelList.push({label:d,labelLine:m,seriesModel:c,dataIndex:a,dataType:b,layoutOption:e,computedLayoutOption:null,rect:j,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:d.ignore,labelGuideIgnore:m&&m.ignore,x:F4.x,y:F4.y,scaleX:F4.scaleX,scaleY:F4.scaleY,rotation:F4.rotation,style:{x:g.x,y:g.y,align:g.align,verticalAlign:g.verticalAlign,width:g.width,height:g.height,fontSize:g.fontSize},cursor:d.cursor,attachedPos:h.position,attachedRot:h.rotation}})},a.prototype.addLabelsOfSeries=function(a){var b=this;this._chartViewList.push(a);var c=a.__model,d=c.get("labelLayout");(aP(d)||aL(d).length)&&a.group.traverse(function(a){if(a.ignore)return!0;var e=a.getTextContent(),f=gO(a);e&&!e.disableLabelLayout&&b._addLabel(f.dataIndex,f.dataType,c,e,d)})},a.prototype.updateLayoutConfig=function(a){for(var b=a.getWidth(),c=a.getHeight(),d=0;d<this._labelList.length;d++){var e=this._labelList[d],f=e.label,g=f.__hostTarget,h=e.defaultAttr,i=void 0;i=(i=aP(e.layoutOption)?e.layoutOption(function(a,b){var c=a.label,d=b&&b.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:c.style.align,verticalAlign:c.style.verticalAlign,labelLinePoints:function(a){if(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].slice());return b}}(d&&d.shape.points)}}(e,g)):e.layoutOption)||{},e.computedLayoutOption=i;var j=Math.PI/180;g&&g.setTextConfig({local:!1,position:null!=i.x||null!=i.y?null:h.attachedPos,rotation:null!=i.rotate?i.rotate*j:h.attachedRot,offset:[i.dx||0,i.dy||0]});var k=!1;if(null!=i.x?(f.x=es(i.x,b),f.setStyle("x",0),k=!0):(f.x=h.x,f.setStyle("x",h.style.x)),null!=i.y?(f.y=es(i.y,c),f.setStyle("y",0),k=!0):(f.y=h.y,f.setStyle("y",h.style.y)),i.labelLinePoints){var l=g.getTextGuideLine();l&&(l.setShape({points:i.labelLinePoints}),k=!1)}F5(f).needsUpdateLabelLine=k,f.rotation=null!=i.rotate?i.rotate*j:h.rotation,f.scaleX=h.scaleX,f.scaleY=h.scaleY;for(var m=0;m<F3.length;m++){var n=F3[m];f.setStyle(n,null!=i[n]?i[n]:h.style[n])}if(i.draggable){if(f.draggable=!0,f.cursor="move",g){var o=e.seriesModel;null!=e.dataIndex&&(o=e.seriesModel.getData(e.dataType).getItemModel(e.dataIndex)),f.on("drag",function(a,b){return function(){q5(a,b)}}(g,o.getModel("labelLine")))}}else f.off("drag"),f.cursor=h.cursor}},a.prototype.layout=function(a){var b=a.getWidth(),c=a.getHeight(),d=rd(this._labelList),e=aK(d,function(a){return"shiftX"===a.layoutOption.moveOverlap}),f=aK(d,function(a){return"shiftY"===a.layoutOption.moveOverlap});re(e,"x","width",0,b,void 0),rf(f,0,c),rg(aK(d,function(a){return a.layoutOption.hideOverlap}))},a.prototype.processLabelsOverall=function(){var a=this;aH(this._chartViewList,function(b){var c=b.__model,d=b.ignoreLabelLineUpdate,e=c.isAnimationEnabled();b.group.traverse(function(b){if(b.ignore&&!b.forceLabelAnimation)return!0;var f=!d,g=b.getTextContent();!f&&g&&(f=F5(g).needsUpdateLabelLine),f&&a._updateLabelLine(b,c),e&&a._animateLabels(b,c)})})},a.prototype._updateLabelLine=function(a,b){var c=a.getTextContent(),d=gO(a),e=d.dataIndex;if(c&&null!=e){var f=b.getData(d.dataType),g=f.getItemModel(e),h={},i=f.getItemVisual(e,"style");i&&(h.stroke=i[f.getVisual("drawType")]);var j=g.getModel("labelLine");rb(a,rc(g),h),q5(a,j)}},a.prototype._animateLabels=function(a,b){var c=a.getTextContent(),d=a.getTextGuideLine();if(c&&(a.forceLabelAnimation||!c.ignore&&!c.invisible&&!a.disableLabelAnimation&&!hA(a))){var e=F5(c),f=e.oldLayout,g=gO(a),h=g.dataIndex,i={x:c.x,y:c.y,rotation:c.rotation},j=b.getData(g.dataType);if(f){c.attr(f);var k=a.prevStates;k&&(aE(k,"select")>=0&&c.attr(e.oldLayoutSelect),aE(k,"emphasis")>=0&&c.attr(e.oldLayoutEmphasis)),hy(c,i,b,h)}else if(c.attr(i),!hR(c).valueAnimation){var l=aZ(c.style.opacity,1);c.style.opacity=0,hz(c,{style:{opacity:l}},b,h)}if(e.oldLayout=i,c.states.select){var m=e.oldLayoutSelect={};F7(m,i,F8),F7(m,c.states.select,F8)}if(c.states.emphasis){var n=e.oldLayoutEmphasis={};F7(n,i,F8),F7(n,c.states.emphasis,F8)}hT(c,h,j,b,b)}if(d&&!d.ignore&&!d.invisible){var e=F6(d),f=e.oldLayout,o={points:d.shape.points};f?(d.attr({shape:f}),hy(d,{shape:o},b)):(d.setShape(o),d.style.strokePercent=0,hz(d,{style:{strokePercent:1}},b)),e.oldLayout=o}},a}(),Ga=e$();ok([function(a){a.registerPainter("canvas",pg)}]),ok([function(a){a.registerPainter("svg",pc)}]),ok([function(a){a.registerChartView(qc),a.registerSeriesModel(pG),a.registerLayout(qd("line",!0)),a.registerVisual({seriesType:"line",reset:function(a){var b=a.getData(),c=a.getModel("lineStyle").getLineStyle();c&&!c.stroke&&(c.stroke=b.getVisual("style").fill),b.setVisual("legendLineStyle",c)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,qg("line"))},function(a){a.registerChartView(qA),a.registerSeriesModel(qs),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,aN(qn,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,qo("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,qg("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){a.sortInfo&&b.axis.setCategorySortInfo(a.sortInfo)})})},function(a){a.registerChartView(rm),a.registerSeriesModel(rq),m8("pie",a.registerAction),a.registerLayout(aN(qU,"pie")),a.registerProcessor(qV("pie")),a.registerProcessor({seriesType:"pie",reset:function(a,b){var c=a.getData();c.filterSelf(function(a){var b=c.mapDimension("value"),d=c.get(b,a);return!aS(d)||!!isNaN(d)||!(d<0)})}})},function(a){ok(s1),a.registerSeriesModel(rr),a.registerChartView(rv),a.registerLayout(qd("scatter"))},function(a){ok(tf),a.registerChartView(s6),a.registerSeriesModel(s7),a.registerLayout(s2),a.registerProcessor(qV("radar")),a.registerPreprocessor(s4)},function(a){ok(uF),a.registerChartView(uo),a.registerSeriesModel(up),a.registerLayout(ur),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,uq),m8("map",a.registerAction)},function(a){a.registerChartView(uP),a.registerSeriesModel(u9),a.registerLayout(vb),a.registerVisual(vc),a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var c=a.dataIndex,d=b.getData().tree.getNodeByDataIndex(c);d.isExpand=!d.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,b,c){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var d=uC(b.coordinateSystem,a,void 0,c);b.setCenter&&b.setCenter(d.center),b.setZoom&&b.setZoom(d.zoom)})})},function(a){a.registerSeriesModel(vf),a.registerChartView(vn),a.registerVisual(vB),a.registerLayout(vL);for(var b=0;b<vd.length;b++)a.registerAction({type:vd[b],update:"updateView"},bc);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b,c){var d=u5(a,["treemapZoomToNode","treemapRootToNode"],b);if(d){var e=b.getViewRoot();e&&(a.direction=u7(e,d.node)?"rollUp":"drillDown"),b.resetViewRoot(d.node)}})})},function(a){a.registerChartView(ww),a.registerSeriesModel(wE),a.registerProcessor(vO),a.registerVisual(vP),a.registerVisual(vR),a.registerLayout(v_),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,v7),a.registerLayout(v8),a.registerCoordinateSystem("graphView",{dimensions:us.dimensions,create:v9}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},bc),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},bc),a.registerAction(wF,function(a,b,c){b.eachComponent({mainType:"series",query:a},function(b){var d=uC(b.coordinateSystem,a,void 0,c);b.setCenter&&b.setCenter(d.center),b.setZoom&&b.setZoom(d.zoom)})})},function(a){a.registerChartView(wJ),a.registerSeriesModel(wK)},function(a){a.registerChartView(wN),a.registerSeriesModel(wO),a.registerLayout(wP),a.registerProcessor(qV("funnel"))},function(a){ok(x$),a.registerChartView(wQ),a.registerSeriesModel(wV),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,wY)},function(a){a.registerChartView(x1),a.registerSeriesModel(x3),a.registerLayout(x4),a.registerVisual(ye),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(b){b.setNodePosition(a.dataIndex,[a.localX,a.localY])})})},function(a){a.registerSeriesModel(yg),a.registerChartView(yh),a.registerLayout(ym),a.registerTransform(yn)},function(a){a.registerChartView(yp),a.registerSeriesModel(yz),a.registerPreprocessor(yA),a.registerVisual(yG),a.registerLayout(yH)},function(a){a.registerChartView(yL),a.registerSeriesModel(yM),a.registerLayout(qd("effectScatter"))},function(a){a.registerChartView(yU),a.registerSeriesModel(yY),a.registerLayout(yT),a.registerVisual(y$)},function(a){a.registerChartView(y1),a.registerSeriesModel(y2)},function(a){a.registerChartView(y6),a.registerSeriesModel(zo),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,aN(qn,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,qo("pictorialBar"))},function(a){a.registerChartView(zp),a.registerSeriesModel(zq),a.registerLayout(zr),a.registerProcessor(qV("themeRiver"))},function(a){a.registerChartView(zw),a.registerSeriesModel(zx),a.registerLayout(aN(zz,"sunburst")),a.registerProcessor(aN(qV,"sunburst")),a.registerVisual(zA),a.registerAction({type:zu,update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b,c){var d=u5(a,[zu],b);if(d){var e=b.getViewRoot();e&&(a.direction=u7(e,d.node)?"rollUp":"drillDown"),b.resetViewRoot(d.node)}})}),a.registerAction({type:zv,update:"none"},function(a,b,c){a=aC({},a),b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b){var c=u5(a,[zv],b);c&&(a.dataIndex=c.node.dataIndex)}),c.dispatchAction(aC(a,{type:"highlight"}))}),a.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(a,b,c){a=aC({},a),c.dispatchAction(aC(a,{type:"downplay"}))})},function(a){a.registerChartView(Ag),a.registerSeriesModel(zE)}]),ok(function(a){ok(s1),ok(A0)}),ok(function(a){ok(A0),sR.registerAxisPointerClass("PolarAxisPointer",A1),a.registerCoordinateSystem("polar",Bf),a.registerComponentModel(A3),a.registerComponentView(Bv),rJ(a,"angle",A5,Bt),rJ(a,"radius",A6,Bu),a.registerComponentView(Bk),a.registerComponentView(Bo),a.registerLayout(aN(Bs,"bar"))}),ok(uF),ok(function(a){ok(A0),sR.registerAxisPointerClass("SingleAxisPointer",BJ),a.registerComponentView(BN),a.registerComponentView(Bz),a.registerComponentModel(BB),rJ(a,"single",BB,BB.defaultOption),a.registerCoordinateSystem("single",BG)}),ok(x$),ok(function(a){a.registerComponentModel(BO),a.registerComponentView(BQ),a.registerCoordinateSystem("calendar",BR)}),ok(function(a){a.registerComponentModel(BX),a.registerComponentView(B$),a.registerPreprocessor(function(a){var b=a.graphic;aO(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])})}),ok(function(a){a.registerComponentModel(Ck),a.registerComponentView(Cm),Cj.saveAsImage=Cn,Cj.magicType=Cq,Cj.dataView=Cv,Cj.dataZoom=CM,Cj.restore=Cy,ok(Ch)}),ok(function(a){ok(A0),a.registerComponentModel(CP),a.registerComponentView(C3),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},bc),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},bc)}),ok(A0),ok(function(a){a.registerComponentView(Do),a.registerComponentModel(Dp),a.registerPreprocessor(C8),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,Dj),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},bc),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},bc),Cj.brush=Ds}),ok(function(a){a.registerComponentModel(Dt),a.registerComponentView(Du)}),ok(function(a){a.registerComponentModel(Dw),a.registerComponentView(DB),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b,c){var d=b.getComponent("timeline");return d&&null!=a.currentIndex&&(d.setCurrentIndex(a.currentIndex),!d.get("loop",!0)&&d.isIndexMax()&&d.getPlayState()&&(d.setPlayState(!1),c.dispatchAction({type:"timelinePlayChange",playState:!1,from:a.from}))),b.resetOption("timeline",{replaceMerge:d.get("replaceMerge",!0)}),aD({currentIndex:d.option.currentIndex},a)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)}),a.registerPreprocessor(DE)}),ok(function(a){a.registerComponentModel(DL),a.registerComponentView(DX),a.registerPreprocessor(function(a){DH(a.series,"markPoint")&&(a.markPoint=a.markPoint||{})})}),ok(function(a){a.registerComponentModel(DY),a.registerComponentView(D3),a.registerPreprocessor(function(a){DH(a.series,"markLine")&&(a.markLine=a.markLine||{})})}),ok(function(a){a.registerComponentModel(D4),a.registerComponentView(Ec),a.registerPreprocessor(function(a){DH(a.series,"markArea")&&(a.markArea=a.markArea||{})})}),ok(function(a){ok(El),ok(Er)}),ok(function(a){ok(EB),ok(EJ)}),ok(EB),ok(EJ),ok(function(a){ok(E7),ok(Fc)}),ok(E7),ok(Fc),ok(function(a){a.registerPreprocessor(Fh),a.registerVisual(a.PRIORITY.VISUAL.ARIA,Fg)}),ok(function(a){a.registerTransform(Fu),a.registerTransform(Fv)}),ok(function(a){a.registerComponentModel(Fi),a.registerComponentView(Fj)}),ok(function(a){a.registerUpdateLifecycle("series:beforeupdate",function(a,b,c){aH(eP(c.seriesTransition),function(a){aH(eP(a.to),function(a){for(var b=c.updatedSeries,d=0;d<b.length;d++)(null!=a.seriesIndex&&a.seriesIndex===b[d].seriesIndex||null!=a.seriesId&&a.seriesId===b[d].id)&&(b[d][kQ]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(a,b,c){var d=FU(b);if(d.oldSeries&&c.updatedSeries&&c.optionChanged){var e=c.seriesTransition;if(e)aH(eP(e),function(a){var e,f;e=[],f=[],aH(eP(a.from),function(a){var b=F2(d.oldSeries,a);b>=0&&e.push({dataGroupId:d.oldDataGroupIds[b],data:d.oldData[b],divide:F1(d.oldData[b]),groupIdDim:a.dimension})}),aH(eP(a.to),function(a){var b=F2(c.updatedSeries,a);if(b>=0){var e=c.updatedSeries[b].getData();f.push({dataGroupId:d.oldDataGroupIds[b],data:e,divide:F1(e),groupIdDim:a.dimension})}}),e.length>0&&f.length>0&&F$(e,f,b)});else{var f,g,h,i=(f=a7(),g=a7(),h=a7(),aH(d.oldSeries,function(a,b){var c=d.oldDataGroupIds[b],e=d.oldData[b],f=F_(a),i=F0(f);g.set(i,{dataGroupId:c,data:e}),aO(f)&&aH(f,function(a){h.set(a,{key:i,dataGroupId:c,data:e})})}),aH(c.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var b=a.get("dataGroupId"),c=a.getData(),d=F_(a),e=F0(d),i=g.get(e);if(i)f.set(e,{oldSeries:[{dataGroupId:i.dataGroupId,divide:F1(i.data),data:i.data}],newSeries:[{dataGroupId:b,divide:F1(c),data:c}]});else if(aO(d)){var j=[];aH(d,function(a){var b=g.get(a);b.data&&j.push({dataGroupId:b.dataGroupId,divide:F1(b.data),data:b.data})}),j.length&&f.set(e,{oldSeries:j,newSeries:[{dataGroupId:b,data:c,divide:F1(c)}]})}else{var k=h.get(d);if(k){var l=f.get(k.key);l||(l={oldSeries:[{dataGroupId:k.dataGroupId,data:k.data,divide:F1(k.data)}],newSeries:[]},f.set(k.key,l)),l.newSeries.push({dataGroupId:b,data:c,divide:F1(c)})}}}}),f);aH(i.keys(),function(a){var c=i.get(a);F$(c.oldSeries,c.newSeries,b)})}aH(c.updatedSeries,function(a){a[kQ]&&(a[kQ]=!1)})}for(var j=a.getSeries(),k=d.oldSeries=[],l=d.oldDataGroupIds=[],m=d.oldData=[],n=0;n<j.length;n++){var o=j[n].getData();1e4>o.count()&&(k.push(j[n]),l.push(j[n].get("dataGroupId")),m.push(o))}})}),ok(function(a){a.registerUpdateLifecycle("series:beforeupdate",function(a,b,c){var d=Ga(b).labelManager;d||(d=Ga(b).labelManager=new F9),d.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(a,b,c){var d=Ga(b).labelManager;c.updatedSeries.forEach(function(a){d.addLabelsOfSeries(b.getViewOfSeriesModel(a))}),d.updateLayoutConfig(b),d.layout(b),d.processLabelsOverall()})}),a.s([],78936),a.i(78936),a.s(["Arc",0,lO,"BezierCurve",0,lM,"BoundingRect",0,ca,"Circle",0,lj,"CompoundPath",0,lP,"Ellipse",0,ll,"Group",0,em,"Image",0,gr,"IncrementalDisplayable",0,lZ,"Line",0,lI,"LinearGradient",0,lR,"Polygon",0,lD,"Polyline",0,lF,"RadialGradient",0,lS,"Rect",0,gy,"Ring",0,lA,"Sector",0,ly,"Text",0,gB,"clipPointsByRect",()=>mi,"clipRectByRect",()=>mj,"createIcon",()=>mk,"extendPath",()=>l3,"extendShape",()=>l1,"getShapeClass",()=>l5,"getTransform",()=>me,"initProps",()=>hz,"makeImage",()=>l7,"makePath",()=>l6,"mergePath",()=>l9,"registerShape",()=>l4,"resizePath",()=>ma,"updateProps",()=>hy],534619);var Gb=a.i(534619),Gb=Gb;a.s([],419403),a.i(419403),a.s(["MAX_SAFE_INTEGER",()=>0x1fffffffffffff,"asc",()=>eu,"getPercentWithPrecision",()=>ey,"getPixelPrecision",()=>ex,"getPrecision",()=>ev,"getPrecisionSafe",()=>ew,"isNumeric",()=>eK,"isRadianAroundZero",()=>eB,"linearMap",()=>er,"nice",()=>eG,"numericToNumber",()=>eJ,"parseDate",()=>eD,"quantile",()=>eH,"quantity",()=>eE,"quantityExponent",()=>eF,"reformIntervals",()=>eI,"remRadian",()=>eA,"round",()=>et],879931);var Gc=a.i(879931),Gc=Gc;function Gd(a,b,c,d,e,f,g,h){return new gB({style:{text:a,font:b,align:c,verticalAlign:d,padding:e,rich:f,overflow:g?"truncate":null,lineHeight:h}}).getBoundingRect()}a.s([],529053),a.i(529053),a.s(["addCommas",()=>iz,"capitalFirst",()=>iH,"encodeHTML",()=>bH,"formatTime",()=>iG,"formatTpl",()=>iE,"getTextRect",()=>Gd,"getTooltipMarker",()=>iF,"normalizeCssArray",()=>a0,"toCamelCase",()=>iA,"truncateText",()=>fo],368365);var Ge=a.i(368365),Ge=Ge;let Gf=(0,ad.default)(async()=>{},{loadableGenerated:{modules:[782541]},ssr:!1});function Gg(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}},axisLine:{lineStyle:{color:"#8c9097"}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{data:[150,230,224,218,135,147,260],type:"line"}],color:"#845adf"}})}function Gh(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}},axisLine:{lineStyle:{color:"#8c9097"}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0}],color:"#845adf"}})}function Gi(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",areaStyle:{}}],color:"#845adf"}})}function Gj(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},tooltip:{trigger:"axis"},legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"],textStyle:{color:"#777"}},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{name:"Email",type:"line",stack:"Total",data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",data:[220,182,191,234,290,330,310]},{name:"Video Ads",type:"line",stack:"Total",data:[150,232,201,154,190,330,410]},{name:"Direct",type:"line",stack:"Total",data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320]}],color:["#845adf","#23b7e5","#f5b849","#49b6f5","#e6533c"]}})}function Gk(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"],textStyle:{color:"#777"}},toolbox:{feature:{saveAsImage:{}}},grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}}],series:[{name:"Email",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[220,182,191,234,290,330,310]},{name:"Video Ads",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[150,232,201,154,190,330,410]},{name:"Direct",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:[820,932,901,934,1290,1330,1320]}],color:["#845adf","#23b7e5","#f5b849","#49b6f5","#e6533c"]}})}function Gl(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{data:[120,200,150,80,70,110,130],type:"bar"}],color:"#845adf"}})}function Gm(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{data:[120,200,150,80,70,110,130],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}],color:"#845adf"}})}function Gn(){let a={grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{data:[120,{value:200,itemStyle:{color:"#23b7e5"}},150,80,70,110,130],type:"bar"}],color:"#845adf"};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}function Go(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(a){var b=a[1];return b.name+"<br/>"+b.seriesName+" : "+b.value}},grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",splitLine:{show:!1},data:["Total","Rent","Utilities","Transportation","Meals","Other"],axisLine:{lineStyle:{color:"#8c9097"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,1700,1400,1200,300,0]},{name:"Life Cost",type:"bar",stack:"Total",label:{show:!0,position:"inside"},data:[2900,1200,300,200,900,300]}],color:"#845adf"}})}let Gp={position:"right"};function Gq(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"value",position:"top",splitLine:{lineStyle:{type:"dashed",color:"rgba(142, 156, 173,0.1)"}}},yAxis:{type:"category",axisLine:{show:!1,lineStyle:{color:"#8c9097"}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1,lineStyle:{color:"rgba(142, 156, 173,0.1)"}},data:["ten","nine","eight","seven","six","five","four","three","two","one"]},series:[{name:"Cost",type:"bar",stack:"Total",label:{show:!0,formatter:"{b}"},data:[{value:-.07,label:Gp},{value:-.09,label:Gp},.2,.44,{value:-.23,label:Gp},.08,{value:-.17,label:Gp},.47,{value:-.36,label:Gp},.18]}],color:"#845adf"}})}var Gr={};function Gs(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{textStyle:{color:"#777"}},grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{lineStyle:{type:"dashed",color:"rgba(142, 156, 173,0.1)"}}},yAxis:{type:"category",data:["Brazil","Indonesia","USA","India","China","World"],axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{name:"2011",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}],color:["#845adf","#23b7e5"]}})}function Gt(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{textStyle:{color:"#777"}},grid:{left:"0%",right:"0%",bottom:"0%",top:"20%",containLabel:!0},xAxis:{type:"value",splitLine:{lineStyle:{type:"dashed",color:"rgba(142, 156, 173,0.1)"}}},yAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{name:"Direct",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:[320,302,301,334,390,330,320]},{name:"Mail Ad",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]},{name:"Affiliate Ad",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:[220,182,191,234,290,330,310]},{name:"Video Ad",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:[150,212,201,154,190,330,410]},{name:"Search Engine",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:[820,832,901,934,1290,1330,1320]}],color:["#845adf","#23b7e5","#f5b849","#e6533c","#49b6f5"]}})}function Gu(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",textStyle:{color:"#777"}},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],color:["#845adf","#23b7e5","#f5b849","#e6533c","#49b6f5"]}})}function Gv(){let a={tooltip:{trigger:"item"},legend:{top:"0%",left:"center",textStyle:{color:"#777"}},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"17",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}],color:["#845adf","#23b7e5","#f5b849","#e6533c","#49b6f5"]};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}function Gw(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"0%",right:"0%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{splitLine:{lineStyle:{type:"dashed",color:"rgba(142, 156, 173,0.1)"}}},yAxis:{axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{symbolSize:20,data:[[10,8.04],[8.07,6.95],[13,7.58],[9.05,8.81],[11,8.33],[14,7.66],[13.4,6.81],[10,6.33],[14,8.96],[12.5,6.82],[9.15,7.2],[11.5,7.2],[3.03,4.23],[12.2,7.83],[2.02,4.47],[1.05,3.33],[4.05,4.96],[6.03,7.24],[12,6.26],[12,8.84],[7.08,5.82],[5.02,5.68]],type:"scatter"}],color:["#845adf"]}})}Gr.configParameters={rotate:{min:-90,max:90},align:{options:{left:"left",center:"center",right:"right"}},verticalAlign:{options:{top:"top",middle:"middle",bottom:"bottom"}},position:{options:["left","right","top","bottom","inside","insideTop","insideLeft","insideRight","insideBottom","insideTopLeft","insideTopRight","insideBottomLeft","insideBottomRight"].reduce(function({map:a,pos:b}){return a||(a={}),a[b]=b,a},{})},distance:{min:0,max:100}},Gr.config={rotate:90,align:"left",verticalAlign:"middle",position:"insideBottom",distance:15,onChange:function(){Gr.config.rotate,Gr.config.align,Gr.config.verticalAlign,Gr.config.position,Gr.config.distance}},Gr.config.position,Gr.config.distance,Gr.config.align,Gr.config.verticalAlign,Gr.config.rotate;let Gx=[[[28604,77,0x104e0a5,"Australia",1990],[31163,77.4,0x1a61868,"Canada",1990],[1516,68,0x44d1e2cd,"China",1990],[13670,74.7,0xa17842,"Cuba",1990],[28599,75,4986705,"Finland",1990],[29476,77.1,0x364e2c3,"France",1990],[31476,75.4,0x4b4ce9d,"Germany",1990],[28666,78.1,254830,"Iceland",1990],[1777,57.7,0x33e45430,"India",1990],[29550,79.1,0x7496045,"Japan",1990],[2076,67.9,0x1342432,"North Korea",1990],[12087,72,0x28fb45e,"South Korea",1990],[24021,75.4,3397534,"New Zealand",1990],[43296,76.8,4240375,"Norway",1990],[10088,70.8,0x246d03a,"Poland",1990],[19349,69.6,0x8cbb7a8,"Russia",1990],[10670,67.3,0x337e46d,"Turkey",1990],[26424,75.7,0x3676e65,"United Kingdom",1990],[37062,75.4,0xf1226c2,"United States",1990]],[[44056,81.8,0x16dbccd,"Australia",2015],[43294,81.7,0x2246657,"Canada",2015],[13334,76.9,0x5204d72f,"China",2015],[21291,78.5,0xadca7a,"Cuba",2015],[38923,80.8,5503457,"Finland",2015],[37599,81.9,0x3d69851,"France",2015],[44053,81.1,0x4cf35a1,"Germany",2015],[42182,82.8,329425,"Iceland",2015],[5903,66.8,0x4e250b1f,"India",2015],[36162,83.5,0x78b5ba9,"Japan",2015],[1390,71.4,0x17fd6f5,"North Korea",2015],[34644,80.7,0x2ff6abf,"South Korea",2015],[34186,80.6,4528526,"New Zealand",2015],[64304,81.6,5210967,"Norway",2015],[24787,77.3,0x24d2b52,"Poland",2015],[23038,73.13,0x88cfa96,"Russia",2015],[19360,76.5,0x4b05866,"Turkey",2015],[38225,81.4,0x3db7c22,"United Kingdom",2015],[53354,79.1,0x132de03f,"United States",2015]]];function Gy(){let a={backgroundColor:new Gb.RadialGradient(.3,.3,.8,[{offset:0,color:"transparent"},{offset:1,color:"transparent"}]),legend:{right:"10%",top:"3%",data:["1990","2015"],textStyle:{color:"#777"}},grid:{left:"0%",right:"0%",bottom:"0%",top:"10%"},xAxis:{splitLine:{lineStyle:{type:"dashed",color:"rgba(142, 156, 173,0.1)"}}},yAxis:{axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}},scale:!0},series:[{name:"1990",data:Gx[0],type:"scatter",symbolSize:function(a){return Math.sqrt(a[2])/500},emphasis:{focus:"series",label:{show:!0,formatter:function(a){return a.data[3]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(25, 100, 150, 0.5)",shadowOffsetY:5,color:new Gb.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(94, 154, 166)"},{offset:1,color:"rgb(94, 154, 166)"}])}},{name:"2015",data:Gx[1],type:"scatter",symbolSize:function(a){return Math.sqrt(a[2])/500},emphasis:{focus:"series",label:{show:!0,formatter:function(a){return a.data[3]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:new Gb.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(185, 93, 75)"},{offset:1,color:"rgb(185, 93, 75)"}])}}],color:["#49b6f5","#e6533c"]};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}function Gz(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{grid:{left:"5%",right:"0%",bottom:"10%",top:"10%"},xAxis:{data:["2017-10-24","2017-10-25","2017-10-26","2017-10-27"],splitLine:{lineStyle:{type:"dashed",color:"rgba(142, 156, 173,0.1)"}}},yAxis:{axisLine:{lineStyle:{color:"#8c9097"}},splitLine:{lineStyle:{color:"rgba(142, 156, 173,0.1)"}}},series:[{type:"candlestick",data:[[20,34,10,38],[40,35,30,50],[31,38,33,44],[38,15,5,42]],itemStyle:{normal:{color:"#845adf",color0:"#23b7e5",borderColor:"#845adf",borderColor0:"#23b7e5"}}}]}})}function GA(){let a={legend:{data:["Allocated Budget","Actual Spending"],left:"0%",top:"0%",textStyle:{color:"#777"}},radar:{indicator:[{name:"Sales",max:6500},{name:"Administration",max:16e3},{name:"Information Technology",max:3e4},{name:"Customer Support",max:38e3},{name:"Development",max:52e3},{name:"Marketing",max:25e3}]},series:[{name:"Budget vs spending",type:"radar",data:[{value:[4200,3e3,2e4,35e3,5e4,18e3],name:"Allocated Budget"},{value:[5e3,14e3,28e3,26e3,42e3,21e3],name:"Actual Spending"}]}],color:["#845adf","#23b7e5"]};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}function GB(){let a={title:{top:30,left:"center",text:"Daily Step Count"},tooltip:{},visualMap:{min:0,max:1e4,type:"piecewise",orient:"horizontal",left:"center",top:65},calendar:{top:120,left:30,right:30,cellSize:["auto",13],range:"2016",itemStyle:{borderWidth:.5},yearLabel:{show:!1}},series:{type:"heatmap",coordinateSystem:"calendar",data:function(a){a=a||"2017";for(var b=+Gc.parseDate(a+"-01-01"),c=+Gc.parseDate(+a+1+"-01-01"),d=[],e=b;e<c;e+=864e5)d.push([Ge.formatTime("yyyy-MM-dd",e),Math.floor(1e4*Math.random())]);return d}("2016")}};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}function GC(){let a={series:[{type:"treemap",data:[{name:"nodeA",value:10,children:[{name:"nodeAa",value:4},{name:"nodeAb",value:6}]},{name:"nodeB",value:20,children:[{name:"nodeBa",value:20,children:[{name:"nodeBa1",value:20}]}]}]}],color:["#845adf","#23b7e5"]};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}function GD(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},legend:{data:["Show","Click","Visit","Inquiry","Order"],textStyle:{color:"#777"}},series:[{name:"Funnel",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:[{value:60,name:"Visit"},{value:40,name:"Inquiry"},{value:20,name:"Order"},{value:80,name:"Click"},{value:100,name:"Show"}]}],color:["#845adf","#23b7e5","#f5b849","#e6533c","#49b6f5"]}})}function GE(){return(0,ac.jsx)(Gf,{className:"chartsh",option:{tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Pressure",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:50,name:"SCORE"}]}],color:["#845adf"]}})}function GF(){let a={tooltip:{},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",symbolSize:50,roam:!0,label:{show:!0},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,10],edgeLabel:{fontSize:20},data:[{name:"Node 1",x:300,y:300},{name:"Node 2",x:800,y:300},{name:"Node 3",x:550,y:100},{name:"Node 4",x:550,y:500}],links:[{source:0,target:1,symbolSize:[5,20],label:{show:!0},lineStyle:{width:5,curveness:.2}},{source:"Node 2",target:"Node 1",label:{show:!0},lineStyle:{curveness:.2}},{source:"Node 1",target:"Node 3"},{source:"Node 2",target:"Node 3"},{source:"Node 2",target:"Node 4"},{source:"Node 1",target:"Node 4"}],lineStyle:{opacity:.9,width:2,curveness:0}}],color:["#845adf"]};return(0,ac.jsx)(Gf,{className:"chartsh",option:a})}var GG=a.i(286214),GH=a.i(502806),GI=a.i(215388);a.s(["default",0,()=>(0,ac.jsxs)(GI.Fragment,{children:[(0,ac.jsx)(GH.default,{title:"Echarts"}),(0,ac.jsx)(GG.default,{currentpage:"Echarts",activepage:"Charts",mainpage:"Echarts"}),(0,ac.jsxs)("div",{className:"grid grid-cols-12 gap-x-6",children:[(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Basic Line Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-basic-line",className:"echart-charts",children:(0,ac.jsx)(Gg,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Smoothed Line Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-smoothed-line",className:"echart-charts",children:(0,ac.jsx)(Gh,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Basic Area Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-basic-area",className:"echart-charts",children:(0,ac.jsx)(Gi,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Stacked Line Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-stacked-line",className:"echart-charts",children:(0,ac.jsx)(Gj,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Stacked Area Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-stacked-area",className:"echart-charts",children:(0,ac.jsx)(Gk,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Basic Bar Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-bar-basic",className:"echart-charts",children:(0,ac.jsx)(Gl,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Bar With Background Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-bar-background",className:"echart-charts",children:(0,ac.jsx)(Gm,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Style For a Single Bar Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-bar-single",className:"echart-charts",children:(0,ac.jsx)(Gn,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Water Fall Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-waterfall",className:"echart-charts",children:(0,ac.jsx)(Go,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Bar With Negative Values Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-negative-values",className:"echart-charts",children:(0,ac.jsx)(Gq,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Horizontal Bar Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-bar-horizontal",className:"echart-charts",children:(0,ac.jsx)(Gs,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Horizontal Stacked Bar Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-stacked-horizontal",className:"echart-charts",children:(0,ac.jsx)(Gt,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Pie Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-pie",className:"echart-charts",children:(0,ac.jsx)(Gu,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Doughnut Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-doughnut",className:"echart-charts",children:(0,ac.jsx)(Gv,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Basic Scatter Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-scatter",className:"echart-charts",children:(0,ac.jsx)(Gw,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Bubble Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-bubble",className:"echart-charts",children:(0,ac.jsx)(Gy,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Candlestick Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-candlestick",className:"echart-charts",children:(0,ac.jsx)(Gz,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Basic Radar Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-basic-radar",className:"echart-charts",children:(0,ac.jsx)(GA,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Heatmap Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-heatmap",className:"echart-charts",children:(0,ac.jsx)(GB,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Treemap Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-treemap",className:"echart-charts",children:(0,ac.jsx)(GC,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Funnel Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-funnel",className:"echart-charts",children:(0,ac.jsx)(GD,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Basic Gauge Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-gauge-basic",className:"echart-charts",children:(0,ac.jsx)(GE,{})})})]})}),(0,ac.jsx)("div",{className:"xl:col-span-6 col-span-12",children:(0,ac.jsxs)("div",{className:"box custom-box",children:[(0,ac.jsx)("div",{className:"box-header",children:(0,ac.jsx)("div",{className:"box-title",children:"Simple Graph Chart"})}),(0,ac.jsx)("div",{className:"box-body",children:(0,ac.jsx)("div",{id:"echart-simple-graph",className:"echart-charts",children:(0,ac.jsx)(GF,{})})})]})})]})]})],58871)}];

//# sourceMappingURL=f2fd1_boilerplate_app_%28components%29_%28contentlayout%29_charts_echart_page_tsx_8895f5d8._.js.map